<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>UTxOErr.Ledger</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/hoare-ledgers/tree/master/UTxOErr/Ledger.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">------------------------------------------</a>
<a id="44" class="Comment">-- ** Denotational &amp; operational semantics</a>

<a id="88" class="Keyword">module</a> <a id="95" href="UTxOErr.Ledger.html" class="Module">UTxOErr.Ledger</a> <a id="110" class="Keyword">where</a>

<a id="117" class="Keyword">open</a> <a id="122" class="Keyword">import</a> <a id="129" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="141" class="Symbol">;</a> <a id="143" class="Keyword">open</a> <a id="148" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="158" class="Keyword">open</a> <a id="163" class="Keyword">import</a> <a id="170" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="186" class="Keyword">open</a> <a id="191" class="Keyword">import</a> <a id="198" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="242" class="Keyword">open</a> <a id="247" class="Keyword">import</a> <a id="254" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="266" class="Keyword">open</a> <a id="271" class="Keyword">import</a> <a id="278" href="Prelude.Semigroup.html" class="Module">Prelude.Semigroup</a>
<a id="296" class="Keyword">open</a> <a id="301" class="Keyword">import</a> <a id="308" href="Prelude.Monoid.html" class="Module">Prelude.Monoid</a>
<a id="323" class="Keyword">open</a> <a id="328" class="Keyword">import</a> <a id="335" href="Prelude.Functor.html" class="Module">Prelude.Functor</a>
<a id="351" class="Keyword">open</a> <a id="356" class="Keyword">import</a> <a id="363" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="386" class="Keyword">open</a> <a id="391" class="Keyword">import</a> <a id="398" href="Prelude.Apartness.html" class="Module">Prelude.Apartness</a>
<a id="416" class="Keyword">open</a> <a id="421" class="Keyword">import</a> <a id="428" href="Prelude.Monad.html" class="Module">Prelude.Monad</a>
<a id="442" class="Keyword">open</a> <a id="447" class="Keyword">import</a> <a id="454" href="Prelude.Membership.html" class="Module">Prelude.Membership</a>

<a id="474" class="Keyword">open</a> <a id="479" class="Keyword">import</a> <a id="486" href="UTxOErr.UTxO.html" class="Module">UTxOErr.UTxO</a>
<a id="499" class="Comment">-- open import UTxOErr.Maps</a>
<a id="527" class="Keyword">open</a> <a id="532" class="Keyword">import</a> <a id="539" href="Prelude.Maps.html" class="Module">Prelude.Maps</a> <a id="552" class="Keyword">hiding</a> <a id="559" class="Symbol">(</a><a id="560" href="Prelude.Maps.AsSets.html#581" class="InductiveConstructor Operator">_⊣_</a><a id="563" class="Symbol">)</a>

<a id="566" class="Keyword">variable</a>
  <a id="577" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a> <a id="579" href="UTxOErr.Ledger.html#579" class="Generalizable">s′</a> <a id="582" href="UTxOErr.Ledger.html#582" class="Generalizable">s″</a> <a id="585" href="UTxOErr.Ledger.html#585" class="Generalizable">s₁</a> <a id="588" href="UTxOErr.Ledger.html#588" class="Generalizable">s₁′</a> <a id="592" href="UTxOErr.Ledger.html#592" class="Generalizable">s₁″</a> <a id="596" href="UTxOErr.Ledger.html#596" class="Generalizable">s₂</a> <a id="599" href="UTxOErr.Ledger.html#599" class="Generalizable">s₂′</a> <a id="603" href="UTxOErr.Ledger.html#603" class="Generalizable">s₂″</a> <a id="607" href="UTxOErr.Ledger.html#607" class="Generalizable">s₃</a> <a id="610" href="UTxOErr.Ledger.html#610" class="Generalizable">s₃′</a> <a id="614" href="UTxOErr.Ledger.html#614" class="Generalizable">s₃″</a> <a id="618" href="UTxOErr.Ledger.html#618" class="Generalizable">s₂₃</a> <a id="622" href="UTxOErr.Ledger.html#622" class="Generalizable">s₂₃′</a> <a id="627" href="UTxOErr.Ledger.html#627" class="Generalizable">s₂₃″</a> <a id="632" class="Symbol">:</a> <a id="634" href="UTxOErr.UTxO.html#1022" class="Function">S</a>
  <a id="638" href="UTxOErr.Ledger.html#638" class="Generalizable">t</a> <a id="640" href="UTxOErr.Ledger.html#640" class="Generalizable">t′</a> <a id="643" href="UTxOErr.Ledger.html#643" class="Generalizable">t″</a> <a id="646" class="Symbol">:</a> <a id="648" href="Common.html#1452" class="Record">Tx</a>
  <a id="653" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="655" href="UTxOErr.Ledger.html#655" class="Generalizable">l′</a> <a id="658" href="UTxOErr.Ledger.html#658" class="Generalizable">l″</a> <a id="661" href="UTxOErr.Ledger.html#661" class="Generalizable">l₁</a> <a id="664" href="UTxOErr.Ledger.html#664" class="Generalizable">l₂</a> <a id="667" class="Symbol">:</a> <a id="669" href="Common.html#1622" class="Function">L</a>
  <a id="673" href="UTxOErr.Ledger.html#673" class="Generalizable">ls</a> <a id="676" href="UTxOErr.Ledger.html#676" class="Generalizable">ls′</a> <a id="680" href="UTxOErr.Ledger.html#680" class="Generalizable">ls″</a> <a id="684" class="Symbol">:</a> <a id="686" href="Common.html#1622" class="Function">L</a> <a id="688" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="690" href="UTxOErr.UTxO.html#1022" class="Function">S</a>

  <a id="695" href="UTxOErr.Ledger.html#695" class="Generalizable">ms</a> <a id="698" href="UTxOErr.Ledger.html#698" class="Generalizable">ms′</a> <a id="702" href="UTxOErr.Ledger.html#702" class="Generalizable">ms″</a> <a id="706" class="Symbol">:</a> <a id="708" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="714" href="UTxOErr.UTxO.html#1022" class="Function">S</a>
  <a id="718" href="UTxOErr.Ledger.html#718" class="Generalizable">mls</a> <a id="722" href="UTxOErr.Ledger.html#722" class="Generalizable">mls′</a> <a id="727" href="UTxOErr.Ledger.html#727" class="Generalizable">mls″</a> <a id="732" class="Symbol">:</a> <a id="734" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="740" class="Symbol">(</a><a id="741" href="Common.html#1622" class="Function">L</a> <a id="743" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="745" href="UTxOErr.UTxO.html#1022" class="Function">S</a><a id="746" class="Symbol">)</a>

<a id="749" class="Comment">-- ** Denotational semantics</a>

<a id="779" class="Comment">-- The meaning of a transaction or a whole ledger will be denoted by state transformers,</a>
<a id="868" class="Comment">-- i.e. a function from the current state to the updated one that may produce an error.</a>
<a id="Domain"></a><a id="956" href="UTxOErr.Ledger.html#956" class="Function">Domain</a> <a id="963" class="Symbol">=</a> <a id="965" href="UTxOErr.UTxO.html#1022" class="Function">S</a> <a id="967" class="Symbol">→</a> <a id="969" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="975" href="UTxOErr.UTxO.html#1022" class="Function">S</a>

<a id="978" class="Keyword">record</a> <a id="Denotable"></a><a id="985" href="UTxOErr.Ledger.html#985" class="Record">Denotable</a> <a id="995" class="Symbol">(</a><a id="996" href="UTxOErr.Ledger.html#996" class="Bound">A</a> <a id="998" class="Symbol">:</a> <a id="1000" href="Agda.Primitive.html#320" class="Primitive">Type</a><a id="1004" class="Symbol">)</a> <a id="1006" class="Symbol">:</a> <a id="1008" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1013" class="Keyword">where</a>
  <a id="1021" class="Keyword">field</a> <a id="Denotable.⟦_⟧"></a><a id="1027" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦_⟧</a> <a id="1031" class="Symbol">:</a> <a id="1033" href="UTxOErr.Ledger.html#996" class="Bound">A</a> <a id="1035" class="Symbol">→</a> <a id="1037" href="UTxOErr.Ledger.html#956" class="Function">Domain</a>
<a id="1044" class="Keyword">open</a> <a id="1049" href="UTxOErr.Ledger.html#985" class="Module">Denotable</a> <a id="1059" class="Symbol">⦃...⦄</a> <a id="1065" class="Keyword">public</a>

<a id="1073" class="Comment">-- pure fragment without error-handling</a>
<a id="Domain₀"></a><a id="1113" href="UTxOErr.Ledger.html#1113" class="Function">Domain₀</a> <a id="1121" class="Symbol">=</a> <a id="1123" href="UTxOErr.UTxO.html#1022" class="Function">S</a> <a id="1125" class="Symbol">→</a> <a id="1127" href="UTxOErr.UTxO.html#1022" class="Function">S</a>

<a id="1130" class="Keyword">record</a> <a id="Denotable₀"></a><a id="1137" href="UTxOErr.Ledger.html#1137" class="Record">Denotable₀</a> <a id="1148" class="Symbol">(</a><a id="1149" href="UTxOErr.Ledger.html#1149" class="Bound">A</a> <a id="1151" class="Symbol">:</a> <a id="1153" href="Agda.Primitive.html#320" class="Primitive">Type</a><a id="1157" class="Symbol">)</a> <a id="1159" class="Symbol">:</a> <a id="1161" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1166" class="Keyword">where</a>
  <a id="1174" class="Keyword">field</a> <a id="Denotable₀.⟦_⟧₀"></a><a id="1180" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟦_⟧₀</a> <a id="1185" class="Symbol">:</a> <a id="1187" href="UTxOErr.Ledger.html#1149" class="Bound">A</a> <a id="1189" class="Symbol">→</a> <a id="1191" href="UTxOErr.Ledger.html#1113" class="Function">Domain₀</a>
<a id="1199" class="Keyword">open</a> <a id="1204" href="UTxOErr.Ledger.html#1137" class="Module">Denotable₀</a> <a id="1215" class="Symbol">⦃...⦄</a> <a id="1221" class="Keyword">public</a>

<a id="1229" class="Keyword">instance</a>
  <a id="1240" class="Comment">-- we denote a transaction as simply running the transaction based on the transfer operation above</a>
  <a id="⟦Tx⟧₀"></a><a id="1341" href="UTxOErr.Ledger.html#1341" class="Function">⟦Tx⟧₀</a> <a id="1347" class="Symbol">:</a> <a id="1349" href="UTxOErr.Ledger.html#1137" class="Record">Denotable₀</a> <a id="1360" href="Common.html#1452" class="Record">Tx</a>
  <a id="1365" href="UTxOErr.Ledger.html#1341" class="Function">⟦Tx⟧₀</a> <a id="1371" class="Symbol">.</a><a id="1372" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟦_⟧₀</a> <a id="1377" href="UTxOErr.Ledger.html#1377" class="Bound">tx</a> <a id="1380" href="UTxOErr.Ledger.html#1380" class="Bound">utxos</a> <a id="1386" class="Symbol">=</a> <a id="1388" class="Symbol">(</a><a id="1389" href="UTxOErr.Ledger.html#1380" class="Bound">utxos</a> <a id="1395" href="UTxOErr.UTxO.html#1673" class="Function Operator">─ᵏˢ</a> <a id="1399" href="Common.html#2104" class="Function">outputRefs</a> <a id="1410" href="UTxOErr.Ledger.html#1377" class="Bound">tx</a><a id="1412" class="Symbol">)</a> <a id="1414" href="Prelude.Maps.AsSets.html#1469" class="Function Operator">∪</a> <a id="1416" href="UTxOErr.UTxO.html#1294" class="Function">utxoTx</a> <a id="1423" href="UTxOErr.Ledger.html#1377" class="Bound">tx</a>

  <a id="⟦Tx⟧"></a><a id="1429" href="UTxOErr.Ledger.html#1429" class="Function">⟦Tx⟧</a> <a id="1434" class="Symbol">:</a> <a id="1436" href="UTxOErr.Ledger.html#985" class="Record">Denotable</a> <a id="1446" href="Common.html#1452" class="Record">Tx</a>
  <a id="1451" href="UTxOErr.Ledger.html#1429" class="Function">⟦Tx⟧</a> <a id="1456" class="Symbol">.</a><a id="1457" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦_⟧</a> <a id="1461" href="UTxOErr.Ledger.html#1461" class="Bound">tx</a> <a id="1464" href="UTxOErr.Ledger.html#1464" class="Bound">s</a> <a id="1466" class="Symbol">=</a> <a id="1468" href="Data.Maybe.Base.html#2459" class="Function">M.when</a> <a id="1475" class="Symbol">(</a><a id="1476" href="UTxOErr.UTxO.html#8244" class="Function">isValidTx</a> <a id="1486" href="UTxOErr.Ledger.html#1461" class="Bound">tx</a> <a id="1489" href="UTxOErr.Ledger.html#1464" class="Bound">s</a><a id="1490" class="Symbol">)</a> <a id="1492" class="Symbol">(</a><a id="1493" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟦</a> <a id="1495" href="UTxOErr.Ledger.html#1461" class="Bound">tx</a> <a id="1498" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="1501" href="UTxOErr.Ledger.html#1464" class="Bound">s</a><a id="1502" class="Symbol">)</a>

  <a id="1507" class="Comment">-- we denote a ledger as the composition of the denotations of its transactions,</a>
  <a id="1590" class="Comment">-- i.e. we run all transactions in sequence</a>
  <a id="⟦L⟧₀"></a><a id="1636" href="UTxOErr.Ledger.html#1636" class="Function">⟦L⟧₀</a> <a id="1641" class="Symbol">:</a> <a id="1643" href="UTxOErr.Ledger.html#1137" class="Record">Denotable₀</a> <a id="1654" href="Common.html#1622" class="Function">L</a>
  <a id="1658" href="UTxOErr.Ledger.html#1636" class="Function">⟦L⟧₀</a> <a id="1663" class="Symbol">.</a><a id="1664" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟦_⟧₀</a> <a id="1669" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>      <a id="1677" class="Symbol">=</a> <a id="1679" href="Function.Base.html#624" class="Function">id</a>
  <a id="1684" href="UTxOErr.Ledger.html#1636" class="Function">⟦L⟧₀</a> <a id="1689" class="Symbol">.</a><a id="1690" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟦_⟧₀</a> <a id="1695" class="Symbol">(</a><a id="1696" href="UTxOErr.Ledger.html#1696" class="Bound">t</a> <a id="1698" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1700" href="UTxOErr.Ledger.html#1700" class="Bound">l</a><a id="1701" class="Symbol">)</a> <a id="1703" class="Symbol">=</a> <a id="1705" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟦</a> <a id="1707" href="UTxOErr.Ledger.html#1700" class="Bound">l</a> <a id="1709" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="1712" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1714" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟦</a> <a id="1716" href="UTxOErr.Ledger.html#1696" class="Bound">t</a> <a id="1718" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a>

  <a id="⟦L⟧"></a><a id="1724" href="UTxOErr.Ledger.html#1724" class="Function">⟦L⟧</a> <a id="1728" class="Symbol">:</a> <a id="1730" href="UTxOErr.Ledger.html#985" class="Record">Denotable</a> <a id="1740" href="Common.html#1622" class="Function">L</a>
  <a id="1744" href="UTxOErr.Ledger.html#1724" class="Function">⟦L⟧</a> <a id="1748" class="Symbol">.</a><a id="1749" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦_⟧</a> <a id="1753" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>      <a id="1761" href="UTxOErr.Ledger.html#1761" class="Bound">s</a> <a id="1763" class="Symbol">=</a> <a id="1765" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="1770" href="UTxOErr.Ledger.html#1761" class="Bound">s</a>
  <a id="1774" href="UTxOErr.Ledger.html#1724" class="Function">⟦L⟧</a> <a id="1778" class="Symbol">.</a><a id="1779" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦_⟧</a> <a id="1783" class="Symbol">(</a><a id="1784" href="UTxOErr.Ledger.html#1784" class="Bound">t</a> <a id="1786" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1788" href="UTxOErr.Ledger.html#1788" class="Bound">l</a><a id="1789" class="Symbol">)</a> <a id="1791" class="Symbol">=</a> <a id="1793" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="1795" href="UTxOErr.Ledger.html#1784" class="Bound">t</a> <a id="1797" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="1799" href="Prelude.Monad.html#775" class="Function Operator">&gt;=&gt;</a> <a id="1803" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="1805" href="UTxOErr.Ledger.html#1788" class="Bound">l</a> <a id="1807" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a>

<a id="comp₀"></a><a id="1810" href="UTxOErr.Ledger.html#1810" class="Function">comp₀</a> <a id="1816" class="Symbol">:</a> <a id="1818" class="Symbol">∀</a> <a id="1820" href="UTxOErr.Ledger.html#1820" class="Bound">x</a> <a id="1822" class="Symbol">→</a> <a id="1824" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟦</a> <a id="1826" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="1828" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="1831" href="UTxOErr.Ledger.html#655" class="Generalizable">l′</a> <a id="1834" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="1837" href="UTxOErr.Ledger.html#1820" class="Bound">x</a> <a id="1839" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1841" class="Symbol">(</a><a id="1842" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟦</a> <a id="1844" href="UTxOErr.Ledger.html#655" class="Generalizable">l′</a> <a id="1847" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="1850" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1852" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟦</a> <a id="1854" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="1856" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a><a id="1858" class="Symbol">)</a> <a id="1860" href="UTxOErr.Ledger.html#1820" class="Bound">x</a>
<a id="1862" href="UTxOErr.Ledger.html#1810" class="Function">comp₀</a> <a id="1868" class="Symbol">{</a><a id="1869" class="Argument">l</a> <a id="1871" class="Symbol">=</a> <a id="1873" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="1875" class="Symbol">}</a>    <a id="1880" class="Symbol">_</a> <a id="1882" class="Symbol">=</a> <a id="1884" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="1889" href="UTxOErr.Ledger.html#1810" class="Function">comp₀</a> <a id="1895" class="Symbol">{</a><a id="1896" class="Argument">l</a> <a id="1898" class="Symbol">=</a> <a id="1900" href="UTxOErr.Ledger.html#1900" class="Bound">t</a> <a id="1902" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1904" href="UTxOErr.Ledger.html#1904" class="Bound">l</a><a id="1905" class="Symbol">}</a> <a id="1907" href="UTxOErr.Ledger.html#1907" class="Bound">x</a> <a id="1909" class="Symbol">=</a> <a id="1911" href="UTxOErr.Ledger.html#1810" class="Function">comp₀</a> <a id="1917" class="Symbol">{</a><a id="1918" href="UTxOErr.Ledger.html#1904" class="Bound">l</a><a id="1919" class="Symbol">}</a> <a id="1921" class="Symbol">(</a><a id="1922" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟦</a> <a id="1924" href="UTxOErr.Ledger.html#1900" class="Bound">t</a> <a id="1926" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="1929" href="UTxOErr.Ledger.html#1907" class="Bound">x</a><a id="1930" class="Symbol">)</a>

<a id="comp"></a><a id="1933" href="UTxOErr.Ledger.html#1933" class="Function">comp</a> <a id="1938" class="Symbol">:</a> <a id="1940" class="Symbol">∀</a> <a id="1942" href="UTxOErr.Ledger.html#1942" class="Bound">x</a> <a id="1944" class="Symbol">→</a> <a id="1946" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="1948" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="1950" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="1953" href="UTxOErr.Ledger.html#655" class="Generalizable">l′</a> <a id="1956" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="1958" href="UTxOErr.Ledger.html#1942" class="Bound">x</a> <a id="1960" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1962" class="Symbol">(</a><a id="1963" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="1965" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="1967" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="1969" href="Prelude.Monad.html#775" class="Function Operator">&gt;=&gt;</a> <a id="1973" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="1975" href="UTxOErr.Ledger.html#655" class="Generalizable">l′</a> <a id="1978" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a><a id="1979" class="Symbol">)</a> <a id="1981" href="UTxOErr.Ledger.html#1942" class="Bound">x</a>
<a id="1983" href="UTxOErr.Ledger.html#1933" class="Function">comp</a> <a id="1988" class="Symbol">{</a><a id="1989" class="Argument">l</a> <a id="1991" class="Symbol">=</a> <a id="1993" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="1995" class="Symbol">}</a>    <a id="2000" href="UTxOErr.Ledger.html#2000" class="Bound">x</a> <a id="2002" class="Symbol">=</a> <a id="2004" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="2009" href="UTxOErr.Ledger.html#1933" class="Function">comp</a> <a id="2014" class="Symbol">{</a><a id="2015" class="Argument">l</a> <a id="2017" class="Symbol">=</a> <a id="2019" href="UTxOErr.Ledger.html#2019" class="Bound">t</a> <a id="2021" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2023" href="UTxOErr.Ledger.html#2023" class="Bound">l</a><a id="2024" class="Symbol">}</a> <a id="2026" href="UTxOErr.Ledger.html#2026" class="Bound">x</a> <a id="2028" class="Keyword">with</a> <a id="2033" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="2035" href="UTxOErr.Ledger.html#2019" class="Bound">t</a> <a id="2037" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="2039" href="UTxOErr.Ledger.html#2026" class="Bound">x</a>
<a id="2041" class="Symbol">...</a> <a id="2045" class="Symbol">|</a> <a id="2047" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a> <a id="2055" class="Symbol">=</a> <a id="2057" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="2062" class="Symbol">...</a> <a id="2066" class="Symbol">|</a> <a id="2068" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="2073" href="UTxOErr.Ledger.html#2073" class="Bound">s</a>  <a id="2076" class="Symbol">=</a> <a id="2078" href="UTxOErr.Ledger.html#1933" class="Function">comp</a> <a id="2083" class="Symbol">{</a><a id="2084" class="Bound">l</a><a id="2085" class="Symbol">}</a> <a id="2087" href="UTxOErr.Ledger.html#2073" class="Bound">s</a>

<a id="2090" class="Comment">-- valid ledgers w.r.t. a given initial state</a>
<a id="2136" class="Keyword">data</a> <a id="VL"></a><a id="2141" href="UTxOErr.Ledger.html#2141" class="Datatype">VL</a> <a id="2144" class="Symbol">:</a> <a id="2146" href="UTxOErr.UTxO.html#1022" class="Function">S</a> <a id="2148" class="Symbol">→</a> <a id="2150" href="Common.html#1622" class="Function">L</a> <a id="2152" class="Symbol">→</a> <a id="2154" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="2159" class="Keyword">where</a>
  <a id="VL.[]"></a><a id="2167" href="UTxOErr.Ledger.html#2167" class="InductiveConstructor">[]</a> <a id="2170" class="Symbol">:</a> <a id="2172" href="UTxOErr.Ledger.html#2141" class="Datatype">VL</a> <a id="2175" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a> <a id="2177" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
  <a id="VL._⊣_∷_"></a><a id="2182" href="UTxOErr.Ledger.html#2182" class="InductiveConstructor Operator">_⊣_∷_</a> <a id="2188" class="Symbol">:</a> <a id="2190" class="Symbol">∀</a> <a id="2192" href="UTxOErr.Ledger.html#2192" class="Bound">tx</a> <a id="2195" class="Symbol">→</a>
    <a id="2201" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="2203" href="UTxOErr.UTxO.html#5826" class="Record">IsValidTx</a> <a id="2213" href="UTxOErr.Ledger.html#2192" class="Bound">tx</a> <a id="2216" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a>
    <a id="2222" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="2224" href="UTxOErr.Ledger.html#2141" class="Datatype">VL</a> <a id="2227" class="Symbol">(</a><a id="2228" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟦</a> <a id="2230" href="UTxOErr.Ledger.html#2192" class="Bound">tx</a> <a id="2233" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="2236" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a><a id="2237" class="Symbol">)</a> <a id="2239" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a>
      <a id="2247" href="Prelude.InferenceRules.html#14232" class="Function Operator">────────────────</a>
      <a id="2270" href="UTxOErr.Ledger.html#2141" class="Datatype">VL</a> <a id="2273" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a> <a id="2275" class="Symbol">(</a><a id="2276" href="UTxOErr.Ledger.html#2192" class="Bound">tx</a> <a id="2279" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2281" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a><a id="2282" class="Symbol">)</a>

<a id="VL⇒Resolved"></a><a id="2285" href="UTxOErr.Ledger.html#2285" class="Function">VL⇒Resolved</a> <a id="2297" class="Symbol">:</a> <a id="2299" href="UTxOErr.Ledger.html#2141" class="Datatype">VL</a> <a id="2302" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a> <a id="2304" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="2306" class="Symbol">→</a> <a id="2308" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="2312" href="Common.html#2180" class="Function">Resolved</a> <a id="2321" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a>
<a id="2323" href="UTxOErr.Ledger.html#2285" class="Function">VL⇒Resolved</a> <a id="2335" href="UTxOErr.Ledger.html#2167" class="InductiveConstructor">[]</a> <a id="2338" class="Symbol">=</a> <a id="2340" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a>
<a id="2343" href="UTxOErr.Ledger.html#2285" class="Function">VL⇒Resolved</a> <a id="2355" class="Symbol">(</a><a id="2356" href="UTxOErr.Ledger.html#2356" class="Bound">tx</a> <a id="2359" href="UTxOErr.Ledger.html#2182" class="InductiveConstructor Operator">⊣</a> <a id="2361" href="UTxOErr.Ledger.html#2361" class="Bound">p</a> <a id="2363" href="UTxOErr.Ledger.html#2182" class="InductiveConstructor Operator">∷</a> <a id="2365" href="UTxOErr.Ledger.html#2365" class="Bound">l</a><a id="2366" class="Symbol">)</a> <a id="2368" class="Symbol">=</a> <a id="2370" href="UTxOErr.UTxO.html#6012" class="Function">resolved</a> <a id="2379" href="UTxOErr.Ledger.html#2361" class="Bound">p</a> <a id="2381" href="Data.List.Relation.Unary.All.html#1533" class="InductiveConstructor Operator">∷</a> <a id="2383" href="UTxOErr.Ledger.html#2285" class="Function">VL⇒Resolved</a> <a id="2395" href="UTxOErr.Ledger.html#2365" class="Bound">l</a>

<a id="2398" class="Comment">-- ** Operational semantics</a>

<a id="2427" class="Keyword">infix</a> <a id="2433" class="Number">0</a> <a id="2435" href="UTxOErr.Ledger.html#2445" class="Datatype Operator">_—→_</a>
<a id="2440" class="Keyword">data</a> <a id="_—→_"></a><a id="2445" href="UTxOErr.Ledger.html#2445" class="Datatype Operator">_—→_</a> <a id="2450" class="Symbol">:</a> <a id="2452" href="Common.html#1622" class="Function">L</a> <a id="2454" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="2456" href="UTxOErr.UTxO.html#1022" class="Function">S</a> <a id="2458" class="Symbol">→</a> <a id="2460" href="UTxOErr.UTxO.html#1022" class="Function">S</a> <a id="2462" class="Symbol">→</a> <a id="2464" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="2469" class="Keyword">where</a>

  <a id="_—→_.base"></a><a id="2478" href="UTxOErr.Ledger.html#2478" class="InductiveConstructor">base</a> <a id="2483" class="Symbol">:</a>
    <a id="2489" href="Prelude.InferenceRules.html#47758" class="Function Operator">───────────</a>
    <a id="2505" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="2508" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2510" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a> <a id="2512" href="UTxOErr.Ledger.html#2445" class="Datatype Operator">—→</a> <a id="2515" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a>

  <a id="_—→_.step"></a><a id="2520" href="UTxOErr.Ledger.html#2520" class="InductiveConstructor">step</a> <a id="2525" class="Symbol">:</a>
    <a id="2531" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="2533" href="UTxOErr.UTxO.html#5826" class="Record">IsValidTx</a> <a id="2543" href="UTxOErr.Ledger.html#638" class="Generalizable">t</a> <a id="2545" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a>
    <a id="2551" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="2553" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="2555" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2557" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟦</a> <a id="2559" href="UTxOErr.Ledger.html#638" class="Generalizable">t</a> <a id="2561" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="2564" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a> <a id="2566" href="UTxOErr.Ledger.html#2445" class="Datatype Operator">—→</a> <a id="2569" href="UTxOErr.Ledger.html#579" class="Generalizable">s′</a>
      <a id="2578" href="Prelude.InferenceRules.html#14187" class="Function Operator">──────────────────</a>
      <a id="2603" href="UTxOErr.Ledger.html#638" class="Generalizable">t</a> <a id="2605" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2607" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="2609" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2611" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a> <a id="2613" href="UTxOErr.Ledger.html#2445" class="Datatype Operator">—→</a> <a id="2616" href="UTxOErr.Ledger.html#579" class="Generalizable">s′</a>

<a id="oper-comp"></a><a id="2620" href="UTxOErr.Ledger.html#2620" class="Function">oper-comp</a> <a id="2630" class="Symbol">:</a>
  <a id="2634" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="2636" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a>       <a id="2644" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2646" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a>  <a id="2649" href="UTxOErr.Ledger.html#2445" class="Datatype Operator">—→</a> <a id="2652" href="UTxOErr.Ledger.html#579" class="Generalizable">s′</a>
  <a id="2657" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="2659" href="UTxOErr.Ledger.html#655" class="Generalizable">l′</a>      <a id="2667" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2669" href="UTxOErr.Ledger.html#579" class="Generalizable">s′</a> <a id="2672" href="UTxOErr.Ledger.html#2445" class="Datatype Operator">—→</a> <a id="2675" href="UTxOErr.Ledger.html#582" class="Generalizable">s″</a>
    <a id="2682" href="Prelude.InferenceRules.html#14187" class="Function Operator">──────────────────</a>
    <a id="2705" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="2707" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="2710" href="UTxOErr.Ledger.html#655" class="Generalizable">l′</a> <a id="2713" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2715" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a>  <a id="2718" href="UTxOErr.Ledger.html#2445" class="Datatype Operator">—→</a> <a id="2721" href="UTxOErr.Ledger.html#582" class="Generalizable">s″</a>
<a id="2724" href="UTxOErr.Ledger.html#2620" class="Function">oper-comp</a> <a id="2734" class="Symbol">{</a><a id="2735" class="Argument">l</a> <a id="2737" class="Symbol">=</a> <a id="2739" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="2741" class="Symbol">}</a>    <a id="2746" href="UTxOErr.Ledger.html#2478" class="InductiveConstructor">base</a>              <a id="2764" href="UTxOErr.Ledger.html#2764" class="Bound">s′→s″</a> <a id="2770" class="Symbol">=</a> <a id="2772" href="UTxOErr.Ledger.html#2764" class="Bound">s′→s″</a>
<a id="2778" href="UTxOErr.Ledger.html#2620" class="Function">oper-comp</a> <a id="2788" class="Symbol">{</a><a id="2789" class="Argument">l</a> <a id="2791" class="Symbol">=</a> <a id="2793" class="Symbol">_</a> <a id="2795" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2797" class="Symbol">_}</a> <a id="2800" class="Symbol">(</a><a id="2801" href="UTxOErr.Ledger.html#2520" class="InductiveConstructor">step</a> <a id="2806" href="UTxOErr.Ledger.html#2806" class="Bound">valid</a> <a id="2812" href="UTxOErr.Ledger.html#2812" class="Bound">s→s′</a><a id="2816" class="Symbol">)</a> <a id="2818" href="UTxOErr.Ledger.html#2818" class="Bound">s′→s″</a> <a id="2824" class="Symbol">=</a> <a id="2826" href="UTxOErr.Ledger.html#2520" class="InductiveConstructor">step</a> <a id="2831" href="UTxOErr.Ledger.html#2806" class="Bound">valid</a> <a id="2837" class="Symbol">(</a><a id="2838" href="UTxOErr.Ledger.html#2620" class="Function">oper-comp</a> <a id="2848" href="UTxOErr.Ledger.html#2812" class="Bound">s→s′</a> <a id="2853" href="UTxOErr.Ledger.html#2818" class="Bound">s′→s″</a><a id="2858" class="Symbol">)</a>

<a id="2861" class="Comment">-- ** Relating denotational and operational semantics.</a>
<a id="denot⇒oper"></a><a id="2916" href="UTxOErr.Ledger.html#2916" class="Function">denot⇒oper</a> <a id="2927" class="Symbol">:</a>
  <a id="2931" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="2933" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="2935" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="2937" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a> <a id="2939" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2941" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="2946" href="UTxOErr.Ledger.html#579" class="Generalizable">s′</a>
  <a id="2951" href="Prelude.InferenceRules.html#14210" class="Function Operator">─────────────────</a>
  <a id="2971" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="2973" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2975" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a> <a id="2977" href="UTxOErr.Ledger.html#2445" class="Datatype Operator">—→</a> <a id="2980" href="UTxOErr.Ledger.html#579" class="Generalizable">s′</a>
<a id="2983" href="UTxOErr.Ledger.html#2916" class="Function">denot⇒oper</a> <a id="2994" class="Symbol">{</a><a id="2995" class="Argument">l</a> <a id="2997" class="Symbol">=</a> <a id="2999" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="3001" class="Symbol">}</a> <a id="3003" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="3008" class="Symbol">=</a> <a id="3010" href="UTxOErr.Ledger.html#2478" class="InductiveConstructor">base</a>
<a id="3015" href="UTxOErr.Ledger.html#2916" class="Function">denot⇒oper</a> <a id="3026" class="Symbol">{</a><a id="3027" class="Argument">l</a> <a id="3029" class="Symbol">=</a> <a id="3031" href="UTxOErr.Ledger.html#3031" class="Bound">t</a> <a id="3033" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3035" href="UTxOErr.Ledger.html#3035" class="Bound">l</a><a id="3036" class="Symbol">}{</a><a id="3038" href="UTxOErr.Ledger.html#3038" class="Bound">s</a><a id="3039" class="Symbol">}</a> <a id="3041" href="UTxOErr.Ledger.html#3041" class="Bound">l≡</a>
  <a id="3046" class="Keyword">with</a> <a id="3051" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="3055" href="UTxOErr.Ledger.html#3055" class="Bound">valid</a> ← <a id="3063" href="UTxOErr.UTxO.html#7208" class="Function">isValidTx?</a> <a id="3074" href="UTxOErr.Ledger.html#3031" class="Bound">t</a> <a id="3076" href="UTxOErr.Ledger.html#3038" class="Bound">s</a>
  <a id="3080" class="Symbol">=</a> <a id="3082" href="UTxOErr.Ledger.html#2520" class="InductiveConstructor">step</a> <a id="3087" href="UTxOErr.Ledger.html#3055" class="Bound">valid</a> <a id="3093" class="Symbol">(</a><a id="3094" href="UTxOErr.Ledger.html#2916" class="Function">denot⇒oper</a> <a id="3105" href="UTxOErr.Ledger.html#3041" class="Bound">l≡</a><a id="3107" class="Symbol">)</a>

<a id="oper⇒denot"></a><a id="3110" href="UTxOErr.Ledger.html#3110" class="Function">oper⇒denot</a> <a id="3121" class="Symbol">:</a>
  <a id="3125" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="3127" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3129" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a> <a id="3131" href="UTxOErr.Ledger.html#2445" class="Datatype Operator">—→</a> <a id="3134" href="UTxOErr.Ledger.html#579" class="Generalizable">s′</a>
  <a id="3139" href="Prelude.InferenceRules.html#14210" class="Function Operator">─────────────────</a>
  <a id="3159" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="3161" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="3163" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="3165" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a> <a id="3167" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3169" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="3174" href="UTxOErr.Ledger.html#579" class="Generalizable">s′</a>
<a id="3177" href="UTxOErr.Ledger.html#3110" class="Function">oper⇒denot</a> <a id="3188" class="Symbol">{</a><a id="3189" class="Argument">l</a> <a id="3191" class="Symbol">=</a> <a id="3193" class="DottedPattern Symbol">.</a><a id="3194" href="Agda.Builtin.List.html#167" class="DottedPattern InductiveConstructor">[]</a><a id="3196" class="Symbol">}</a> <a id="3198" href="UTxOErr.Ledger.html#2478" class="InductiveConstructor">base</a> <a id="3203" class="Symbol">=</a> <a id="3205" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="3210" href="UTxOErr.Ledger.html#3110" class="Function">oper⇒denot</a> <a id="3221" class="Symbol">{</a><a id="3222" class="Argument">l</a> <a id="3224" class="Symbol">=</a> <a id="3226" href="UTxOErr.Ledger.html#3226" class="Bound">t</a> <a id="3228" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3230" class="Symbol">_}{</a><a id="3233" href="UTxOErr.Ledger.html#3233" class="Bound">s</a><a id="3234" class="Symbol">}</a> <a id="3236" class="Symbol">(</a><a id="3237" href="UTxOErr.Ledger.html#2520" class="InductiveConstructor">step</a> <a id="3242" href="UTxOErr.Ledger.html#3242" class="Bound">valid</a> <a id="3248" href="UTxOErr.Ledger.html#3248" class="Bound">p</a><a id="3249" class="Symbol">)</a>
  <a id="3253" class="Keyword">rewrite</a> <a id="3261" href="Relation.Nullary.Decidable.Core.html#3175" class="Function">dec-yes</a> <a id="3269" class="Symbol">(</a><a id="3270" href="UTxOErr.UTxO.html#7208" class="Function">isValidTx?</a> <a id="3281" href="UTxOErr.Ledger.html#3226" class="Bound">t</a> <a id="3283" href="UTxOErr.Ledger.html#3233" class="Bound">s</a><a id="3284" class="Symbol">)</a> <a id="3286" href="UTxOErr.Ledger.html#3242" class="Bound">valid</a> <a id="3292" class="Symbol">.</a><a id="3293" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="3301" class="Symbol">=</a> <a id="3303" href="UTxOErr.Ledger.html#3110" class="Function">oper⇒denot</a> <a id="3314" href="UTxOErr.Ledger.html#3248" class="Bound">p</a>

<a id="denot⇔oper"></a><a id="3317" href="UTxOErr.Ledger.html#3317" class="Function">denot⇔oper</a> <a id="3328" class="Symbol">:</a>
  <a id="3332" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="3334" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="3336" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="3338" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a> <a id="3340" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3342" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="3347" href="UTxOErr.Ledger.html#579" class="Generalizable">s′</a>
  <a id="3352" href="Prelude.InferenceRules.html#70270" class="Function Operator">═════════════════</a>
  <a id="3372" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="3374" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3376" href="UTxOErr.Ledger.html#577" class="Generalizable">s</a> <a id="3378" href="UTxOErr.Ledger.html#2445" class="Datatype Operator">—→</a> <a id="3381" href="UTxOErr.Ledger.html#579" class="Generalizable">s′</a>
<a id="3384" href="UTxOErr.Ledger.html#3317" class="Function">denot⇔oper</a> <a id="3395" class="Symbol">=</a> <a id="3397" href="UTxOErr.Ledger.html#2916" class="Function">denot⇒oper</a> <a id="3408" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3410" href="UTxOErr.Ledger.html#3110" class="Function">oper⇒denot</a>
</pre></body></html>