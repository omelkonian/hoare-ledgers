<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>EUTxOErr.Ledger</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/hoare-ledgers/tree/master///EUTxOErr/Ledger.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">------------------------------------------</a>
<a id="44" class="Comment">-- ** Denotational &amp; operational semantics</a>

<a id="88" class="Keyword">module</a> <a id="95" href="EUTxOErr.Ledger.html" class="Module">EUTxOErr.Ledger</a> <a id="111" class="Keyword">where</a>

<a id="118" class="Keyword">open</a> <a id="123" class="Keyword">import</a> <a id="130" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="142" class="Symbol">;</a> <a id="144" class="Keyword">open</a> <a id="149" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="159" class="Keyword">open</a> <a id="164" class="Keyword">import</a> <a id="171" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="187" class="Keyword">open</a> <a id="192" class="Keyword">import</a> <a id="199" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="213" class="Keyword">open</a> <a id="218" class="Keyword">import</a> <a id="225" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="243" class="Keyword">open</a> <a id="248" class="Keyword">import</a> <a id="255" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="267" class="Keyword">open</a> <a id="272" class="Keyword">import</a> <a id="279" href="Prelude.Semigroup.html" class="Module">Prelude.Semigroup</a>
<a id="297" class="Keyword">open</a> <a id="302" class="Keyword">import</a> <a id="309" href="Prelude.Monoid.html" class="Module">Prelude.Monoid</a>
<a id="324" class="Keyword">open</a> <a id="329" class="Keyword">import</a> <a id="336" href="Prelude.Functor.html" class="Module">Prelude.Functor</a>
<a id="352" class="Keyword">open</a> <a id="357" class="Keyword">import</a> <a id="364" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="387" class="Keyword">open</a> <a id="392" class="Keyword">import</a> <a id="399" href="Prelude.Apartness.html" class="Module">Prelude.Apartness</a>
<a id="417" class="Keyword">open</a> <a id="422" class="Keyword">import</a> <a id="429" href="Prelude.Monad.html" class="Module">Prelude.Monad</a>
<a id="443" class="Keyword">open</a> <a id="448" class="Keyword">import</a> <a id="455" href="Prelude.Membership.html" class="Module">Prelude.Membership</a>

<a id="475" class="Keyword">open</a> <a id="480" class="Keyword">import</a> <a id="487" href="EUTxOErr.EUTxO.html" class="Module">EUTxOErr.EUTxO</a>

<a id="503" class="Keyword">variable</a>
  <a id="514" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a> <a id="516" href="EUTxOErr.Ledger.html#516" class="Generalizable">s′</a> <a id="519" href="EUTxOErr.Ledger.html#519" class="Generalizable">s″</a> <a id="522" href="EUTxOErr.Ledger.html#522" class="Generalizable">s₁</a> <a id="525" href="EUTxOErr.Ledger.html#525" class="Generalizable">s₁′</a> <a id="529" href="EUTxOErr.Ledger.html#529" class="Generalizable">s₁″</a> <a id="533" href="EUTxOErr.Ledger.html#533" class="Generalizable">s₂</a> <a id="536" href="EUTxOErr.Ledger.html#536" class="Generalizable">s₂′</a> <a id="540" href="EUTxOErr.Ledger.html#540" class="Generalizable">s₂″</a> <a id="544" href="EUTxOErr.Ledger.html#544" class="Generalizable">s₃</a> <a id="547" href="EUTxOErr.Ledger.html#547" class="Generalizable">s₃′</a> <a id="551" href="EUTxOErr.Ledger.html#551" class="Generalizable">s₃″</a> <a id="555" href="EUTxOErr.Ledger.html#555" class="Generalizable">s₂₃</a> <a id="559" href="EUTxOErr.Ledger.html#559" class="Generalizable">s₂₃′</a> <a id="564" href="EUTxOErr.Ledger.html#564" class="Generalizable">s₂₃″</a> <a id="569" class="Symbol">:</a> <a id="571" href="EUTxOErr.EUTxO.html#3865" class="Function">S</a>
  <a id="575" href="EUTxOErr.Ledger.html#575" class="Generalizable">t</a> <a id="577" href="EUTxOErr.Ledger.html#577" class="Generalizable">t′</a> <a id="580" href="EUTxOErr.Ledger.html#580" class="Generalizable">t″</a> <a id="583" class="Symbol">:</a> <a id="585" href="EUTxOErr.EUTxO.html#2512" class="Record">Tx</a>
  <a id="590" href="EUTxOErr.Ledger.html#590" class="Generalizable">l</a> <a id="592" href="EUTxOErr.Ledger.html#592" class="Generalizable">l′</a> <a id="595" href="EUTxOErr.Ledger.html#595" class="Generalizable">l″</a> <a id="598" href="EUTxOErr.Ledger.html#598" class="Generalizable">l₁</a> <a id="601" href="EUTxOErr.Ledger.html#601" class="Generalizable">l₂</a> <a id="604" class="Symbol">:</a> <a id="606" href="EUTxOErr.EUTxO.html#2670" class="Function">L</a>
  <a id="610" href="EUTxOErr.Ledger.html#610" class="Generalizable">ls</a> <a id="613" href="EUTxOErr.Ledger.html#613" class="Generalizable">ls′</a> <a id="617" href="EUTxOErr.Ledger.html#617" class="Generalizable">ls″</a> <a id="621" class="Symbol">:</a> <a id="623" href="EUTxOErr.EUTxO.html#2670" class="Function">L</a> <a id="625" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="627" href="EUTxOErr.EUTxO.html#3865" class="Function">S</a>

  <a id="632" href="EUTxOErr.Ledger.html#632" class="Generalizable">ms</a> <a id="635" href="EUTxOErr.Ledger.html#635" class="Generalizable">ms′</a> <a id="639" href="EUTxOErr.Ledger.html#639" class="Generalizable">ms″</a> <a id="643" class="Symbol">:</a> <a id="645" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="651" href="EUTxOErr.EUTxO.html#3865" class="Function">S</a>
  <a id="655" href="EUTxOErr.Ledger.html#655" class="Generalizable">mls</a> <a id="659" href="EUTxOErr.Ledger.html#659" class="Generalizable">mls′</a> <a id="664" href="EUTxOErr.Ledger.html#664" class="Generalizable">mls″</a> <a id="669" class="Symbol">:</a> <a id="671" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="677" class="Symbol">(</a><a id="678" href="EUTxOErr.EUTxO.html#2670" class="Function">L</a> <a id="680" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="682" href="EUTxOErr.EUTxO.html#3865" class="Function">S</a><a id="683" class="Symbol">)</a>

<a id="686" class="Comment">-- ** Denotational semantics</a>

<a id="716" class="Keyword">open</a> <a id="721" class="Keyword">import</a> <a id="728" href="Common.Denotational.html" class="Module">Common.Denotational</a> <a id="748" class="Keyword">public</a>

<a id="756" class="Keyword">instance</a>
  <a id="⟦Tx⟧₀"></a><a id="767" href="EUTxOErr.Ledger.html#767" class="Function">⟦Tx⟧₀</a> <a id="773" class="Symbol">:</a> <a id="775" href="Common.Denotational.html#517" class="Function">Denote₀</a> <a id="783" href="EUTxOErr.EUTxO.html#2512" class="Record">Tx</a> <a id="786" href="EUTxOErr.EUTxO.html#3865" class="Function">S</a>
  <a id="790" href="EUTxOErr.Ledger.html#767" class="Function">⟦Tx⟧₀</a> <a id="796" class="Symbol">.</a><a id="797" href="Common.Denotational.html#325" class="Field Operator">⟦_⟧</a> <a id="801" href="EUTxOErr.Ledger.html#801" class="Bound">tx</a> <a id="804" href="EUTxOErr.Ledger.html#804" class="Bound">utxos</a> <a id="810" class="Symbol">=</a> <a id="812" class="Symbol">(</a><a id="813" href="EUTxOErr.Ledger.html#804" class="Bound">utxos</a> <a id="819" href="Common.Maps.html#1946" class="Function Operator">─ᵏˢ</a> <a id="823" href="EUTxOErr.EUTxO.html#2710" class="Function">outputRefs</a> <a id="834" href="EUTxOErr.Ledger.html#801" class="Bound">tx</a><a id="836" class="Symbol">)</a> <a id="838" href="Prelude.Maps.AsSets.html#1469" class="Function Operator">∪</a> <a id="840" href="EUTxOErr.EUTxO.html#4137" class="Function">utxoTx</a> <a id="847" href="EUTxOErr.Ledger.html#801" class="Bound">tx</a>

  <a id="⟦Tx⟧"></a><a id="853" href="EUTxOErr.Ledger.html#853" class="Function">⟦Tx⟧</a> <a id="858" class="Symbol">:</a> <a id="860" href="Common.Denotational.html#589" class="Function">Denoteₑ</a> <a id="868" href="EUTxOErr.EUTxO.html#2512" class="Record">Tx</a> <a id="871" href="EUTxOErr.EUTxO.html#3865" class="Function">S</a>
  <a id="875" href="EUTxOErr.Ledger.html#853" class="Function">⟦Tx⟧</a> <a id="880" class="Symbol">.</a><a id="881" href="Common.Denotational.html#325" class="Field Operator">⟦_⟧</a> <a id="885" href="EUTxOErr.Ledger.html#885" class="Bound">tx</a> <a id="888" href="EUTxOErr.Ledger.html#888" class="Bound">s</a> <a id="890" class="Symbol">=</a> <a id="892" href="Data.Maybe.Base.html#2459" class="Function">M.when</a> <a id="899" class="Symbol">(</a><a id="900" href="EUTxOErr.EUTxO.html#6690" class="Function">isValidTx</a> <a id="910" href="EUTxOErr.Ledger.html#885" class="Bound">tx</a> <a id="913" href="EUTxOErr.Ledger.html#888" class="Bound">s</a><a id="914" class="Symbol">)</a> <a id="916" class="Symbol">(</a><a id="917" href="Common.Denotational.html#692" class="Function Operator">⟦</a> <a id="919" href="EUTxOErr.Ledger.html#885" class="Bound">tx</a> <a id="922" href="Common.Denotational.html#692" class="Function Operator">⟧₀</a> <a id="925" href="EUTxOErr.Ledger.html#888" class="Bound">s</a><a id="926" class="Symbol">)</a>

<a id="929" class="Comment">-- valid ledgers w.r.t. a given initial state</a>
<a id="975" class="Keyword">data</a> <a id="VL"></a><a id="980" href="EUTxOErr.Ledger.html#980" class="Datatype">VL</a> <a id="983" class="Symbol">:</a> <a id="985" href="EUTxOErr.EUTxO.html#3865" class="Function">S</a> <a id="987" class="Symbol">→</a> <a id="989" href="EUTxOErr.EUTxO.html#2670" class="Function">L</a> <a id="991" class="Symbol">→</a> <a id="993" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="998" class="Keyword">where</a>

  <a id="VL.[]"></a><a id="1007" href="EUTxOErr.Ledger.html#1007" class="InductiveConstructor">[]</a> <a id="1010" class="Symbol">:</a>
    <a id="1016" href="Prelude.InferenceRules.html#48226" class="Function Operator">───────</a>
    <a id="1028" href="EUTxOErr.Ledger.html#980" class="Datatype">VL</a> <a id="1031" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a> <a id="1033" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>

  <a id="VL._⊣_∷_"></a><a id="1039" href="EUTxOErr.Ledger.html#1039" class="InductiveConstructor Operator">_⊣_∷_</a> <a id="1045" class="Symbol">:</a> <a id="1047" class="Symbol">∀</a> <a id="1049" href="EUTxOErr.Ledger.html#1049" class="Bound">tx</a> <a id="1052" class="Symbol">→</a>
    <a id="1058" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="1060" href="EUTxOErr.EUTxO.html#4225" class="Record">IsValidTx</a> <a id="1070" href="EUTxOErr.Ledger.html#1049" class="Bound">tx</a> <a id="1073" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a>
    <a id="1079" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="1081" href="EUTxOErr.Ledger.html#980" class="Datatype">VL</a> <a id="1084" class="Symbol">(</a><a id="1085" href="Common.Denotational.html#692" class="Function Operator">⟦</a> <a id="1087" href="EUTxOErr.Ledger.html#1049" class="Bound">tx</a> <a id="1090" href="Common.Denotational.html#692" class="Function Operator">⟧₀</a> <a id="1093" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a><a id="1094" class="Symbol">)</a> <a id="1096" href="EUTxOErr.Ledger.html#590" class="Generalizable">l</a>
      <a id="1104" href="Prelude.InferenceRules.html#14232" class="Function Operator">────────────────</a>
      <a id="1127" href="EUTxOErr.Ledger.html#980" class="Datatype">VL</a> <a id="1130" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a> <a id="1132" class="Symbol">(</a><a id="1133" href="EUTxOErr.Ledger.html#1049" class="Bound">tx</a> <a id="1136" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1138" href="EUTxOErr.Ledger.html#590" class="Generalizable">l</a><a id="1139" class="Symbol">)</a>

<a id="1142" class="Keyword">infixr</a> <a id="1149" class="Number">5</a> <a id="1151" href="EUTxOErr.Ledger.html#1039" class="InductiveConstructor Operator">_⊣_∷_</a>

<a id="VL⇒Resolved"></a><a id="1158" href="EUTxOErr.Ledger.html#1158" class="Function">VL⇒Resolved</a> <a id="1170" class="Symbol">:</a> <a id="1172" href="EUTxOErr.Ledger.html#980" class="Datatype">VL</a> <a id="1175" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a> <a id="1177" href="EUTxOErr.Ledger.html#590" class="Generalizable">l</a> <a id="1179" class="Symbol">→</a> <a id="1181" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="1185" href="EUTxOErr.EUTxO.html#2782" class="Function">Resolved</a> <a id="1194" href="EUTxOErr.Ledger.html#590" class="Generalizable">l</a>
<a id="1196" href="EUTxOErr.Ledger.html#1158" class="Function">VL⇒Resolved</a> <a id="1208" href="EUTxOErr.Ledger.html#1007" class="InductiveConstructor">[]</a> <a id="1211" class="Symbol">=</a> <a id="1213" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a>
<a id="1216" href="EUTxOErr.Ledger.html#1158" class="Function">VL⇒Resolved</a> <a id="1228" class="Symbol">(</a><a id="1229" href="EUTxOErr.Ledger.html#1229" class="Bound">tx</a> <a id="1232" href="EUTxOErr.Ledger.html#1039" class="InductiveConstructor Operator">⊣</a> <a id="1234" href="EUTxOErr.Ledger.html#1234" class="Bound">p</a> <a id="1236" href="EUTxOErr.Ledger.html#1039" class="InductiveConstructor Operator">∷</a> <a id="1238" href="EUTxOErr.Ledger.html#1238" class="Bound">l</a><a id="1239" class="Symbol">)</a> <a id="1241" class="Symbol">=</a> <a id="1243" href="EUTxOErr.EUTxO.html#4411" class="Function">resolved</a> <a id="1252" href="EUTxOErr.Ledger.html#1234" class="Bound">p</a> <a id="1254" href="Data.List.Relation.Unary.All.html#1533" class="InductiveConstructor Operator">∷</a> <a id="1256" href="EUTxOErr.Ledger.html#1158" class="Function">VL⇒Resolved</a> <a id="1268" href="EUTxOErr.Ledger.html#1238" class="Bound">l</a>

<a id="1271" class="Comment">-- ** Operational semantics</a>

<a id="1300" class="Keyword">infix</a> <a id="1306" class="Number">0</a> <a id="1308" href="EUTxOErr.Ledger.html#1318" class="Datatype Operator">_—→_</a>
<a id="1313" class="Keyword">data</a> <a id="_—→_"></a><a id="1318" href="EUTxOErr.Ledger.html#1318" class="Datatype Operator">_—→_</a> <a id="1323" class="Symbol">:</a> <a id="1325" href="EUTxOErr.EUTxO.html#2670" class="Function">L</a> <a id="1327" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1329" href="EUTxOErr.EUTxO.html#3865" class="Function">S</a> <a id="1331" class="Symbol">→</a> <a id="1333" href="EUTxOErr.EUTxO.html#3865" class="Function">S</a> <a id="1335" class="Symbol">→</a> <a id="1337" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1342" class="Keyword">where</a>

  <a id="_—→_.base"></a><a id="1351" href="EUTxOErr.Ledger.html#1351" class="InductiveConstructor">base</a> <a id="1356" class="Symbol">:</a>
    <a id="1362" href="Prelude.InferenceRules.html#47758" class="Function Operator">───────────</a>
    <a id="1378" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="1381" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1383" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a> <a id="1385" href="EUTxOErr.Ledger.html#1318" class="Datatype Operator">—→</a> <a id="1388" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a>

  <a id="_—→_.step"></a><a id="1393" href="EUTxOErr.Ledger.html#1393" class="InductiveConstructor">step</a> <a id="1398" class="Symbol">:</a>
    <a id="1404" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="1406" href="EUTxOErr.EUTxO.html#4225" class="Record">IsValidTx</a> <a id="1416" href="EUTxOErr.Ledger.html#575" class="Generalizable">t</a> <a id="1418" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a>
    <a id="1424" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="1426" href="EUTxOErr.Ledger.html#590" class="Generalizable">l</a> <a id="1428" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1430" href="Common.Denotational.html#692" class="Function Operator">⟦</a> <a id="1432" href="EUTxOErr.Ledger.html#575" class="Generalizable">t</a> <a id="1434" href="Common.Denotational.html#692" class="Function Operator">⟧₀</a> <a id="1437" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a> <a id="1439" href="EUTxOErr.Ledger.html#1318" class="Datatype Operator">—→</a> <a id="1442" href="EUTxOErr.Ledger.html#516" class="Generalizable">s′</a>
      <a id="1451" href="Prelude.InferenceRules.html#14187" class="Function Operator">──────────────────</a>
      <a id="1476" href="EUTxOErr.Ledger.html#575" class="Generalizable">t</a> <a id="1478" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1480" href="EUTxOErr.Ledger.html#590" class="Generalizable">l</a> <a id="1482" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1484" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a> <a id="1486" href="EUTxOErr.Ledger.html#1318" class="Datatype Operator">—→</a> <a id="1489" href="EUTxOErr.Ledger.html#516" class="Generalizable">s′</a>

<a id="oper-comp"></a><a id="1493" href="EUTxOErr.Ledger.html#1493" class="Function">oper-comp</a> <a id="1503" class="Symbol">:</a>
  <a id="1507" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="1509" href="EUTxOErr.Ledger.html#590" class="Generalizable">l</a>       <a id="1517" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1519" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a>  <a id="1522" href="EUTxOErr.Ledger.html#1318" class="Datatype Operator">—→</a> <a id="1525" href="EUTxOErr.Ledger.html#516" class="Generalizable">s′</a>
  <a id="1530" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="1532" href="EUTxOErr.Ledger.html#592" class="Generalizable">l′</a>      <a id="1540" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1542" href="EUTxOErr.Ledger.html#516" class="Generalizable">s′</a> <a id="1545" href="EUTxOErr.Ledger.html#1318" class="Datatype Operator">—→</a> <a id="1548" href="EUTxOErr.Ledger.html#519" class="Generalizable">s″</a>
    <a id="1555" href="Prelude.InferenceRules.html#14187" class="Function Operator">──────────────────</a>
    <a id="1578" href="EUTxOErr.Ledger.html#590" class="Generalizable">l</a> <a id="1580" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="1583" href="EUTxOErr.Ledger.html#592" class="Generalizable">l′</a> <a id="1586" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1588" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a>  <a id="1591" href="EUTxOErr.Ledger.html#1318" class="Datatype Operator">—→</a> <a id="1594" href="EUTxOErr.Ledger.html#519" class="Generalizable">s″</a>
<a id="1597" href="EUTxOErr.Ledger.html#1493" class="Function">oper-comp</a> <a id="1607" class="Symbol">{</a><a id="1608" class="Argument">l</a> <a id="1610" class="Symbol">=</a> <a id="1612" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="1614" class="Symbol">}</a>    <a id="1619" href="EUTxOErr.Ledger.html#1351" class="InductiveConstructor">base</a>              <a id="1637" href="EUTxOErr.Ledger.html#1637" class="Bound">s′→s″</a> <a id="1643" class="Symbol">=</a> <a id="1645" href="EUTxOErr.Ledger.html#1637" class="Bound">s′→s″</a>
<a id="1651" href="EUTxOErr.Ledger.html#1493" class="Function">oper-comp</a> <a id="1661" class="Symbol">{</a><a id="1662" class="Argument">l</a> <a id="1664" class="Symbol">=</a> <a id="1666" class="Symbol">_</a> <a id="1668" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1670" class="Symbol">_}</a> <a id="1673" class="Symbol">(</a><a id="1674" href="EUTxOErr.Ledger.html#1393" class="InductiveConstructor">step</a> <a id="1679" href="EUTxOErr.Ledger.html#1679" class="Bound">valid</a> <a id="1685" href="EUTxOErr.Ledger.html#1685" class="Bound">s→s′</a><a id="1689" class="Symbol">)</a> <a id="1691" href="EUTxOErr.Ledger.html#1691" class="Bound">s′→s″</a> <a id="1697" class="Symbol">=</a> <a id="1699" href="EUTxOErr.Ledger.html#1393" class="InductiveConstructor">step</a> <a id="1704" href="EUTxOErr.Ledger.html#1679" class="Bound">valid</a> <a id="1710" class="Symbol">(</a><a id="1711" href="EUTxOErr.Ledger.html#1493" class="Function">oper-comp</a> <a id="1721" href="EUTxOErr.Ledger.html#1685" class="Bound">s→s′</a> <a id="1726" href="EUTxOErr.Ledger.html#1691" class="Bound">s′→s″</a><a id="1731" class="Symbol">)</a>

<a id="1734" class="Comment">-- ** Relating denotational and operational semantics.</a>
<a id="denot⇒oper"></a><a id="1789" href="EUTxOErr.Ledger.html#1789" class="Function">denot⇒oper</a> <a id="1800" class="Symbol">:</a>
  <a id="1804" href="Common.Denotational.html#325" class="Field Operator">⟦</a> <a id="1806" href="EUTxOErr.Ledger.html#590" class="Generalizable">l</a> <a id="1808" href="Common.Denotational.html#325" class="Field Operator">⟧</a> <a id="1810" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a> <a id="1812" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1814" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="1819" href="EUTxOErr.Ledger.html#516" class="Generalizable">s′</a>
  <a id="1824" href="Prelude.InferenceRules.html#14210" class="Function Operator">─────────────────</a>
  <a id="1844" href="EUTxOErr.Ledger.html#590" class="Generalizable">l</a> <a id="1846" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1848" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a> <a id="1850" href="EUTxOErr.Ledger.html#1318" class="Datatype Operator">—→</a> <a id="1853" href="EUTxOErr.Ledger.html#516" class="Generalizable">s′</a>
<a id="1856" href="EUTxOErr.Ledger.html#1789" class="Function">denot⇒oper</a> <a id="1867" class="Symbol">{</a><a id="1868" class="Argument">l</a> <a id="1870" class="Symbol">=</a> <a id="1872" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="1874" class="Symbol">}</a> <a id="1876" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="1881" class="Symbol">=</a> <a id="1883" href="EUTxOErr.Ledger.html#1351" class="InductiveConstructor">base</a>
<a id="1888" href="EUTxOErr.Ledger.html#1789" class="Function">denot⇒oper</a> <a id="1899" class="Symbol">{</a><a id="1900" class="Argument">l</a> <a id="1902" class="Symbol">=</a> <a id="1904" href="EUTxOErr.Ledger.html#1904" class="Bound">t</a> <a id="1906" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1908" href="EUTxOErr.Ledger.html#1908" class="Bound">l</a><a id="1909" class="Symbol">}{</a><a id="1911" href="EUTxOErr.Ledger.html#1911" class="Bound">s</a><a id="1912" class="Symbol">}</a> <a id="1914" href="EUTxOErr.Ledger.html#1914" class="Bound">l≡</a>
  <a id="1919" class="Keyword">with</a> <a id="1924" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="1928" href="EUTxOErr.Ledger.html#1928" class="Bound">valid</a> ← <a id="1936" href="EUTxOErr.EUTxO.html#5642" class="Function">isValidTx?</a> <a id="1947" href="EUTxOErr.Ledger.html#1904" class="Bound">t</a> <a id="1949" href="EUTxOErr.Ledger.html#1911" class="Bound">s</a>
  <a id="1953" class="Symbol">=</a> <a id="1955" href="EUTxOErr.Ledger.html#1393" class="InductiveConstructor">step</a> <a id="1960" href="EUTxOErr.Ledger.html#1928" class="Bound">valid</a> <a id="1966" class="Symbol">(</a><a id="1967" href="EUTxOErr.Ledger.html#1789" class="Function">denot⇒oper</a> <a id="1978" href="EUTxOErr.Ledger.html#1914" class="Bound">l≡</a><a id="1980" class="Symbol">)</a>

<a id="oper⇒denot"></a><a id="1983" href="EUTxOErr.Ledger.html#1983" class="Function">oper⇒denot</a> <a id="1994" class="Symbol">:</a>
  <a id="1998" href="EUTxOErr.Ledger.html#590" class="Generalizable">l</a> <a id="2000" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2002" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a> <a id="2004" href="EUTxOErr.Ledger.html#1318" class="Datatype Operator">—→</a> <a id="2007" href="EUTxOErr.Ledger.html#516" class="Generalizable">s′</a>
  <a id="2012" href="Prelude.InferenceRules.html#14210" class="Function Operator">─────────────────</a>
  <a id="2032" href="Common.Denotational.html#325" class="Field Operator">⟦</a> <a id="2034" href="EUTxOErr.Ledger.html#590" class="Generalizable">l</a> <a id="2036" href="Common.Denotational.html#325" class="Field Operator">⟧</a> <a id="2038" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a> <a id="2040" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2042" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="2047" href="EUTxOErr.Ledger.html#516" class="Generalizable">s′</a>
<a id="2050" href="EUTxOErr.Ledger.html#1983" class="Function">oper⇒denot</a> <a id="2061" class="Symbol">{</a><a id="2062" class="Argument">l</a> <a id="2064" class="Symbol">=</a> <a id="2066" class="DottedPattern Symbol">.</a><a id="2067" href="Agda.Builtin.List.html#167" class="DottedPattern InductiveConstructor">[]</a><a id="2069" class="Symbol">}</a> <a id="2071" href="EUTxOErr.Ledger.html#1351" class="InductiveConstructor">base</a> <a id="2076" class="Symbol">=</a> <a id="2078" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="2083" href="EUTxOErr.Ledger.html#1983" class="Function">oper⇒denot</a> <a id="2094" class="Symbol">{</a><a id="2095" class="Argument">l</a> <a id="2097" class="Symbol">=</a> <a id="2099" href="EUTxOErr.Ledger.html#2099" class="Bound">t</a> <a id="2101" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2103" class="Symbol">_}{</a><a id="2106" href="EUTxOErr.Ledger.html#2106" class="Bound">s</a><a id="2107" class="Symbol">}</a> <a id="2109" class="Symbol">(</a><a id="2110" href="EUTxOErr.Ledger.html#1393" class="InductiveConstructor">step</a> <a id="2115" href="EUTxOErr.Ledger.html#2115" class="Bound">valid</a> <a id="2121" href="EUTxOErr.Ledger.html#2121" class="Bound">p</a><a id="2122" class="Symbol">)</a>
  <a id="2126" class="Keyword">rewrite</a> <a id="2134" href="Relation.Nullary.Decidable.Core.html#3175" class="Function">dec-yes</a> <a id="2142" class="Symbol">(</a><a id="2143" href="EUTxOErr.EUTxO.html#5642" class="Function">isValidTx?</a> <a id="2154" href="EUTxOErr.Ledger.html#2099" class="Bound">t</a> <a id="2156" href="EUTxOErr.Ledger.html#2106" class="Bound">s</a><a id="2157" class="Symbol">)</a> <a id="2159" href="EUTxOErr.Ledger.html#2115" class="Bound">valid</a> <a id="2165" class="Symbol">.</a><a id="2166" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="2174" class="Symbol">=</a> <a id="2176" href="EUTxOErr.Ledger.html#1983" class="Function">oper⇒denot</a> <a id="2187" href="EUTxOErr.Ledger.html#2121" class="Bound">p</a>

<a id="denot⇔oper"></a><a id="2190" href="EUTxOErr.Ledger.html#2190" class="Function">denot⇔oper</a> <a id="2201" class="Symbol">:</a>
  <a id="2205" href="Common.Denotational.html#325" class="Field Operator">⟦</a> <a id="2207" href="EUTxOErr.Ledger.html#590" class="Generalizable">l</a> <a id="2209" href="Common.Denotational.html#325" class="Field Operator">⟧</a> <a id="2211" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a> <a id="2213" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2215" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="2220" href="EUTxOErr.Ledger.html#516" class="Generalizable">s′</a>
  <a id="2225" href="Prelude.InferenceRules.html#70270" class="Function Operator">═════════════════</a>
  <a id="2245" href="EUTxOErr.Ledger.html#590" class="Generalizable">l</a> <a id="2247" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2249" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a> <a id="2251" href="EUTxOErr.Ledger.html#1318" class="Datatype Operator">—→</a> <a id="2254" href="EUTxOErr.Ledger.html#516" class="Generalizable">s′</a>
<a id="2257" href="EUTxOErr.Ledger.html#2190" class="Function">denot⇔oper</a> <a id="2268" class="Symbol">=</a> <a id="2270" href="EUTxOErr.Ledger.html#1789" class="Function">denot⇒oper</a> <a id="2281" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2283" href="EUTxOErr.Ledger.html#1983" class="Function">oper⇒denot</a>
</pre></body></html>