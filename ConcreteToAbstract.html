<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>ConcreteToAbstract</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/hoare-ledgers/tree/master/ConcreteToAbstract.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="ConcreteToAbstract.html" class="Module">ConcreteToAbstract</a> <a id="27" class="Keyword">where</a>

<a id="34" class="Keyword">open</a> <a id="39" class="Keyword">import</a> <a id="46" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="58" class="Symbol">;</a> <a id="60" class="Keyword">open</a> <a id="65" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="75" class="Keyword">open</a> <a id="80" href="Prelude.Init.html#7118" class="Module">L.Mem</a>
<a id="86" class="Keyword">open</a> <a id="91" href="Prelude.Init.html#10439" class="Module">Unary</a> <a id="97" class="Keyword">using</a> <a id="103" class="Symbol">(</a><a id="104" href="Relation.Unary.html#4512" class="Function Operator">_∩_</a><a id="107" class="Symbol">)</a>
<a id="109" class="Keyword">open</a> <a id="114" class="Keyword">import</a> <a id="121" href="Prelude.Lists.Membership.html" class="Module">Prelude.Lists.Membership</a>
<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="174" class="Keyword">open</a> <a id="179" class="Keyword">import</a> <a id="186" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="209" class="Keyword">open</a> <a id="214" class="Keyword">import</a> <a id="221" href="Prelude.Functor.html" class="Module">Prelude.Functor</a>
<a id="237" class="Keyword">open</a> <a id="242" class="Keyword">import</a> <a id="249" href="Prelude.FromList.html" class="Module">Prelude.FromList</a><a id="265" class="Symbol">;</a> <a id="267" class="Keyword">open</a> <a id="272" class="Keyword">import</a> <a id="279" href="Prelude.ToList.html" class="Module">Prelude.ToList</a>
<a id="294" class="Keyword">open</a> <a id="299" class="Keyword">import</a> <a id="306" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="320" class="Keyword">open</a> <a id="325" class="Keyword">import</a> <a id="332" href="Prelude.Monad.html" class="Module">Prelude.Monad</a>
<a id="346" class="Keyword">open</a> <a id="351" class="Keyword">import</a> <a id="358" href="Prelude.Maybes.html" class="Module">Prelude.Maybes</a>

<a id="374" class="Keyword">import</a> <a id="381" href="Prelude.Bags.html" class="Module">Prelude.Bags</a> <a id="394" class="Symbol">as</a> <a id="397" class="Module">B</a>
<a id="399" class="Keyword">import</a> <a id="406" href="Prelude.Maps.html" class="Module">Prelude.Maps</a> <a id="419" class="Symbol">as</a> <a id="422" class="Module">M</a>

<a id="425" class="Keyword">open</a> <a id="430" class="Keyword">import</a> <a id="437" href="Common.html" class="Module">Common</a>
<a id="444" class="Keyword">import</a> <a id="451" href="UTxOErr.UTxO.html" class="Module">UTxOErr.UTxO</a>      <a id="469" class="Symbol">as</a> <a id="472" class="Module">C</a>
<a id="474" class="Keyword">import</a> <a id="481" href="ValueSepUTxO.UTxO.html" class="Module">ValueSepUTxO.UTxO</a> <a id="499" class="Symbol">as</a> <a id="502" class="Module">A</a>
<a id="504" class="Keyword">open</a> <a id="509" class="Keyword">import</a> <a id="516" href="UTxOErr.Ledger.html" class="Module">UTxOErr.Ledger</a>      <a id="536" class="Symbol">as</a> <a id="539" class="Module">C</a>
  <a id="543" class="Keyword">using</a> <a id="549" class="Symbol">(</a><a id="550" href="UTxOErr.Ledger.html#2167" class="InductiveConstructor">[]</a><a id="552" class="Symbol">;</a> <a id="554" href="UTxOErr.Ledger.html#2182" class="InductiveConstructor Operator">_⊣_∷_</a><a id="559" class="Symbol">)</a>
<a id="561" class="Keyword">open</a> <a id="566" class="Keyword">import</a> <a id="573" href="ValueSepUTxO.Ledger.html" class="Module">ValueSepUTxO.Ledger</a> <a id="593" class="Symbol">as</a> <a id="596" class="Module">A</a>
  <a id="600" class="Keyword">using</a> <a id="606" class="Symbol">(</a><a id="607" href="ValueSepUTxO.Ledger.html#2143" class="InductiveConstructor">[]</a><a id="609" class="Symbol">;</a> <a id="611" href="ValueSepUTxO.Ledger.html#2158" class="InductiveConstructor Operator">_⊣_∷_</a><a id="616" class="Symbol">)</a>
<a id="618" class="Keyword">import</a> <a id="625" href="ValueSepUTxO.UTxO.html" class="Module">ValueSepUTxO.UTxO</a> <a id="643" class="Symbol">as</a> <a id="646" class="Module">A</a>
<a id="648" class="Keyword">import</a> <a id="655" href="UTxOErr.HoareLogic.html" class="Module">UTxOErr.HoareLogic</a>      <a id="679" class="Symbol">as</a> <a id="682" class="Module">C</a>
<a id="684" class="Keyword">import</a> <a id="691" href="ValueSepUTxO.HoareLogic.html" class="Module">ValueSepUTxO.HoareLogic</a> <a id="715" class="Symbol">as</a> <a id="718" class="Module">A</a>

<a id="721" class="Comment">-- ** abstracting away implementation details</a>
<a id="767" class="Keyword">private</a> <a id="775" class="Keyword">variable</a>
  <a id="786" href="ConcreteToAbstract.html#786" class="Generalizable">s</a> <a id="788" href="ConcreteToAbstract.html#788" class="Generalizable">s′</a> <a id="791" class="Symbol">:</a> <a id="793" href="UTxOErr.UTxO.html#992" class="Function">C.S</a>
  <a id="799" href="ConcreteToAbstract.html#799" class="Generalizable">l</a> <a id="801" class="Symbol">:</a> <a id="803" href="Common.html#1622" class="Function">C.L</a>
  <a id="809" href="ConcreteToAbstract.html#809" class="Generalizable">t</a> <a id="811" class="Symbol">:</a> <a id="813" href="Common.html#1452" class="Record">C.Tx</a>
  <a id="820" href="ConcreteToAbstract.html#820" class="Generalizable">P</a> <a id="822" href="ConcreteToAbstract.html#822" class="Generalizable">Q</a> <a id="824" class="Symbol">:</a> <a id="826" href="Prelude.Init.html#13317" class="Function">Pred₀</a> <a id="832" href="ValueSepUTxO.UTxO.html#824" class="Function">A.S</a>

<a id="absS"></a><a id="837" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="842" class="Symbol">:</a> <a id="844" href="UTxOErr.UTxO.html#992" class="Function">C.S</a> <a id="848" class="Symbol">→</a> <a id="850" href="ValueSepUTxO.UTxO.html#824" class="Function">A.S</a>
<a id="854" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="859" class="Symbol">=</a> <a id="861" href="UTxOErr.UTxO.html#2087" class="Function">C.valuesˢ</a>

<a id="872" class="Keyword">open</a> <a id="877" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

<a id="absVT"></a><a id="890" href="ConcreteToAbstract.html#890" class="Function">absVT</a> <a id="896" class="Symbol">:</a> <a id="898" href="UTxOErr.UTxO.html#3711" class="Record">C.IsValidTx</a> <a id="910" href="ConcreteToAbstract.html#809" class="Generalizable">t</a> <a id="912" href="ConcreteToAbstract.html#786" class="Generalizable">s</a> <a id="914" class="Symbol">→</a> <a id="916" href="Data.Product.html#1378" class="Function">∃</a> <a id="918" class="Symbol">(</a><a id="919" href="Function.Base.html#1563" class="Function">flip</a> <a id="924" href="ValueSepUTxO.UTxO.html#996" class="Record">A.IsValidTx</a> <a id="936" class="Symbol">(</a><a id="937" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="942" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="943" class="Symbol">))</a>
<a id="946" href="ConcreteToAbstract.html#890" class="Function">absVT</a> <a id="952" class="Symbol">{</a><a id="953" href="ConcreteToAbstract.html#953" class="Bound">t</a><a id="954" class="Symbol">}{</a><a id="956" href="ConcreteToAbstract.html#956" class="Bound">s</a><a id="957" class="Symbol">}</a> <a id="959" href="ConcreteToAbstract.html#959" class="Bound">vt</a> <a id="962" class="Symbol">=</a> <a id="964" href="ConcreteToAbstract.html#1475" class="Function">t̂</a> <a id="967" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="969" class="Keyword">record</a>
  <a id="978" class="Symbol">{</a> <a id="980" href="ValueSepUTxO.UTxO.html#1053" class="Field">validOutputRefs</a>     <a id="1000" class="Symbol">=</a> <a id="1002" href="ConcreteToAbstract.html#2056" class="Function">vor′</a>
  <a id="1009" class="Symbol">;</a> <a id="1011" href="ValueSepUTxO.UTxO.html#1101" class="Field">preservesValues</a>     <a id="1031" class="Symbol">=</a> <a id="1033" href="ConcreteToAbstract.html#2163" class="Function">pv′</a>
  <a id="1039" class="Symbol">;</a> <a id="1041" href="ValueSepUTxO.UTxO.html#1247" class="Field">allInputsValidate</a>   <a id="1061" class="Symbol">=</a> <a id="1063" href="Data.List.Relation.Unary.All.html#3734" class="Function">L.All.tabulate</a> <a id="1078" href="ConcreteToAbstract.html#2882" class="Function">aiv′</a>
  <a id="1085" class="Symbol">;</a> <a id="1087" href="ValueSepUTxO.UTxO.html#1344" class="Field">validateValidHashes</a> <a id="1107" class="Symbol">=</a> <a id="1109" href="Data.List.Relation.Unary.All.html#3734" class="Function">L.All.tabulate</a> <a id="1124" href="ConcreteToAbstract.html#3331" class="Function">vvh′</a> <a id="1129" class="Symbol">}</a>
  <a id="1133" class="Keyword">module</a> <a id="∣absVT∣"></a><a id="1140" href="ConcreteToAbstract.html#1140" class="Module">∣absVT∣</a> <a id="1148" class="Keyword">where</a>
    <a id="∣absVT∣.is"></a><a id="1158" href="ConcreteToAbstract.html#1158" class="Function">is</a> <a id="1161" class="Symbol">=</a> <a id="1163" href="ConcreteToAbstract.html#953" class="Bound">t</a> <a id="1165" class="Symbol">.</a><a id="1166" href="Common.html#1478" class="Field">C.inputs</a><a id="1174" class="Symbol">;</a> <a id="∣absVT∣.os"></a><a id="1176" href="ConcreteToAbstract.html#1176" class="Function">os</a> <a id="1179" class="Symbol">=</a> <a id="1181" href="ConcreteToAbstract.html#953" class="Bound">t</a> <a id="1183" class="Symbol">.</a><a id="1184" href="Common.html#1511" class="Field">C.outputs</a><a id="1193" class="Symbol">;</a> <a id="∣absVT∣.frg"></a><a id="1195" href="ConcreteToAbstract.html#1195" class="Function">frg</a> <a id="1199" class="Symbol">=</a> <a id="1201" href="ConcreteToAbstract.html#953" class="Bound">t</a> <a id="1203" class="Symbol">.</a><a id="1204" href="Common.html#1545" class="Field">C.forge</a>
    <a id="∣absVT∣.vor"></a><a id="1216" href="ConcreteToAbstract.html#1216" class="Function">vor</a> <a id="1220" class="Symbol">=</a> <a id="1222" href="ConcreteToAbstract.html#959" class="Bound">vt</a> <a id="1225" class="Symbol">.</a><a id="1226" href="UTxOErr.UTxO.html#3822" class="Field">C.validOutputRefs</a>

    <a id="∣absVT∣.goI"></a><a id="1249" href="ConcreteToAbstract.html#1249" class="Function">goI</a> <a id="1253" class="Symbol">:</a> <a id="1255" href="Common.html#1295" class="Record">C.TxInput</a> <a id="1265" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1267" href="Common.html#593" class="Record">C.TxOutput</a> <a id="1278" class="Symbol">→</a> <a id="1280" href="Common.html#1295" class="Record">A.TxInput</a>
    <a id="1294" href="ConcreteToAbstract.html#1249" class="Function">goI</a> <a id="1298" class="Symbol">(</a><a id="1299" class="Keyword">record</a> <a id="1306" class="Symbol">{</a><a id="1307" href="Common.html#1326" class="Field">outputRef</a> <a id="1317" class="Symbol">=</a> <a id="1319" class="Symbol">_;</a> <a id="1322" href="Common.html#1360" class="Field">validator</a> <a id="1332" class="Symbol">=</a> <a id="1334" href="ConcreteToAbstract.html#1334" class="Bound">f</a><a id="1335" class="Symbol">;</a> <a id="1337" href="Common.html#1403" class="Field">redeemer</a> <a id="1346" class="Symbol">=</a> <a id="1348" href="ConcreteToAbstract.html#1348" class="Bound">r</a><a id="1349" class="Symbol">}</a> <a id="1351" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1353" href="ConcreteToAbstract.html#1353" class="Bound">o</a><a id="1354" class="Symbol">)</a>
       <a id="1363" class="Symbol">=</a> <a id="1365" class="Keyword">record</a> <a id="1372" class="Symbol">{</a><a id="1373" href="Common.html#1326" class="Field">outputRef</a> <a id="1383" class="Symbol">=</a> <a id="1385" href="ConcreteToAbstract.html#1353" class="Bound">o</a><a id="1386" class="Symbol">;</a> <a id="1388" href="Common.html#1360" class="Field">validator</a> <a id="1398" class="Symbol">=</a> <a id="1400" href="ConcreteToAbstract.html#1334" class="Bound">f</a><a id="1401" class="Symbol">;</a> <a id="1403" href="Common.html#1403" class="Field">redeemer</a> <a id="1412" class="Symbol">=</a> <a id="1414" href="ConcreteToAbstract.html#1348" class="Bound">r</a><a id="1415" class="Symbol">}</a>

    <a id="∣absVT∣.ris"></a><a id="1422" href="ConcreteToAbstract.html#1422" class="Function">ris</a> <a id="1426" class="Symbol">=</a> <a id="1428" href="UTxOErr.UTxO.html#4010" class="Function">C.resolvedInputs</a> <a id="1445" href="ConcreteToAbstract.html#959" class="Bound">vt</a>
    <a id="∣absVT∣.is′"></a><a id="1452" href="ConcreteToAbstract.html#1452" class="Function">is′</a> <a id="1456" class="Symbol">=</a> <a id="1458" href="Data.List.Base.html#1553" class="Function">map</a> <a id="1462" href="ConcreteToAbstract.html#1249" class="Function">goI</a> <a id="1466" href="ConcreteToAbstract.html#1422" class="Function">ris</a>

    <a id="∣absVT∣.t̂"></a><a id="1475" href="ConcreteToAbstract.html#1475" class="Function">t̂</a> <a id="1478" class="Symbol">=</a> <a id="1480" class="Keyword">record</a> <a id="1487" class="Symbol">{</a><a id="1488" href="Common.html#1478" class="Field">inputs</a> <a id="1495" class="Symbol">=</a> <a id="1497" href="ConcreteToAbstract.html#1452" class="Function">is′</a><a id="1500" class="Symbol">;</a> <a id="1502" href="Common.html#1511" class="Field">outputs</a> <a id="1510" class="Symbol">=</a> <a id="1512" href="ConcreteToAbstract.html#1176" class="Function">os</a><a id="1514" class="Symbol">;</a> <a id="1516" href="Common.html#1545" class="Field">forge</a> <a id="1522" class="Symbol">=</a> <a id="1524" href="ConcreteToAbstract.html#1195" class="Function">frg</a><a id="1527" class="Symbol">}</a>
    <a id="∣absVT∣.ŝ"></a><a id="1533" href="ConcreteToAbstract.html#1533" class="Function">ŝ</a> <a id="1536" class="Symbol">=</a> <a id="1538" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="1543" href="ConcreteToAbstract.html#956" class="Bound">s</a>

    <a id="∣absVT∣.stxo≡"></a><a id="1550" href="ConcreteToAbstract.html#1550" class="Function">stxo≡</a> <a id="1556" class="Symbol">:</a> <a id="1558" href="ValueSepUTxO.UTxO.html#854" class="Function">A.stxoTx</a> <a id="1567" href="ConcreteToAbstract.html#1475" class="Function">t̂</a> <a id="1570" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1572" href="UTxOErr.UTxO.html#1990" class="Function">C.values⊑ˢ</a> <a id="1583" href="ConcreteToAbstract.html#956" class="Bound">s</a> <a id="1585" class="Symbol">(</a><a id="1586" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="1589" href="ConcreteToAbstract.html#1216" class="Function">vor</a><a id="1592" class="Symbol">)</a>
    <a id="1598" href="ConcreteToAbstract.html#1550" class="Function">stxo≡</a> <a id="1604" class="Keyword">rewrite</a>
      <a id="1618" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="1632" href="Common.html#2104" class="Function">A.outputRefs</a> <a id="1645" href="ConcreteToAbstract.html#1475" class="Function">t̂</a>
      <a id="1654" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="1658" href="Data.List.Properties.html#3777" class="Function">L.map-compose</a> <a id="1672" href="ConcreteToAbstract.html#1422" class="Function">ris</a> <a id="1676" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
        <a id="1686" class="Symbol">(</a><a id="1687" href="Common.html#1326" class="Field">A.outputRef</a> <a id="1699" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1701" href="ConcreteToAbstract.html#1249" class="Function">goI</a><a id="1704" class="Symbol">)</a> <a id="1706" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="1710" href="ConcreteToAbstract.html#1422" class="Function">ris</a>
      <a id="1720" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="1723" href="Prelude.Lists.Membership.html#5036" class="Function">map∘mapWith∈</a> <a id="1736" class="Symbol">(</a><a id="1737" href="Common.html#1326" class="Field">A.outputRef</a> <a id="1749" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1751" href="ConcreteToAbstract.html#1249" class="Function">goI</a><a id="1754" class="Symbol">)</a> <a id="1756" href="ConcreteToAbstract.html#1158" class="Function">is</a> <a id="1759" class="Symbol">_</a> <a id="1761" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="1771" href="Data.List.Membership.Setoid.html#1137" class="Function">mapWith∈</a> <a id="1780" href="ConcreteToAbstract.html#1158" class="Function">is</a> <a id="1783" class="Symbol">_</a>
      <a id="1791" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="1794" href="Data.List.Membership.Propositional.Properties.html#2772" class="Function">mapWith∈-cong</a> <a id="1808" href="ConcreteToAbstract.html#1158" class="Function">is</a> <a id="1811" class="Symbol">_</a> <a id="1813" class="Symbol">_</a> <a id="1815" class="Symbol">(λ</a> <a id="1818" href="ConcreteToAbstract.html#1818" class="Bound">_</a> <a id="1820" class="Symbol">→</a> <a id="1822" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="1826" class="Symbol">)</a> <a id="1828" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="1838" href="Data.List.Membership.Setoid.html#1137" class="Function">mapWith∈</a> <a id="1847" href="ConcreteToAbstract.html#1158" class="Function">is</a> <a id="1850" class="Symbol">(</a><a id="1851" href="UTxOErr.UTxO.html#3897" class="Function">C.resolved</a> <a id="1862" href="ConcreteToAbstract.html#959" class="Bound">vt</a> <a id="1865" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1867" href="Data.List.Membership.Propositional.Properties.html#3377" class="Function">∈-map⁺</a> <a id="1874" href="Common.html#1326" class="Field">C.outputRef</a><a id="1885" class="Symbol">)</a>
      <a id="1893" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="1897" href="Prelude.Lists.Membership.html#5270" class="Function">mapWith∈∘map</a> <a id="1910" href="Common.html#1326" class="Field">C.outputRef</a> <a id="1922" href="ConcreteToAbstract.html#1158" class="Function">is</a> <a id="1925" class="Symbol">(</a><a id="1926" href="UTxOErr.UTxO.html#3897" class="Function">C.resolved</a> <a id="1937" href="ConcreteToAbstract.html#959" class="Bound">vt</a><a id="1939" class="Symbol">)</a> <a id="1941" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
        <a id="1951" href="Data.List.Membership.Setoid.html#1137" class="Function">mapWith∈</a> <a id="1960" class="Symbol">(</a><a id="1961" href="Common.html#1326" class="Field">C.outputRef</a> <a id="1973" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="1977" href="ConcreteToAbstract.html#1158" class="Function">is</a><a id="1979" class="Symbol">)</a> <a id="1981" class="Symbol">(</a><a id="1982" href="UTxOErr.UTxO.html#3897" class="Function">C.resolved</a> <a id="1993" href="ConcreteToAbstract.html#959" class="Bound">vt</a><a id="1995" class="Symbol">)</a>
      <a id="2003" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
        <a id="2015" href="UTxOErr.UTxO.html#1741" class="Function">C.values⊑</a> <a id="2025" href="ConcreteToAbstract.html#956" class="Bound">s</a> <a id="2027" class="Symbol">(</a><a id="2028" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="2031" href="ConcreteToAbstract.html#1216" class="Function">vor</a><a id="2034" class="Symbol">)</a>
      <a id="2042" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="2044" class="Symbol">=</a> <a id="2046" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

    <a id="∣absVT∣.vor′"></a><a id="2056" href="ConcreteToAbstract.html#2056" class="Function">vor′</a> <a id="2061" class="Symbol">:</a> <a id="2063" href="ValueSepUTxO.UTxO.html#854" class="Function">A.stxoTx</a> <a id="2072" href="ConcreteToAbstract.html#1475" class="Function">t̂</a> <a id="2075" href="Prelude.Bags.AsLists.html#3008" class="Function Operator">B.⊆ˢ</a> <a id="2080" href="ConcreteToAbstract.html#1533" class="Function">ŝ</a>
    <a id="2087" href="ConcreteToAbstract.html#2056" class="Function">vor′</a> <a id="2092" class="Symbol">=</a> <a id="2094" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="2100" class="Symbol">(</a><a id="2101" href="Prelude.Bags.AsLists.html#3008" class="Function Operator">B._⊆ˢ</a> <a id="2107" href="UTxOErr.UTxO.html#2087" class="Function">C.valuesˢ</a> <a id="2117" href="ConcreteToAbstract.html#956" class="Bound">s</a><a id="2118" class="Symbol">)</a> <a id="2120" class="Symbol">(</a><a id="2121" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="2125" href="ConcreteToAbstract.html#1550" class="Function">stxo≡</a><a id="2130" class="Symbol">)</a> <a id="2132" class="Symbol">(</a><a id="2133" href="UTxOErr.UTxO.html#2644" class="Function">C.values⊆⇒⊆ˢ</a> <a id="2146" href="ConcreteToAbstract.html#956" class="Bound">s</a> <a id="2148" class="Symbol">(</a><a id="2149" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="2152" href="ConcreteToAbstract.html#1216" class="Function">vor</a><a id="2155" class="Symbol">))</a>

    <a id="∣absVT∣.pv′"></a><a id="2163" href="ConcreteToAbstract.html#2163" class="Function">pv′</a> <a id="2167" class="Symbol">=</a>
      <a id="2175" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="2189" href="ConcreteToAbstract.html#1475" class="Function">t̂</a> <a id="2192" class="Symbol">.</a><a id="2193" href="Common.html#1545" class="Field">A.forge</a> <a id="2201" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2203" href="Common.html#514" class="Function">∑</a> <a id="2205" class="Symbol">(</a><a id="2206" href="ConcreteToAbstract.html#1475" class="Function">t̂</a> <a id="2209" class="Symbol">.</a><a id="2210" href="Common.html#1478" class="Field">A.inputs</a><a id="2218" class="Symbol">)</a> <a id="2220" class="Symbol">(</a><a id="2221" href="Common.html#642" class="Field">value</a> <a id="2227" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="2229" href="Common.html#1326" class="Field">A.outputRef</a><a id="2240" class="Symbol">)</a>
      <a id="2248" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
        <a id="2260" href="ConcreteToAbstract.html#1195" class="Function">frg</a> <a id="2264" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2266" href="Common.html#514" class="Function">∑</a> <a id="2268" class="Symbol">(</a><a id="2269" href="Data.List.Base.html#1553" class="Function">map</a> <a id="2273" href="ConcreteToAbstract.html#1249" class="Function">goI</a> <a id="2277" href="ConcreteToAbstract.html#1422" class="Function">ris</a><a id="2280" class="Symbol">)</a> <a id="2282" class="Symbol">(</a><a id="2283" href="Common.html#642" class="Field">value</a> <a id="2289" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="2291" href="Common.html#1326" class="Field">A.outputRef</a><a id="2302" class="Symbol">)</a>
      <a id="2310" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="2313" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="2318" class="Symbol">(λ</a> <a id="2321" href="ConcreteToAbstract.html#2321" class="Bound">◆</a> <a id="2323" class="Symbol">→</a> <a id="2325" href="ConcreteToAbstract.html#1195" class="Function">frg</a> <a id="2329" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2331" href="ConcreteToAbstract.html#2321" class="Bound">◆</a><a id="2332" class="Symbol">)</a> <a id="2334" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="2336" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="2341" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="2345" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="2347" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="2351" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="2353" href="Data.List.Properties.html#3777" class="Function">L.map-compose</a> <a id="2367" href="ConcreteToAbstract.html#1422" class="Function">ris</a> <a id="2371" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="2381" href="ConcreteToAbstract.html#1195" class="Function">frg</a> <a id="2385" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2387" href="Common.html#514" class="Function">∑</a> <a id="2389" href="ConcreteToAbstract.html#1422" class="Function">ris</a> <a id="2393" class="Symbol">(</a><a id="2394" href="Common.html#642" class="Field">value</a> <a id="2400" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="2402" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="2407" class="Symbol">)</a>
      <a id="2415" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="2418" href="ConcreteToAbstract.html#959" class="Bound">vt</a> <a id="2421" class="Symbol">.</a><a id="2422" href="UTxOErr.UTxO.html#4066" class="Field">C.preservesValues</a> <a id="2440" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="2450" href="Common.html#514" class="Function">∑</a> <a id="2452" href="ConcreteToAbstract.html#1176" class="Function">os</a> <a id="2455" href="Common.html#642" class="Field">value</a>
      <a id="2467" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
        <a id="2479" href="Common.html#514" class="Function">∑</a> <a id="2481" class="Symbol">(</a><a id="2482" href="ConcreteToAbstract.html#1475" class="Function">t̂</a> <a id="2485" class="Symbol">.</a><a id="2486" href="Common.html#1511" class="Field">A.outputs</a><a id="2495" class="Symbol">)</a> <a id="2497" href="Common.html#642" class="Field">value</a>
      <a id="2509" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

    <a id="∣absVT∣.inputInfo≡"></a><a id="2516" href="ConcreteToAbstract.html#2516" class="Function">inputInfo≡</a> <a id="2527" class="Symbol">=</a>
      <a id="2535" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="2549" class="Symbol">(</a><a id="2550" href="Common.html#2720" class="Function">A.mkInputInfo</a> <a id="2564" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="2568" href="Common.html#2367" class="Function">A.resolveInputs</a> <a id="2584" href="ConcreteToAbstract.html#1475" class="Function">t̂</a> <a id="2587" class="Symbol">(</a><a id="2588" href="ValueSepUTxO.UTxO.html#937" class="Function">A.resolved</a> <a id="2599" href="ConcreteToAbstract.html#1475" class="Function">t̂</a><a id="2601" class="Symbol">))</a>
      <a id="2610" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="2613" href="Prelude.Lists.Membership.html#5036" class="Function">map∘mapWith∈</a> <a id="2626" href="Common.html#2720" class="Function">A.mkInputInfo</a> <a id="2640" href="ConcreteToAbstract.html#1452" class="Function">is′</a> <a id="2644" class="Symbol">_</a> <a id="2646" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="2656" href="Data.List.Membership.Setoid.html#1137" class="Function">mapWith∈</a> <a id="2665" class="Symbol">(</a><a id="2666" href="ConcreteToAbstract.html#1249" class="Function">goI</a> <a id="2670" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="2674" href="ConcreteToAbstract.html#1422" class="Function">ris</a><a id="2677" class="Symbol">)</a> <a id="2679" class="Symbol">_</a>
      <a id="2687" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="2690" href="Prelude.Lists.Membership.html#5270" class="Function">mapWith∈∘map</a> <a id="2703" href="ConcreteToAbstract.html#1249" class="Function">goI</a> <a id="2707" href="ConcreteToAbstract.html#1422" class="Function">ris</a> <a id="2711" class="Symbol">_</a> <a id="2713" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="2723" href="Data.List.Membership.Setoid.html#1137" class="Function">mapWith∈</a> <a id="2732" href="ConcreteToAbstract.html#1422" class="Function">ris</a> <a id="2736" class="Symbol">_</a>
      <a id="2744" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="2747" href="Data.List.Membership.Propositional.Properties.html#2772" class="Function">mapWith∈-cong</a> <a id="2761" href="ConcreteToAbstract.html#1422" class="Function">ris</a> <a id="2765" class="Symbol">_</a> <a id="2767" class="Symbol">_</a> <a id="2769" class="Symbol">(λ</a> <a id="2772" href="ConcreteToAbstract.html#2772" class="Bound">_</a> <a id="2774" class="Symbol">→</a> <a id="2776" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="2780" class="Symbol">)</a> <a id="2782" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="2792" href="Data.List.Membership.Setoid.html#1137" class="Function">mapWith∈</a> <a id="2801" href="ConcreteToAbstract.html#1422" class="Function">ris</a> <a id="2805" class="Symbol">_</a>
      <a id="2813" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="2816" href="Data.List.Membership.Propositional.Properties.html#3108" class="Function">mapWith∈≗map</a> <a id="2829" class="Symbol">_</a> <a id="2831" href="ConcreteToAbstract.html#1422" class="Function">ris</a> <a id="2835" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="2845" class="Symbol">(</a><a id="2846" href="Common.html#2720" class="Function">C.mkInputInfo</a> <a id="2860" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="2864" href="ConcreteToAbstract.html#1422" class="Function">ris</a><a id="2867" class="Symbol">)</a>
      <a id="2875" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

    <a id="∣absVT∣.aiv′"></a><a id="2882" href="ConcreteToAbstract.html#2882" class="Function">aiv′</a> <a id="2887" class="Symbol">:</a> <a id="2889" class="Symbol">∀</a> <a id="2891" class="Symbol">{</a><a id="2892" href="ConcreteToAbstract.html#2892" class="Bound">i</a><a id="2893" class="Symbol">}</a> <a id="2895" class="Symbol">→</a> <a id="2897" href="ConcreteToAbstract.html#2892" class="Bound">i</a> <a id="2899" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="2901" href="ConcreteToAbstract.html#1452" class="Function">is′</a> <a id="2905" class="Symbol">→</a>
      <a id="2913" href="Data.Bool.Base.html#1460" class="Function">T</a> <a id="2915" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="2917" href="ConcreteToAbstract.html#2892" class="Bound">i</a> <a id="2919" class="Symbol">.</a><a id="2920" href="Common.html#1360" class="Field">A.validator</a> <a id="2932" class="Symbol">(</a><a id="2933" href="Common.html#2893" class="Function">A.mkTxInfo</a> <a id="2944" href="ConcreteToAbstract.html#1475" class="Function">t̂</a> <a id="2947" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="2949" href="ValueSepUTxO.UTxO.html#937" class="Function">A.resolved</a> <a id="2960" href="ConcreteToAbstract.html#1475" class="Function">t̂</a><a id="2962" class="Symbol">)</a> <a id="2964" class="Symbol">(</a><a id="2965" href="ConcreteToAbstract.html#2892" class="Bound">i</a> <a id="2967" class="Symbol">.</a><a id="2968" href="Common.html#1403" class="Field">A.redeemer</a><a id="2978" class="Symbol">)</a>
    <a id="2984" href="ConcreteToAbstract.html#2882" class="Function">aiv′</a> <a id="2989" href="ConcreteToAbstract.html#2989" class="Bound">i∈</a>
      <a id="2998" class="Keyword">with</a> <a id="3003" class="Symbol">_</a> <a id="3005" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3007" href="ConcreteToAbstract.html#3007" class="Bound">i∈</a> <a id="3010" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3012" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> ← <a id="3019" href="Data.List.Membership.Propositional.Properties.html#3491" class="Function">∈-map⁻</a> <a id="3026" href="ConcreteToAbstract.html#1249" class="Function">goI</a> <a id="3030" href="ConcreteToAbstract.html#2989" class="Bound">i∈</a>
      <a id="3039" class="Keyword">rewrite</a>
        <a id="3055" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
          <a id="3071" href="Common.html#2893" class="Function">A.mkTxInfo</a> <a id="3082" href="ConcreteToAbstract.html#1475" class="Function">t̂</a> <a id="3085" class="Symbol">(</a><a id="3086" href="ValueSepUTxO.UTxO.html#937" class="Function">A.resolved</a> <a id="3097" href="ConcreteToAbstract.html#1475" class="Function">t̂</a><a id="3099" class="Symbol">)</a>
        <a id="3109" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="3112" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="3117" class="Symbol">(λ</a> <a id="3120" href="ConcreteToAbstract.html#3120" class="Bound">◆</a> <a id="3122" class="Symbol">→</a> <a id="3124" class="Keyword">record</a> <a id="3131" class="Symbol">{</a><a id="3132" href="Common.html#1086" class="Field">inputs</a> <a id="3139" class="Symbol">=</a> <a id="3141" href="ConcreteToAbstract.html#3120" class="Bound">◆</a><a id="3142" class="Symbol">;</a> <a id="3144" href="Common.html#1119" class="Field">outputs</a> <a id="3152" class="Symbol">=</a> <a id="3154" href="ConcreteToAbstract.html#1176" class="Function">os</a><a id="3156" class="Symbol">;</a> <a id="3158" href="Common.html#1151" class="Field">forge</a> <a id="3164" class="Symbol">=</a> <a id="3166" href="ConcreteToAbstract.html#1195" class="Function">frg</a><a id="3169" class="Symbol">})</a> <a id="3172" href="ConcreteToAbstract.html#2516" class="Function">inputInfo≡</a> <a id="3183" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="3195" href="Common.html#2893" class="Function">C.mkTxInfo</a> <a id="3206" href="ConcreteToAbstract.html#953" class="Bound">t</a> <a id="3208" class="Symbol">(</a><a id="3209" href="UTxOErr.UTxO.html#3897" class="Function">C.resolved</a> <a id="3220" href="ConcreteToAbstract.html#959" class="Bound">vt</a><a id="3222" class="Symbol">)</a>
        <a id="3232" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>
      <a id="3240" class="Keyword">with</a> <a id="3245" class="Symbol">_</a> <a id="3247" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3249" href="ConcreteToAbstract.html#3249" class="Bound">i∈</a> <a id="3252" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3254" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> ← <a id="3261" href="Prelude.Lists.Membership.html#4455" class="Function">∈-mapWith∈⁻</a> <a id="3273" href="ConcreteToAbstract.html#3007" class="Bound">i∈</a>
      <a id="3282" class="Symbol">=</a> <a id="3284" href="Data.List.Relation.Unary.All.html#5775" class="Function">L.All.lookup</a> <a id="3297" class="Symbol">(</a><a id="3298" href="ConcreteToAbstract.html#959" class="Bound">vt</a> <a id="3301" class="Symbol">.</a><a id="3302" href="UTxOErr.UTxO.html#4164" class="Field">C.allInputsValidate</a><a id="3321" class="Symbol">)</a> <a id="3323" href="ConcreteToAbstract.html#3249" class="Bound">i∈</a>

    <a id="∣absVT∣.vvh′"></a><a id="3331" href="ConcreteToAbstract.html#3331" class="Function">vvh′</a> <a id="3336" class="Symbol">:</a> <a id="3338" class="Symbol">∀</a> <a id="3340" class="Symbol">{</a><a id="3341" href="ConcreteToAbstract.html#3341" class="Bound">i</a><a id="3342" class="Symbol">}</a> <a id="3344" class="Symbol">→</a> <a id="3346" href="ConcreteToAbstract.html#3341" class="Bound">i</a> <a id="3348" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="3350" href="ConcreteToAbstract.html#1452" class="Function">is′</a> <a id="3354" class="Symbol">→</a> <a id="3356" href="ConcreteToAbstract.html#3341" class="Bound">i</a> <a id="3358" class="Symbol">.</a><a id="3359" href="Common.html#1326" class="Field">A.outputRef</a> <a id="3371" class="Symbol">.</a><a id="3372" href="Common.html#667" class="Field">address</a> <a id="3380" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3382" href="ConcreteToAbstract.html#3341" class="Bound">i</a> <a id="3384" class="Symbol">.</a><a id="3385" href="Common.html#1360" class="Field">A.validator</a> <a id="3397" href="Common.html#427" class="Postulate Operator">♯</a>
    <a id="3403" href="ConcreteToAbstract.html#3331" class="Function">vvh′</a> <a id="3408" href="ConcreteToAbstract.html#3408" class="Bound">i∈</a>
      <a id="3417" class="Keyword">with</a> <a id="3422" class="Symbol">_</a> <a id="3424" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3426" href="ConcreteToAbstract.html#3426" class="Bound">i∈</a> <a id="3429" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3431" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> ← <a id="3438" href="Data.List.Membership.Propositional.Properties.html#3491" class="Function">∈-map⁻</a> <a id="3445" href="ConcreteToAbstract.html#1249" class="Function">goI</a> <a id="3449" href="ConcreteToAbstract.html#3408" class="Bound">i∈</a>
      <a id="3458" class="Symbol">=</a> <a id="3460" href="Data.List.Relation.Unary.All.html#5775" class="Function">L.All.lookup</a> <a id="3473" class="Symbol">(</a><a id="3474" href="ConcreteToAbstract.html#959" class="Bound">vt</a> <a id="3477" class="Symbol">.</a><a id="3478" href="UTxOErr.UTxO.html#4261" class="Field">C.validateValidHashes</a><a id="3499" class="Symbol">)</a> <a id="3501" href="ConcreteToAbstract.html#3426" class="Bound">i∈</a>

<a id="absT"></a><a id="3505" href="ConcreteToAbstract.html#3505" class="Function">absT</a> <a id="3510" class="Symbol">:</a> <a id="3512" href="UTxOErr.UTxO.html#3711" class="Record">C.IsValidTx</a> <a id="3524" href="ConcreteToAbstract.html#809" class="Generalizable">t</a> <a id="3526" href="ConcreteToAbstract.html#786" class="Generalizable">s</a> <a id="3528" class="Symbol">→</a> <a id="3530" href="Common.html#1452" class="Record">A.Tx</a>
<a id="3535" href="ConcreteToAbstract.html#3505" class="Function">absT</a> <a id="3540" class="Symbol">=</a> <a id="3542" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="3548" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="3550" href="ConcreteToAbstract.html#890" class="Function">absVT</a>

<a id="absS-∪"></a><a id="3557" href="ConcreteToAbstract.html#3557" class="Function">absS-∪</a> <a id="3564" class="Symbol">:</a> <a id="3566" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="3571" class="Symbol">(</a><a id="3572" href="ConcreteToAbstract.html#786" class="Generalizable">s</a> <a id="3574" href="Prelude.Maps.AsSets.html#1469" class="Function Operator">M.∪</a> <a id="3578" href="ConcreteToAbstract.html#788" class="Generalizable">s′</a><a id="3580" class="Symbol">)</a> <a id="3582" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3584" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="3589" href="ConcreteToAbstract.html#786" class="Generalizable">s</a> <a id="3591" href="Prelude.Bags.AsLists.html#2158" class="Function Operator">B.∪</a> <a id="3595" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="3600" href="ConcreteToAbstract.html#788" class="Generalizable">s′</a>
<a id="3603" href="ConcreteToAbstract.html#3557" class="Function">absS-∪</a> <a id="3610" class="Symbol">{</a><a id="3611" href="ConcreteToAbstract.html#3611" class="Bound">s</a><a id="3612" class="Symbol">}{</a><a id="3614" href="ConcreteToAbstract.html#3614" class="Bound">s′</a><a id="3616" class="Symbol">}</a> <a id="3618" class="Symbol">=</a> <a id="3620" href="UTxOErr.UTxO.html#2325" class="Postulate">C.valuesˢ-∪</a> <a id="3632" class="Symbol">{</a><a id="3633" class="Argument">m</a> <a id="3635" class="Symbol">=</a> <a id="3637" href="ConcreteToAbstract.html#3611" class="Bound">s</a><a id="3638" class="Symbol">}{</a><a id="3640" href="ConcreteToAbstract.html#3614" class="Bound">s′</a><a id="3642" class="Symbol">}</a>

<a id="absS-utxo"></a><a id="3645" href="ConcreteToAbstract.html#3645" class="Function">absS-utxo</a> <a id="3655" class="Symbol">:</a> <a id="3657" class="Symbol">∀</a> <a id="3659" class="Symbol">(</a><a id="3660" href="ConcreteToAbstract.html#3660" class="Bound">vt</a> <a id="3663" class="Symbol">:</a> <a id="3665" href="UTxOErr.UTxO.html#3711" class="Record">C.IsValidTx</a> <a id="3677" href="ConcreteToAbstract.html#809" class="Generalizable">t</a> <a id="3679" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="3680" class="Symbol">)</a> <a id="3682" class="Symbol">→</a> <a id="3684" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="3689" class="Symbol">(</a><a id="3690" href="UTxOErr.UTxO.html#1177" class="Function">C.utxoTx</a> <a id="3699" href="ConcreteToAbstract.html#809" class="Generalizable">t</a><a id="3700" class="Symbol">)</a> <a id="3702" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3704" href="ValueSepUTxO.UTxO.html#861" class="Function">A.utxoTx</a> <a id="3713" class="Symbol">(</a><a id="3714" href="ConcreteToAbstract.html#3505" class="Function">absT</a> <a id="3719" href="ConcreteToAbstract.html#3660" class="Bound">vt</a><a id="3721" class="Symbol">)</a>
<a id="3723" href="ConcreteToAbstract.html#3645" class="Function">absS-utxo</a> <a id="3733" class="Symbol">{</a><a id="3734" href="ConcreteToAbstract.html#3734" class="Bound">t</a><a id="3735" class="Symbol">}{</a><a id="3737" href="ConcreteToAbstract.html#3737" class="Bound">s</a><a id="3738" class="Symbol">}</a> <a id="3740" href="ConcreteToAbstract.html#3740" class="Bound">vt</a> <a id="3743" class="Symbol">=</a>
  <a id="3747" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
    <a id="3757" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="3762" class="Symbol">(</a><a id="3763" href="Prelude.FromList.html#197" class="Field">fromList</a> <a id="3772" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3774" href="Data.List.Membership.Setoid.html#1137" class="Function">mapWith∈</a> <a id="3783" class="Symbol">(</a><a id="3784" href="ConcreteToAbstract.html#3734" class="Bound">t</a> <a id="3786" class="Symbol">.</a><a id="3787" href="Common.html#1511" class="Field">C.outputs</a><a id="3796" class="Symbol">)</a> <a id="3798" class="Symbol">(</a><a id="3799" href="UTxOErr.UTxO.html#1036" class="Function">C.mkUtxo</a> <a id="3808" href="ConcreteToAbstract.html#3734" class="Bound">t</a><a id="3809" class="Symbol">))</a>
  <a id="3814" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
    <a id="3822" href="UTxOErr.UTxO.html#2087" class="Function">C.valuesˢ</a> <a id="3832" class="Symbol">(</a><a id="3833" href="Prelude.FromList.html#197" class="Field">fromList</a> <a id="3842" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3844" href="Data.List.Membership.Setoid.html#1137" class="Function">mapWith∈</a> <a id="3853" class="Symbol">(</a><a id="3854" href="ConcreteToAbstract.html#3734" class="Bound">t</a> <a id="3856" class="Symbol">.</a><a id="3857" href="Common.html#1511" class="Field">C.outputs</a><a id="3866" class="Symbol">)</a> <a id="3868" class="Symbol">(</a><a id="3869" href="UTxOErr.UTxO.html#1036" class="Function">C.mkUtxo</a> <a id="3878" href="ConcreteToAbstract.html#3734" class="Bound">t</a><a id="3879" class="Symbol">))</a>
  <a id="3884" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="3887" href="UTxOErr.UTxO.html#2385" class="Postulate">C.valuesˢ∘fromList</a> <a id="3906" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="3912" href="Prelude.FromList.html#197" class="Field">fromList</a> <a id="3921" class="Symbol">(</a><a id="3922" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="3928" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="3932" href="Data.List.Membership.Setoid.html#1137" class="Function">mapWith∈</a> <a id="3941" class="Symbol">(</a><a id="3942" href="ConcreteToAbstract.html#3734" class="Bound">t</a> <a id="3944" class="Symbol">.</a><a id="3945" href="Common.html#1511" class="Field">C.outputs</a><a id="3954" class="Symbol">)</a> <a id="3956" class="Symbol">(</a><a id="3957" href="UTxOErr.UTxO.html#1036" class="Function">C.mkUtxo</a> <a id="3966" href="ConcreteToAbstract.html#3734" class="Bound">t</a><a id="3967" class="Symbol">))</a>
  <a id="3972" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="3975" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="3980" href="Prelude.FromList.html#197" class="Field">fromList</a>
   <a id="3992" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3994" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="4008" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="4014" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="4018" href="Data.List.Membership.Setoid.html#1137" class="Function">mapWith∈</a> <a id="4027" class="Symbol">(</a><a id="4028" href="ConcreteToAbstract.html#3734" class="Bound">t</a> <a id="4030" class="Symbol">.</a><a id="4031" href="Common.html#1511" class="Field">C.outputs</a><a id="4040" class="Symbol">)</a> <a id="4042" class="Symbol">(</a><a id="4043" href="UTxOErr.UTxO.html#1036" class="Function">C.mkUtxo</a> <a id="4052" href="ConcreteToAbstract.html#3734" class="Bound">t</a><a id="4053" class="Symbol">)</a>
      <a id="4061" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="4064" href="Prelude.Lists.Membership.html#5036" class="Function">map∘mapWith∈</a> <a id="4077" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="4083" class="Symbol">_</a> <a id="4085" class="Symbol">_</a> <a id="4087" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="4097" href="Data.List.Membership.Setoid.html#1137" class="Function">mapWith∈</a> <a id="4106" class="Symbol">(</a><a id="4107" href="ConcreteToAbstract.html#3734" class="Bound">t</a> <a id="4109" class="Symbol">.</a><a id="4110" href="Common.html#1511" class="Field">C.outputs</a><a id="4119" class="Symbol">)</a> <a id="4121" class="Symbol">(</a><a id="4122" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="4128" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="4130" href="UTxOErr.UTxO.html#1036" class="Function">C.mkUtxo</a> <a id="4139" href="ConcreteToAbstract.html#3734" class="Bound">t</a><a id="4140" class="Symbol">)</a>
      <a id="4148" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="4151" href="Data.List.Membership.Propositional.Properties.html#2772" class="Function">mapWith∈-cong</a> <a id="4165" class="Symbol">_</a> <a id="4167" class="Symbol">_</a> <a id="4169" class="Symbol">_</a> <a id="4171" class="Symbol">(λ</a> <a id="4174" href="ConcreteToAbstract.html#4174" class="Bound">_</a> <a id="4176" class="Symbol">→</a> <a id="4178" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="4182" class="Symbol">)</a> <a id="4184" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="4194" href="Data.List.Membership.Setoid.html#1137" class="Function">mapWith∈</a> <a id="4203" class="Symbol">(</a><a id="4204" href="ConcreteToAbstract.html#3734" class="Bound">t</a> <a id="4206" class="Symbol">.</a><a id="4207" href="Common.html#1511" class="Field">C.outputs</a><a id="4216" class="Symbol">)</a> <a id="4218" class="Symbol">(λ</a> <a id="4221" class="Symbol">{</a><a id="4222" href="ConcreteToAbstract.html#4222" class="Bound">o</a><a id="4223" class="Symbol">}</a> <a id="4225" href="ConcreteToAbstract.html#4225" class="Bound">_</a> <a id="4227" class="Symbol">→</a> <a id="4229" href="ConcreteToAbstract.html#4222" class="Bound">o</a><a id="4230" class="Symbol">)</a>
      <a id="4238" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="4241" href="Data.List.Membership.Propositional.Properties.html#3108" class="Function">mapWith∈≗map</a> <a id="4254" href="Function.Base.html#624" class="Function">id</a> <a id="4257" class="Symbol">_</a> <a id="4259" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="4269" href="Data.List.Base.html#1553" class="Function">map</a> <a id="4273" href="Function.Base.html#624" class="Function">id</a> <a id="4276" class="Symbol">(</a><a id="4277" href="ConcreteToAbstract.html#3734" class="Bound">t</a> <a id="4279" class="Symbol">.</a><a id="4280" href="Common.html#1511" class="Field">C.outputs</a><a id="4289" class="Symbol">)</a>
      <a id="4297" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="4300" href="Data.List.Properties.html#2843" class="Function">L.map-id</a> <a id="4309" class="Symbol">_</a> <a id="4311" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="4321" href="ConcreteToAbstract.html#3734" class="Bound">t</a> <a id="4323" class="Symbol">.</a><a id="4324" href="Common.html#1511" class="Field">C.outputs</a>
      <a id="4340" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>
   <a id="4345" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="4351" href="Prelude.FromList.html#197" class="Field">fromList</a> <a id="4360" class="Symbol">(</a><a id="4361" href="ConcreteToAbstract.html#3734" class="Bound">t</a> <a id="4363" class="Symbol">.</a><a id="4364" href="Common.html#1511" class="Field">C.outputs</a><a id="4373" class="Symbol">)</a>
  <a id="4377" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
    <a id="4385" href="Prelude.FromList.html#197" class="Field">fromList</a> <a id="4394" class="Symbol">(</a><a id="4395" href="ConcreteToAbstract.html#3505" class="Function">absT</a> <a id="4400" href="ConcreteToAbstract.html#3740" class="Bound">vt</a> <a id="4403" class="Symbol">.</a><a id="4404" href="Common.html#1511" class="Field">A.outputs</a><a id="4413" class="Symbol">)</a>
  <a id="4417" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

<a id="absS-stxo"></a><a id="4420" href="ConcreteToAbstract.html#4420" class="Function">absS-stxo</a> <a id="4430" class="Symbol">:</a> <a id="4432" class="Symbol">∀</a> <a id="4434" class="Symbol">(</a><a id="4435" href="ConcreteToAbstract.html#4435" class="Bound">vt</a> <a id="4438" class="Symbol">:</a> <a id="4440" href="UTxOErr.UTxO.html#3711" class="Record">C.IsValidTx</a> <a id="4452" href="ConcreteToAbstract.html#809" class="Generalizable">t</a> <a id="4454" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="4455" class="Symbol">)</a> <a id="4457" class="Symbol">→</a>
  <a id="4461" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="4466" class="Symbol">(</a><a id="4467" href="ConcreteToAbstract.html#786" class="Generalizable">s</a> <a id="4469" href="UTxOErr.UTxO.html#1538" class="Function Operator">C.─ᵏˢ</a> <a id="4475" href="Common.html#2104" class="Function">C.outputRefs</a> <a id="4488" href="ConcreteToAbstract.html#809" class="Generalizable">t</a><a id="4489" class="Symbol">)</a> <a id="4491" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4493" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="4498" href="ConcreteToAbstract.html#786" class="Generalizable">s</a> <a id="4500" href="Prelude.Bags.AsLists.html#2162" class="Function Operator">B.─</a> <a id="4504" href="ValueSepUTxO.UTxO.html#854" class="Function">A.stxoTx</a> <a id="4513" class="Symbol">(</a><a id="4514" href="ConcreteToAbstract.html#3505" class="Function">absT</a> <a id="4519" href="ConcreteToAbstract.html#4435" class="Bound">vt</a><a id="4521" class="Symbol">)</a>
<a id="4523" href="ConcreteToAbstract.html#4420" class="Function">absS-stxo</a> <a id="4533" class="Symbol">{</a><a id="4534" href="ConcreteToAbstract.html#4534" class="Bound">t</a><a id="4535" class="Symbol">@</a><a id="4536" class="Keyword">record</a><a id="4542" class="Symbol">{</a><a id="4543" href="Common.html#1511" class="Field">outputs</a> <a id="4551" class="Symbol">=</a> <a id="4553" href="ConcreteToAbstract.html#4553" class="Bound">os</a><a id="4555" class="Symbol">}}{</a><a id="4558" href="ConcreteToAbstract.html#4558" class="Bound">s</a><a id="4559" class="Symbol">}</a> <a id="4561" href="ConcreteToAbstract.html#4561" class="Bound">vt</a><a id="4563" class="Symbol">@</a><a id="4564" class="Keyword">record</a><a id="4570" class="Symbol">{</a><a id="4571" href="UTxOErr.UTxO.html#3822" class="Field">validOutputRefs</a> <a id="4587" class="Symbol">=</a> <a id="4589" href="ConcreteToAbstract.html#4589" class="Bound">vor</a><a id="4592" class="Symbol">}</a> <a id="4594" class="Symbol">=</a>
  <a id="4598" class="Keyword">let</a> <a id="4602" href="ConcreteToAbstract.html#4602" class="Bound">t̂</a> <a id="4605" class="Symbol">=</a> <a id="4607" href="ConcreteToAbstract.html#3505" class="Function">absT</a> <a id="4612" href="ConcreteToAbstract.html#4561" class="Bound">vt</a> <a id="4615" class="Keyword">in</a>
  <a id="4620" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
    <a id="4630" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="4635" class="Symbol">(</a><a id="4636" href="ConcreteToAbstract.html#4558" class="Bound">s</a> <a id="4638" href="UTxOErr.UTxO.html#1538" class="Function Operator">C.─ᵏˢ</a> <a id="4644" href="Common.html#2104" class="Function">C.outputRefs</a> <a id="4657" href="ConcreteToAbstract.html#4534" class="Bound">t</a><a id="4658" class="Symbol">)</a>
  <a id="4662" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
    <a id="4670" href="UTxOErr.UTxO.html#2087" class="Function">C.valuesˢ</a> <a id="4680" class="Symbol">(</a><a id="4681" href="ConcreteToAbstract.html#4558" class="Bound">s</a> <a id="4683" href="UTxOErr.UTxO.html#1538" class="Function Operator">C.─ᵏˢ</a> <a id="4689" href="Common.html#2104" class="Function">C.outputRefs</a> <a id="4702" href="ConcreteToAbstract.html#4534" class="Bound">t</a><a id="4703" class="Symbol">)</a>
  <a id="4707" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="4710" href="UTxOErr.UTxO.html#2458" class="Postulate">C.valuesˢ-─</a> <a id="4722" href="ConcreteToAbstract.html#4558" class="Bound">s</a> <a id="4724" class="Symbol">(</a><a id="4725" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="4728" href="ConcreteToAbstract.html#4589" class="Bound">vor</a><a id="4731" class="Symbol">)</a> <a id="4733" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="4739" href="UTxOErr.UTxO.html#2087" class="Function">C.valuesˢ</a> <a id="4749" href="ConcreteToAbstract.html#4558" class="Bound">s</a> <a id="4751" href="Prelude.Bags.AsLists.html#2162" class="Function Operator">B.─</a> <a id="4755" href="UTxOErr.UTxO.html#1990" class="Function">C.values⊑ˢ</a> <a id="4766" href="ConcreteToAbstract.html#4558" class="Bound">s</a> <a id="4768" class="Symbol">(</a><a id="4769" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="4772" href="ConcreteToAbstract.html#4589" class="Bound">vor</a><a id="4775" class="Symbol">)</a>
  <a id="4779" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="4783" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="4788" class="Symbol">(</a><a id="4789" href="UTxOErr.UTxO.html#2087" class="Function">C.valuesˢ</a> <a id="4799" href="ConcreteToAbstract.html#4558" class="Bound">s</a> <a id="4801" href="Prelude.Bags.AsLists.html#2162" class="Function Operator">B.─_</a><a id="4805" class="Symbol">)</a> <a id="4807" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="4809" href="ConcreteToAbstract.html#1550" class="Function">∣absVT∣.stxo≡</a> <a id="4823" href="ConcreteToAbstract.html#4561" class="Bound">vt</a> <a id="4826" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
    <a id="4832" href="UTxOErr.UTxO.html#2087" class="Function">C.valuesˢ</a> <a id="4842" href="ConcreteToAbstract.html#4558" class="Bound">s</a> <a id="4844" href="Prelude.Bags.AsLists.html#2162" class="Function Operator">B.─</a> <a id="4848" href="ValueSepUTxO.UTxO.html#854" class="Function">A.stxoTx</a> <a id="4857" href="ConcreteToAbstract.html#4602" class="Bound">t̂</a>
  <a id="4862" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
    <a id="4870" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="4875" href="ConcreteToAbstract.html#4558" class="Bound">s</a> <a id="4877" href="Prelude.Bags.AsLists.html#2162" class="Function Operator">B.─</a> <a id="4881" href="ValueSepUTxO.UTxO.html#854" class="Function">A.stxoTx</a> <a id="4890" href="ConcreteToAbstract.html#4602" class="Bound">t̂</a>
  <a id="4895" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

<a id="denot-abs-t₀"></a><a id="4898" href="ConcreteToAbstract.html#4898" class="Function">denot-abs-t₀</a> <a id="4911" class="Symbol">:</a> <a id="4913" class="Symbol">∀</a> <a id="4915" class="Symbol">(</a><a id="4916" href="ConcreteToAbstract.html#4916" class="Bound">vt</a> <a id="4919" class="Symbol">:</a> <a id="4921" href="UTxOErr.UTxO.html#3711" class="Record">C.IsValidTx</a> <a id="4933" href="ConcreteToAbstract.html#809" class="Generalizable">t</a> <a id="4935" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="4936" class="Symbol">)</a> <a id="4938" class="Symbol">→</a>
  <a id="4942" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">A.⟦</a> <a id="4946" href="ConcreteToAbstract.html#3505" class="Function">absT</a> <a id="4951" href="ConcreteToAbstract.html#4916" class="Bound">vt</a> <a id="4954" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">⟧₀</a> <a id="4957" class="Symbol">(</a><a id="4958" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="4963" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="4964" class="Symbol">)</a> <a id="4966" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4968" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="4973" class="Symbol">(</a><a id="4974" href="UTxOErr.Ledger.html#1180" class="Field Operator">C.⟦</a> <a id="4978" href="ConcreteToAbstract.html#809" class="Generalizable">t</a> <a id="4980" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="4983" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="4984" class="Symbol">)</a>
<a id="4986" href="ConcreteToAbstract.html#4898" class="Function">denot-abs-t₀</a> <a id="4999" class="Symbol">{</a><a id="5000" href="ConcreteToAbstract.html#5000" class="Bound">t</a><a id="5001" class="Symbol">}{</a><a id="5003" href="ConcreteToAbstract.html#5003" class="Bound">s</a><a id="5004" class="Symbol">}</a> <a id="5006" href="ConcreteToAbstract.html#5006" class="Bound">vt</a> <a id="5009" class="Symbol">=</a> <a id="5011" class="Keyword">let</a> <a id="5015" href="ConcreteToAbstract.html#5015" class="Bound">t̂</a> <a id="5018" class="Symbol">=</a> <a id="5020" href="ConcreteToAbstract.html#3505" class="Function">absT</a> <a id="5025" href="ConcreteToAbstract.html#5006" class="Bound">vt</a> <a id="5028" class="Keyword">in</a>
  <a id="5033" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="5037" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5039" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
    <a id="5049" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="5054" class="Symbol">(</a><a id="5055" href="ConcreteToAbstract.html#5003" class="Bound">s</a> <a id="5057" href="UTxOErr.UTxO.html#1538" class="Function Operator">C.─ᵏˢ</a> <a id="5063" href="Common.html#2104" class="Function">C.outputRefs</a> <a id="5076" href="ConcreteToAbstract.html#5000" class="Bound">t</a> <a id="5078" href="Prelude.Maps.AsSets.html#1469" class="Function Operator">M.∪</a> <a id="5082" href="UTxOErr.UTxO.html#1177" class="Function">C.utxoTx</a> <a id="5091" href="ConcreteToAbstract.html#5000" class="Bound">t</a><a id="5092" class="Symbol">)</a>
  <a id="5096" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5099" href="ConcreteToAbstract.html#3557" class="Function">absS-∪</a> <a id="5106" class="Symbol">{</a><a id="5107" href="ConcreteToAbstract.html#5003" class="Bound">s</a> <a id="5109" href="UTxOErr.UTxO.html#1538" class="Function Operator">C.─ᵏˢ</a> <a id="5115" href="Common.html#2104" class="Function">C.outputRefs</a> <a id="5128" href="ConcreteToAbstract.html#5000" class="Bound">t</a><a id="5129" class="Symbol">}{</a><a id="5131" href="UTxOErr.UTxO.html#1177" class="Function">C.utxoTx</a> <a id="5140" href="ConcreteToAbstract.html#5000" class="Bound">t</a><a id="5141" class="Symbol">}</a> <a id="5143" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="5149" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="5154" class="Symbol">(</a><a id="5155" href="ConcreteToAbstract.html#5003" class="Bound">s</a> <a id="5157" href="UTxOErr.UTxO.html#1538" class="Function Operator">C.─ᵏˢ</a> <a id="5163" href="Common.html#2104" class="Function">C.outputRefs</a> <a id="5176" href="ConcreteToAbstract.html#5000" class="Bound">t</a><a id="5177" class="Symbol">)</a> <a id="5179" href="Prelude.Bags.AsLists.html#2158" class="Function Operator">B.∪</a> <a id="5183" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="5188" class="Symbol">(</a><a id="5189" href="UTxOErr.UTxO.html#1177" class="Function">C.utxoTx</a> <a id="5198" href="ConcreteToAbstract.html#5000" class="Bound">t</a><a id="5199" class="Symbol">)</a>
  <a id="5203" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5206" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="5211" class="Symbol">(</a><a id="5212" href="Prelude.Bags.AsLists.html#2158" class="Function Operator">B._∪</a> <a id="5217" class="Symbol">_)</a> <a id="5220" class="Symbol">(</a><a id="5221" href="ConcreteToAbstract.html#4420" class="Function">absS-stxo</a> <a id="5231" href="ConcreteToAbstract.html#5006" class="Bound">vt</a><a id="5233" class="Symbol">)</a> <a id="5235" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="5241" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="5246" href="ConcreteToAbstract.html#5003" class="Bound">s</a> <a id="5248" href="Prelude.Bags.AsLists.html#2162" class="Function Operator">B.─</a> <a id="5252" href="ValueSepUTxO.UTxO.html#854" class="Function">A.stxoTx</a> <a id="5261" href="ConcreteToAbstract.html#5015" class="Bound">t̂</a> <a id="5264" href="Prelude.Bags.AsLists.html#2158" class="Function Operator">B.∪</a> <a id="5268" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="5273" class="Symbol">(</a><a id="5274" href="UTxOErr.UTxO.html#1177" class="Function">C.utxoTx</a> <a id="5283" href="ConcreteToAbstract.html#5000" class="Bound">t</a><a id="5284" class="Symbol">)</a>
  <a id="5288" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5291" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="5296" class="Symbol">(</a><a id="5297" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="5302" href="ConcreteToAbstract.html#5003" class="Bound">s</a> <a id="5304" href="Prelude.Bags.AsLists.html#2162" class="Function Operator">B.─</a> <a id="5308" href="ValueSepUTxO.UTxO.html#854" class="Function">A.stxoTx</a> <a id="5317" href="ConcreteToAbstract.html#5015" class="Bound">t̂</a> <a id="5320" href="Prelude.Bags.AsLists.html#2158" class="Function Operator">B.∪_</a><a id="5324" class="Symbol">)</a> <a id="5326" class="Symbol">(</a><a id="5327" href="ConcreteToAbstract.html#3645" class="Function">absS-utxo</a> <a id="5337" href="ConcreteToAbstract.html#5006" class="Bound">vt</a><a id="5339" class="Symbol">)</a> <a id="5341" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="5347" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="5352" href="ConcreteToAbstract.html#5003" class="Bound">s</a> <a id="5354" href="Prelude.Bags.AsLists.html#2162" class="Function Operator">B.─</a> <a id="5358" href="ValueSepUTxO.UTxO.html#854" class="Function">A.stxoTx</a> <a id="5367" href="ConcreteToAbstract.html#5015" class="Bound">t̂</a> <a id="5370" href="Prelude.Bags.AsLists.html#2158" class="Function Operator">B.∪</a> <a id="5374" href="ValueSepUTxO.UTxO.html#861" class="Function">A.utxoTx</a> <a id="5383" href="ConcreteToAbstract.html#5015" class="Bound">t̂</a>
  <a id="5388" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

<a id="denot-t"></a><a id="5391" href="ConcreteToAbstract.html#5391" class="Function">denot-t</a> <a id="5399" class="Symbol">:</a> <a id="5401" class="Symbol">∀</a> <a id="5403" class="Symbol">{</a><a id="5404" href="ConcreteToAbstract.html#5404" class="Bound">t</a> <a id="5406" class="Symbol">:</a> <a id="5408" href="Common.html#1452" class="Record">C.Tx</a><a id="5412" class="Symbol">}</a> <a id="5414" class="Symbol">{</a><a id="5415" href="ConcreteToAbstract.html#5415" class="Bound">s</a> <a id="5417" class="Symbol">:</a> <a id="5419" href="UTxOErr.UTxO.html#992" class="Function">C.S</a><a id="5422" class="Symbol">}</a> <a id="5424" class="Symbol">(</a><a id="5425" href="ConcreteToAbstract.html#5425" class="Bound">vt</a> <a id="5428" class="Symbol">:</a> <a id="5430" href="UTxOErr.UTxO.html#3711" class="Record">C.IsValidTx</a> <a id="5442" href="ConcreteToAbstract.html#5404" class="Bound">t</a> <a id="5444" href="ConcreteToAbstract.html#5415" class="Bound">s</a><a id="5445" class="Symbol">)</a> <a id="5447" class="Symbol">→</a>
  <a id="5451" href="UTxOErr.Ledger.html#1027" class="Field Operator">C.⟦</a> <a id="5455" href="ConcreteToAbstract.html#5404" class="Bound">t</a> <a id="5457" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="5459" href="ConcreteToAbstract.html#5415" class="Bound">s</a> <a id="5461" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5463" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="5468" class="Symbol">(</a><a id="5469" href="UTxOErr.Ledger.html#1180" class="Field Operator">C.⟦</a> <a id="5473" href="ConcreteToAbstract.html#5404" class="Bound">t</a> <a id="5475" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="5478" href="ConcreteToAbstract.html#5415" class="Bound">s</a><a id="5479" class="Symbol">)</a>
<a id="5481" href="ConcreteToAbstract.html#5391" class="Function">denot-t</a> <a id="5489" class="Symbol">{</a><a id="5490" href="ConcreteToAbstract.html#5490" class="Bound">t</a><a id="5491" class="Symbol">}{</a><a id="5493" href="ConcreteToAbstract.html#5493" class="Bound">s</a><a id="5494" class="Symbol">}</a> <a id="5496" href="ConcreteToAbstract.html#5496" class="Bound">vt</a> <a id="5499" class="Keyword">rewrite</a> <a id="5507" href="Relation.Nullary.Decidable.Core.html#3175" class="Function">dec-yes</a> <a id="5515" class="Symbol">(</a><a id="5516" href="UTxOErr.UTxO.html#5093" class="Function">C.isValidTx?</a> <a id="5529" href="ConcreteToAbstract.html#5490" class="Bound">t</a> <a id="5531" href="ConcreteToAbstract.html#5493" class="Bound">s</a><a id="5532" class="Symbol">)</a> <a id="5534" href="ConcreteToAbstract.html#5496" class="Bound">vt</a> <a id="5537" class="Symbol">.</a><a id="5538" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="5544" class="Symbol">=</a> <a id="5546" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="denot-t̂"></a><a id="5552" href="ConcreteToAbstract.html#5552" class="Function">denot-t̂</a> <a id="5561" class="Symbol">:</a> <a id="5563" class="Symbol">∀</a> <a id="5565" class="Symbol">{</a><a id="5566" href="ConcreteToAbstract.html#5566" class="Bound">t</a> <a id="5568" class="Symbol">:</a> <a id="5570" href="Common.html#1452" class="Record">A.Tx</a><a id="5574" class="Symbol">}</a> <a id="5576" class="Symbol">{</a><a id="5577" href="ConcreteToAbstract.html#5577" class="Bound">s</a> <a id="5579" class="Symbol">:</a> <a id="5581" href="ValueSepUTxO.UTxO.html#824" class="Function">A.S</a><a id="5584" class="Symbol">}</a> <a id="5586" class="Symbol">(</a><a id="5587" href="ConcreteToAbstract.html#5587" class="Bound">vt</a> <a id="5590" class="Symbol">:</a> <a id="5592" href="ValueSepUTxO.UTxO.html#996" class="Record">A.IsValidTx</a> <a id="5604" href="ConcreteToAbstract.html#5566" class="Bound">t</a> <a id="5606" href="ConcreteToAbstract.html#5577" class="Bound">s</a><a id="5607" class="Symbol">)</a> <a id="5609" class="Symbol">→</a>
  <a id="5613" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">A.⟦</a> <a id="5617" href="ConcreteToAbstract.html#5566" class="Bound">t</a> <a id="5619" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">⟧</a> <a id="5621" href="ConcreteToAbstract.html#5577" class="Bound">s</a> <a id="5623" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5625" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="5630" class="Symbol">(</a><a id="5631" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">A.⟦</a> <a id="5635" href="ConcreteToAbstract.html#5566" class="Bound">t</a> <a id="5637" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">⟧₀</a> <a id="5640" href="ConcreteToAbstract.html#5577" class="Bound">s</a><a id="5641" class="Symbol">)</a>
<a id="5643" href="ConcreteToAbstract.html#5552" class="Function">denot-t̂</a> <a id="5652" class="Symbol">{</a><a id="5653" href="ConcreteToAbstract.html#5653" class="Bound">t</a><a id="5654" class="Symbol">}{</a><a id="5656" href="ConcreteToAbstract.html#5656" class="Bound">s</a><a id="5657" class="Symbol">}</a> <a id="5659" href="ConcreteToAbstract.html#5659" class="Bound">vt</a> <a id="5662" class="Keyword">rewrite</a> <a id="5670" href="Relation.Nullary.Decidable.Core.html#3175" class="Function">dec-yes</a> <a id="5678" class="Symbol">(</a><a id="5679" href="ValueSepUTxO.UTxO.html#1465" class="Function">A.isValidTx?</a> <a id="5692" href="ConcreteToAbstract.html#5653" class="Bound">t</a> <a id="5694" href="ConcreteToAbstract.html#5656" class="Bound">s</a><a id="5695" class="Symbol">)</a> <a id="5697" href="ConcreteToAbstract.html#5659" class="Bound">vt</a> <a id="5700" class="Symbol">.</a><a id="5701" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="5707" class="Symbol">=</a> <a id="5709" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="denot-abs-t"></a><a id="5715" href="ConcreteToAbstract.html#5715" class="Function">denot-abs-t</a> <a id="5727" class="Symbol">:</a> <a id="5729" class="Symbol">∀</a> <a id="5731" class="Symbol">(</a><a id="5732" href="ConcreteToAbstract.html#5732" class="Bound">vt</a> <a id="5735" class="Symbol">:</a> <a id="5737" href="UTxOErr.UTxO.html#3711" class="Record">C.IsValidTx</a> <a id="5749" href="ConcreteToAbstract.html#809" class="Generalizable">t</a> <a id="5751" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="5752" class="Symbol">)</a> <a id="5754" class="Symbol">→</a>
  <a id="5758" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">A.⟦</a> <a id="5762" href="ConcreteToAbstract.html#3505" class="Function">absT</a> <a id="5767" href="ConcreteToAbstract.html#5732" class="Bound">vt</a> <a id="5770" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">⟧</a> <a id="5772" class="Symbol">(</a><a id="5773" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="5778" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="5779" class="Symbol">)</a> <a id="5781" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5783" class="Symbol">(</a><a id="5784" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="5789" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="5793" href="UTxOErr.Ledger.html#1027" class="Field Operator">C.⟦</a> <a id="5797" href="ConcreteToAbstract.html#809" class="Generalizable">t</a> <a id="5799" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="5801" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="5802" class="Symbol">)</a>
<a id="5804" href="ConcreteToAbstract.html#5715" class="Function">denot-abs-t</a> <a id="5816" class="Symbol">{</a><a id="5817" href="ConcreteToAbstract.html#5817" class="Bound">t</a><a id="5818" class="Symbol">}{</a><a id="5820" href="ConcreteToAbstract.html#5820" class="Bound">s</a><a id="5821" class="Symbol">}</a> <a id="5823" href="ConcreteToAbstract.html#5823" class="Bound">vt</a> <a id="5826" class="Symbol">=</a>
  <a id="5830" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
    <a id="5840" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">A.⟦</a> <a id="5844" href="ConcreteToAbstract.html#3505" class="Function">absT</a> <a id="5849" href="ConcreteToAbstract.html#5823" class="Bound">vt</a> <a id="5852" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">⟧</a> <a id="5854" class="Symbol">(</a><a id="5855" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="5860" href="ConcreteToAbstract.html#5820" class="Bound">s</a><a id="5861" class="Symbol">)</a>
  <a id="5865" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5868" href="ConcreteToAbstract.html#5552" class="Function">denot-t̂</a> <a id="5877" class="Symbol">(</a><a id="5878" href="ConcreteToAbstract.html#890" class="Function">absVT</a> <a id="5884" href="ConcreteToAbstract.html#5823" class="Bound">vt</a> <a id="5887" class="Symbol">.</a><a id="5888" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="5893" class="Symbol">)</a> <a id="5895" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="5901" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="5906" class="Symbol">(</a><a id="5907" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">A.⟦</a> <a id="5911" href="ConcreteToAbstract.html#3505" class="Function">absT</a> <a id="5916" href="ConcreteToAbstract.html#5823" class="Bound">vt</a> <a id="5919" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">⟧₀</a> <a id="5922" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5924" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="5929" href="ConcreteToAbstract.html#5820" class="Bound">s</a><a id="5930" class="Symbol">)</a>
  <a id="5934" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5937" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="5942" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="5947" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5949" href="ConcreteToAbstract.html#4898" class="Function">denot-abs-t₀</a> <a id="5962" href="ConcreteToAbstract.html#5823" class="Bound">vt</a> <a id="5965" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="5971" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="5976" class="Symbol">(</a><a id="5977" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="5982" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5984" href="UTxOErr.Ledger.html#1180" class="Field Operator">C.⟦</a> <a id="5988" href="ConcreteToAbstract.html#5817" class="Bound">t</a> <a id="5990" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="5993" href="ConcreteToAbstract.html#5820" class="Bound">s</a><a id="5994" class="Symbol">)</a>
  <a id="5998" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="6002" href="Data.Maybe.Properties.html#2420" class="Function">M.map-just</a> <a id="6013" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6015" href="ConcreteToAbstract.html#5391" class="Function">denot-t</a> <a id="6023" href="ConcreteToAbstract.html#5823" class="Bound">vt</a> <a id="6026" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
    <a id="6032" class="Symbol">(</a><a id="6033" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="6038" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="6042" href="UTxOErr.Ledger.html#1027" class="Field Operator">C.⟦</a> <a id="6046" href="ConcreteToAbstract.html#5817" class="Bound">t</a> <a id="6048" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="6050" href="ConcreteToAbstract.html#5820" class="Bound">s</a><a id="6051" class="Symbol">)</a>
  <a id="6055" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

<a id="absVL"></a><a id="6058" href="ConcreteToAbstract.html#6058" class="Function">absVL</a> <a id="6064" class="Symbol">:</a> <a id="6066" href="UTxOErr.Ledger.html#2141" class="Datatype">C.VL</a> <a id="6071" href="ConcreteToAbstract.html#786" class="Generalizable">s</a> <a id="6073" href="ConcreteToAbstract.html#799" class="Generalizable">l</a> <a id="6075" class="Symbol">→</a> <a id="6077" href="Data.Product.html#1378" class="Function">∃</a> <a id="6079" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6081" href="ValueSepUTxO.Ledger.html#2117" class="Datatype">A.VL</a> <a id="6086" class="Symbol">(</a><a id="6087" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="6092" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="6093" class="Symbol">)</a>
<a id="6095" href="ConcreteToAbstract.html#6058" class="Function">absVL</a> <a id="6101" href="UTxOErr.Ledger.html#2167" class="InductiveConstructor">[]</a> <a id="6104" class="Symbol">=</a> <a id="6106" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="6109" href="ValueSepUTxO.Ledger.html#2143" class="InductiveConstructor">[]</a>
<a id="6112" href="ConcreteToAbstract.html#6058" class="Function">absVL</a> <a id="6118" class="Symbol">{</a><a id="6119" href="ConcreteToAbstract.html#6119" class="Bound">s</a><a id="6120" class="Symbol">}{</a><a id="6122" class="DottedPattern Symbol">.</a><a id="6123" href="ConcreteToAbstract.html#6131" class="DottedPattern Bound">t</a> <a id="6125" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6127" href="ConcreteToAbstract.html#6127" class="Bound">l</a><a id="6128" class="Symbol">}</a> <a id="6130" class="Symbol">(</a><a id="6131" href="ConcreteToAbstract.html#6131" class="Bound">t</a> <a id="6133" href="UTxOErr.Ledger.html#2182" class="InductiveConstructor Operator">⊣</a> <a id="6135" href="ConcreteToAbstract.html#6135" class="Bound">vt</a> <a id="6138" href="UTxOErr.Ledger.html#2182" class="InductiveConstructor Operator">∷</a> <a id="6140" href="ConcreteToAbstract.html#6140" class="Bound">vl</a><a id="6142" class="Symbol">)</a> <a id="6144" class="Symbol">=</a>
  <a id="6148" class="Keyword">let</a>
    <a id="6156" href="ConcreteToAbstract.html#6156" class="Bound">t̂</a> <a id="6159" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6161" href="ConcreteToAbstract.html#6161" class="Bound">vt̂</a> <a id="6165" class="Symbol">=</a> <a id="6167" href="ConcreteToAbstract.html#890" class="Function">absVT</a> <a id="6173" class="Symbol">{</a><a id="6174" class="Argument">s</a> <a id="6176" class="Symbol">=</a> <a id="6178" href="ConcreteToAbstract.html#6119" class="Bound">s</a><a id="6179" class="Symbol">}</a> <a id="6181" href="ConcreteToAbstract.html#6135" class="Bound">vt</a>
    <a id="6188" href="ConcreteToAbstract.html#6188" class="Bound">l̂</a>  <a id="6192" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6194" href="ConcreteToAbstract.html#6194" class="Bound">vl̂</a> <a id="6198" class="Symbol">=</a> <a id="6200" href="ConcreteToAbstract.html#6058" class="Function">absVL</a> <a id="6206" href="ConcreteToAbstract.html#6140" class="Bound">vl</a>

    <a id="6214" href="ConcreteToAbstract.html#6214" class="Bound">EQ</a> <a id="6217" class="Symbol">:</a> <a id="6219" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="6224" class="Symbol">(</a><a id="6225" href="UTxOErr.Ledger.html#1180" class="Field Operator">C.⟦</a> <a id="6229" href="ConcreteToAbstract.html#6131" class="Bound">t</a> <a id="6231" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="6234" href="ConcreteToAbstract.html#6119" class="Bound">s</a><a id="6235" class="Symbol">)</a> <a id="6237" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6239" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">A.⟦</a> <a id="6243" href="ConcreteToAbstract.html#6156" class="Bound">t̂</a> <a id="6246" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">⟧₀</a> <a id="6249" class="Symbol">(</a><a id="6250" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="6255" href="ConcreteToAbstract.html#6119" class="Bound">s</a><a id="6256" class="Symbol">)</a>
    <a id="6262" href="ConcreteToAbstract.html#6214" class="Bound">EQ</a> <a id="6265" class="Symbol">=</a> <a id="6267" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="6271" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6273" href="ConcreteToAbstract.html#4898" class="Function">denot-abs-t₀</a> <a id="6286" href="ConcreteToAbstract.html#6135" class="Bound">vt</a>
  <a id="6291" class="Keyword">in</a>
    <a id="6298" href="ConcreteToAbstract.html#6156" class="Bound">t̂</a> <a id="6301" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6303" href="ConcreteToAbstract.html#6188" class="Bound">l̂</a> <a id="6306" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6308" href="ConcreteToAbstract.html#6156" class="Bound">t̂</a> <a id="6311" href="ValueSepUTxO.Ledger.html#2158" class="InductiveConstructor Operator">⊣</a> <a id="6313" href="ConcreteToAbstract.html#6161" class="Bound">vt̂</a> <a id="6317" href="ValueSepUTxO.Ledger.html#2158" class="InductiveConstructor Operator">∷</a> <a id="6319" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="6325" class="Symbol">(λ</a> <a id="6328" href="ConcreteToAbstract.html#6328" class="Bound">◆</a> <a id="6330" class="Symbol">→</a> <a id="6332" href="ValueSepUTxO.Ledger.html#2117" class="Datatype">A.VL</a> <a id="6337" href="ConcreteToAbstract.html#6328" class="Bound">◆</a> <a id="6339" href="ConcreteToAbstract.html#6188" class="Bound">l̂</a><a id="6341" class="Symbol">)</a> <a id="6343" href="ConcreteToAbstract.html#6214" class="Bound">EQ</a> <a id="6346" href="ConcreteToAbstract.html#6194" class="Bound">vl̂</a>

<a id="absL"></a><a id="6351" href="ConcreteToAbstract.html#6351" class="Function">absL</a> <a id="6356" class="Symbol">:</a> <a id="6358" href="UTxOErr.Ledger.html#2141" class="Datatype">C.VL</a> <a id="6363" href="ConcreteToAbstract.html#786" class="Generalizable">s</a> <a id="6365" href="ConcreteToAbstract.html#799" class="Generalizable">l</a> <a id="6367" class="Symbol">→</a> <a id="6369" href="Common.html#1622" class="Function">A.L</a>
<a id="6373" href="ConcreteToAbstract.html#6351" class="Function">absL</a> <a id="6378" class="Symbol">=</a> <a id="6380" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="6386" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="6388" href="ConcreteToAbstract.html#6058" class="Function">absVL</a>

<a id="denot-abs₀"></a><a id="6395" href="ConcreteToAbstract.html#6395" class="Function">denot-abs₀</a> <a id="6406" class="Symbol">:</a> <a id="6408" class="Symbol">∀</a> <a id="6410" class="Symbol">(</a><a id="6411" href="ConcreteToAbstract.html#6411" class="Bound">vl</a> <a id="6414" class="Symbol">:</a> <a id="6416" href="UTxOErr.Ledger.html#2141" class="Datatype">C.VL</a> <a id="6421" href="ConcreteToAbstract.html#786" class="Generalizable">s</a> <a id="6423" href="ConcreteToAbstract.html#799" class="Generalizable">l</a><a id="6424" class="Symbol">)</a> <a id="6426" class="Symbol">→</a>
  <a id="6430" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">A.⟦</a> <a id="6434" href="ConcreteToAbstract.html#6351" class="Function">absL</a> <a id="6439" href="ConcreteToAbstract.html#6411" class="Bound">vl</a> <a id="6442" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">⟧₀</a> <a id="6445" class="Symbol">(</a><a id="6446" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="6451" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="6452" class="Symbol">)</a> <a id="6454" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6456" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="6461" class="Symbol">(</a><a id="6462" href="UTxOErr.Ledger.html#1180" class="Field Operator">C.⟦</a> <a id="6466" href="ConcreteToAbstract.html#799" class="Generalizable">l</a> <a id="6468" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="6471" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="6472" class="Symbol">)</a>
<a id="6474" href="ConcreteToAbstract.html#6395" class="Function">denot-abs₀</a> <a id="6485" href="UTxOErr.Ledger.html#2167" class="InductiveConstructor">[]</a> <a id="6488" class="Symbol">=</a> <a id="6490" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="6495" href="ConcreteToAbstract.html#6395" class="Function">denot-abs₀</a> <a id="6506" class="Symbol">{</a><a id="6507" href="ConcreteToAbstract.html#6507" class="Bound">s</a><a id="6508" class="Symbol">}</a> <a id="6510" class="Symbol">{</a><a id="6511" href="ConcreteToAbstract.html#6511" class="Bound">t</a> <a id="6513" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6515" href="ConcreteToAbstract.html#6515" class="Bound">l</a><a id="6516" class="Symbol">}</a> <a id="6518" class="Symbol">(</a><a id="6519" href="ConcreteToAbstract.html#6511" class="Bound">t</a> <a id="6521" href="UTxOErr.Ledger.html#2182" class="InductiveConstructor Operator">⊣</a> <a id="6523" href="ConcreteToAbstract.html#6523" class="Bound">vt</a> <a id="6526" href="UTxOErr.Ledger.html#2182" class="InductiveConstructor Operator">∷</a> <a id="6528" href="ConcreteToAbstract.html#6528" class="Bound">vl</a><a id="6530" class="Symbol">)</a> <a id="6532" class="Symbol">=</a> <a id="6534" class="Keyword">let</a> <a id="6538" href="ConcreteToAbstract.html#6538" class="Bound">ŝ</a> <a id="6541" class="Symbol">=</a> <a id="6543" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="6548" href="ConcreteToAbstract.html#6507" class="Bound">s</a><a id="6549" class="Symbol">;</a> <a id="6551" href="ConcreteToAbstract.html#6551" class="Bound">t̂</a> <a id="6554" class="Symbol">=</a> <a id="6556" href="ConcreteToAbstract.html#3505" class="Function">absT</a> <a id="6561" href="ConcreteToAbstract.html#6523" class="Bound">vt</a><a id="6563" class="Symbol">;</a> <a id="6565" href="ConcreteToAbstract.html#6565" class="Bound">l̂</a> <a id="6568" class="Symbol">=</a> <a id="6570" href="ConcreteToAbstract.html#6351" class="Function">absL</a> <a id="6575" href="ConcreteToAbstract.html#6528" class="Bound">vl</a> <a id="6578" class="Keyword">in</a>
  <a id="6583" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
    <a id="6593" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">A.⟦</a> <a id="6597" href="ConcreteToAbstract.html#6565" class="Bound">l̂</a> <a id="6600" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">⟧₀</a> <a id="6603" class="Symbol">(</a><a id="6604" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">A.⟦</a> <a id="6608" href="ConcreteToAbstract.html#6551" class="Bound">t̂</a> <a id="6611" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">⟧₀</a> <a id="6614" href="ConcreteToAbstract.html#6538" class="Bound">ŝ</a><a id="6616" class="Symbol">)</a>
  <a id="6620" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6623" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="6628" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">A.⟦</a> <a id="6632" href="ConcreteToAbstract.html#6565" class="Bound">l̂</a> <a id="6635" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">⟧₀</a> <a id="6638" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6640" href="ConcreteToAbstract.html#4898" class="Function">denot-abs-t₀</a> <a id="6653" href="ConcreteToAbstract.html#6523" class="Bound">vt</a> <a id="6656" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="6662" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">A.⟦</a> <a id="6666" href="ConcreteToAbstract.html#6565" class="Bound">l̂</a> <a id="6669" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">⟧₀</a> <a id="6672" class="Symbol">(</a><a id="6673" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="6678" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6680" href="UTxOErr.Ledger.html#1180" class="Field Operator">C.⟦</a> <a id="6684" href="ConcreteToAbstract.html#6511" class="Bound">t</a> <a id="6686" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="6689" href="ConcreteToAbstract.html#6507" class="Bound">s</a><a id="6690" class="Symbol">)</a>
  <a id="6694" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6697" href="ConcreteToAbstract.html#6395" class="Function">denot-abs₀</a> <a id="6708" class="Symbol">{</a><a id="6709" class="Argument">s</a> <a id="6711" class="Symbol">=</a> <a id="6713" href="UTxOErr.Ledger.html#1180" class="Field Operator">C.⟦</a> <a id="6717" href="ConcreteToAbstract.html#6511" class="Bound">t</a> <a id="6719" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="6722" href="ConcreteToAbstract.html#6507" class="Bound">s</a><a id="6723" class="Symbol">}</a> <a id="6725" href="ConcreteToAbstract.html#6528" class="Bound">vl</a> <a id="6728" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="6734" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="6739" class="Symbol">(</a><a id="6740" href="UTxOErr.Ledger.html#1180" class="Field Operator">C.⟦</a> <a id="6744" href="ConcreteToAbstract.html#6515" class="Bound">l</a> <a id="6746" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="6749" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6751" href="UTxOErr.Ledger.html#1180" class="Field Operator">C.⟦</a> <a id="6755" href="ConcreteToAbstract.html#6511" class="Bound">t</a> <a id="6757" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="6760" href="ConcreteToAbstract.html#6507" class="Bound">s</a><a id="6761" class="Symbol">)</a>
  <a id="6765" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

<a id="denot-l"></a><a id="6768" href="ConcreteToAbstract.html#6768" class="Function">denot-l</a> <a id="6776" class="Symbol">:</a> <a id="6778" class="Symbol">∀</a> <a id="6780" class="Symbol">{</a><a id="6781" href="ConcreteToAbstract.html#6781" class="Bound">l</a> <a id="6783" class="Symbol">:</a> <a id="6785" href="Common.html#1622" class="Function">C.L</a><a id="6788" class="Symbol">}</a> <a id="6790" class="Symbol">{</a><a id="6791" href="ConcreteToAbstract.html#6791" class="Bound">s</a> <a id="6793" class="Symbol">:</a> <a id="6795" href="UTxOErr.UTxO.html#992" class="Function">C.S</a><a id="6798" class="Symbol">}</a> <a id="6800" class="Symbol">(</a><a id="6801" href="ConcreteToAbstract.html#6801" class="Bound">vl</a> <a id="6804" class="Symbol">:</a> <a id="6806" href="UTxOErr.Ledger.html#2141" class="Datatype">C.VL</a> <a id="6811" href="ConcreteToAbstract.html#6791" class="Bound">s</a> <a id="6813" href="ConcreteToAbstract.html#6781" class="Bound">l</a><a id="6814" class="Symbol">)</a> <a id="6816" class="Symbol">→</a>
  <a id="6820" href="UTxOErr.Ledger.html#1027" class="Field Operator">C.⟦</a> <a id="6824" href="ConcreteToAbstract.html#6781" class="Bound">l</a> <a id="6826" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="6828" href="ConcreteToAbstract.html#6791" class="Bound">s</a> <a id="6830" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6832" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="6837" class="Symbol">(</a><a id="6838" href="UTxOErr.Ledger.html#1180" class="Field Operator">C.⟦</a> <a id="6842" href="ConcreteToAbstract.html#6781" class="Bound">l</a> <a id="6844" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="6847" href="ConcreteToAbstract.html#6791" class="Bound">s</a><a id="6848" class="Symbol">)</a>
<a id="6850" href="ConcreteToAbstract.html#6768" class="Function">denot-l</a> <a id="6858" href="UTxOErr.Ledger.html#2167" class="InductiveConstructor">[]</a> <a id="6861" class="Symbol">=</a> <a id="6863" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="6868" href="ConcreteToAbstract.html#6768" class="Function">denot-l</a> <a id="6876" class="Symbol">(_</a> <a id="6879" href="UTxOErr.Ledger.html#2182" class="InductiveConstructor Operator">⊣</a> <a id="6881" href="ConcreteToAbstract.html#6881" class="Bound">vt</a> <a id="6884" href="UTxOErr.Ledger.html#2182" class="InductiveConstructor Operator">∷</a> <a id="6886" href="ConcreteToAbstract.html#6886" class="Bound">vl</a><a id="6888" class="Symbol">)</a> <a id="6890" class="Keyword">rewrite</a> <a id="6898" href="ConcreteToAbstract.html#5391" class="Function">denot-t</a> <a id="6906" href="ConcreteToAbstract.html#6881" class="Bound">vt</a> <a id="6909" class="Symbol">|</a> <a id="6911" href="ConcreteToAbstract.html#6768" class="Function">denot-l</a> <a id="6919" href="ConcreteToAbstract.html#6886" class="Bound">vl</a> <a id="6922" class="Symbol">=</a> <a id="6924" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="denot-l̂"></a><a id="6930" href="ConcreteToAbstract.html#6930" class="Function">denot-l̂</a> <a id="6939" class="Symbol">:</a> <a id="6941" class="Symbol">∀</a> <a id="6943" class="Symbol">{</a><a id="6944" href="ConcreteToAbstract.html#6944" class="Bound">l</a> <a id="6946" class="Symbol">:</a> <a id="6948" href="Common.html#1622" class="Function">A.L</a><a id="6951" class="Symbol">}</a> <a id="6953" class="Symbol">{</a><a id="6954" href="ConcreteToAbstract.html#6954" class="Bound">s</a> <a id="6956" class="Symbol">:</a> <a id="6958" href="ValueSepUTxO.UTxO.html#824" class="Function">A.S</a><a id="6961" class="Symbol">}</a> <a id="6963" class="Symbol">(</a><a id="6964" href="ConcreteToAbstract.html#6964" class="Bound">vl</a> <a id="6967" class="Symbol">:</a> <a id="6969" href="ValueSepUTxO.Ledger.html#2117" class="Datatype">A.VL</a> <a id="6974" href="ConcreteToAbstract.html#6954" class="Bound">s</a> <a id="6976" href="ConcreteToAbstract.html#6944" class="Bound">l</a><a id="6977" class="Symbol">)</a> <a id="6979" class="Symbol">→</a>
  <a id="6983" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">A.⟦</a> <a id="6987" href="ConcreteToAbstract.html#6944" class="Bound">l</a> <a id="6989" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">⟧</a> <a id="6991" href="ConcreteToAbstract.html#6954" class="Bound">s</a> <a id="6993" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6995" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="7000" class="Symbol">(</a><a id="7001" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">A.⟦</a> <a id="7005" href="ConcreteToAbstract.html#6944" class="Bound">l</a> <a id="7007" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">⟧₀</a> <a id="7010" href="ConcreteToAbstract.html#6954" class="Bound">s</a><a id="7011" class="Symbol">)</a>
<a id="7013" href="ConcreteToAbstract.html#6930" class="Function">denot-l̂</a> <a id="7022" href="ValueSepUTxO.Ledger.html#2143" class="InductiveConstructor">[]</a> <a id="7025" class="Symbol">=</a> <a id="7027" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="7032" href="ConcreteToAbstract.html#6930" class="Function">denot-l̂</a> <a id="7041" class="Symbol">(_</a> <a id="7044" href="ValueSepUTxO.Ledger.html#2158" class="InductiveConstructor Operator">⊣</a> <a id="7046" href="ConcreteToAbstract.html#7046" class="Bound">vt</a> <a id="7049" href="ValueSepUTxO.Ledger.html#2158" class="InductiveConstructor Operator">∷</a> <a id="7051" href="ConcreteToAbstract.html#7051" class="Bound">vl</a><a id="7053" class="Symbol">)</a> <a id="7055" class="Keyword">rewrite</a> <a id="7063" href="ConcreteToAbstract.html#5552" class="Function">denot-t̂</a> <a id="7072" href="ConcreteToAbstract.html#7046" class="Bound">vt</a> <a id="7075" class="Symbol">|</a> <a id="7077" href="ConcreteToAbstract.html#6930" class="Function">denot-l̂</a> <a id="7086" href="ConcreteToAbstract.html#7051" class="Bound">vl</a> <a id="7089" class="Symbol">=</a> <a id="7091" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="denot-abs"></a><a id="7097" href="ConcreteToAbstract.html#7097" class="Function">denot-abs</a> <a id="7107" class="Symbol">:</a> <a id="7109" class="Symbol">∀</a> <a id="7111" class="Symbol">(</a><a id="7112" href="ConcreteToAbstract.html#7112" class="Bound">vl</a> <a id="7115" class="Symbol">:</a> <a id="7117" href="UTxOErr.Ledger.html#2141" class="Datatype">C.VL</a> <a id="7122" href="ConcreteToAbstract.html#786" class="Generalizable">s</a> <a id="7124" href="ConcreteToAbstract.html#799" class="Generalizable">l</a><a id="7125" class="Symbol">)</a> <a id="7127" class="Symbol">→</a>
  <a id="7131" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">A.⟦</a> <a id="7135" href="ConcreteToAbstract.html#6351" class="Function">absL</a> <a id="7140" href="ConcreteToAbstract.html#7112" class="Bound">vl</a> <a id="7143" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">⟧</a> <a id="7145" class="Symbol">(</a><a id="7146" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="7151" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="7152" class="Symbol">)</a> <a id="7154" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="7156" class="Symbol">(</a><a id="7157" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="7162" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="7166" href="UTxOErr.Ledger.html#1027" class="Field Operator">C.⟦</a> <a id="7170" href="ConcreteToAbstract.html#799" class="Generalizable">l</a> <a id="7172" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="7174" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="7175" class="Symbol">)</a>
<a id="7177" href="ConcreteToAbstract.html#7097" class="Function">denot-abs</a> <a id="7187" href="UTxOErr.Ledger.html#2167" class="InductiveConstructor">[]</a> <a id="7190" class="Symbol">=</a> <a id="7192" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="7197" href="ConcreteToAbstract.html#7097" class="Function">denot-abs</a> <a id="7207" class="Symbol">{</a><a id="7208" href="ConcreteToAbstract.html#7208" class="Bound">s</a><a id="7209" class="Symbol">}</a> <a id="7211" class="Symbol">{</a><a id="7212" href="ConcreteToAbstract.html#7212" class="Bound">t</a> <a id="7214" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7216" href="ConcreteToAbstract.html#7216" class="Bound">l</a><a id="7217" class="Symbol">}</a> <a id="7219" class="Symbol">(</a><a id="7220" class="DottedPattern Symbol">.</a><a id="7221" href="ConcreteToAbstract.html#7212" class="DottedPattern Bound">t</a> <a id="7223" href="UTxOErr.Ledger.html#2182" class="InductiveConstructor Operator">⊣</a> <a id="7225" href="ConcreteToAbstract.html#7225" class="Bound">vt</a> <a id="7228" href="UTxOErr.Ledger.html#2182" class="InductiveConstructor Operator">∷</a> <a id="7230" href="ConcreteToAbstract.html#7230" class="Bound">vl</a><a id="7232" class="Symbol">)</a>
  <a id="7236" class="Keyword">rewrite</a> <a id="7244" href="ConcreteToAbstract.html#5391" class="Function">denot-t</a> <a id="7252" href="ConcreteToAbstract.html#7225" class="Bound">vt</a> <a id="7255" class="Symbol">|</a> <a id="7257" href="ConcreteToAbstract.html#5552" class="Function">denot-t̂</a> <a id="7266" class="Symbol">(</a><a id="7267" href="ConcreteToAbstract.html#890" class="Function">absVT</a> <a id="7273" href="ConcreteToAbstract.html#7225" class="Bound">vt</a> <a id="7276" class="Symbol">.</a><a id="7277" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="7282" class="Symbol">)</a> <a id="7284" class="Symbol">=</a>
  <a id="7288" class="Keyword">let</a> <a id="7292" href="ConcreteToAbstract.html#7292" class="Bound">ŝ</a> <a id="7295" class="Symbol">=</a> <a id="7297" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="7302" href="ConcreteToAbstract.html#7208" class="Bound">s</a><a id="7303" class="Symbol">;</a> <a id="7305" href="ConcreteToAbstract.html#7305" class="Bound">t̂</a> <a id="7308" class="Symbol">=</a> <a id="7310" href="ConcreteToAbstract.html#3505" class="Function">absT</a> <a id="7315" href="ConcreteToAbstract.html#7225" class="Bound">vt</a><a id="7317" class="Symbol">;</a> <a id="7319" href="ConcreteToAbstract.html#7319" class="Bound">l̂</a> <a id="7322" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7324" href="ConcreteToAbstract.html#7324" class="Bound">vl̂</a> <a id="7328" class="Symbol">=</a> <a id="7330" href="ConcreteToAbstract.html#6058" class="Function">absVL</a> <a id="7336" href="ConcreteToAbstract.html#7230" class="Bound">vl</a> <a id="7339" class="Keyword">in</a>
  <a id="7344" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
    <a id="7354" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">A.⟦</a> <a id="7358" href="ConcreteToAbstract.html#7319" class="Bound">l̂</a> <a id="7361" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">⟧</a> <a id="7363" class="Symbol">(</a><a id="7364" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">A.⟦</a> <a id="7368" href="ConcreteToAbstract.html#7305" class="Bound">t̂</a> <a id="7371" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">⟧₀</a> <a id="7374" href="ConcreteToAbstract.html#7292" class="Bound">ŝ</a><a id="7376" class="Symbol">)</a>
  <a id="7380" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="7383" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="7388" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">A.⟦</a> <a id="7392" href="ConcreteToAbstract.html#7319" class="Bound">l̂</a> <a id="7395" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">⟧</a> <a id="7397" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7399" href="ConcreteToAbstract.html#4898" class="Function">denot-abs-t₀</a> <a id="7412" href="ConcreteToAbstract.html#7225" class="Bound">vt</a> <a id="7415" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="7421" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">A.⟦</a> <a id="7425" href="ConcreteToAbstract.html#7319" class="Bound">l̂</a> <a id="7428" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">⟧</a> <a id="7430" class="Symbol">(</a><a id="7431" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="7436" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7438" href="UTxOErr.Ledger.html#1180" class="Field Operator">C.⟦</a> <a id="7442" href="ConcreteToAbstract.html#7212" class="Bound">t</a> <a id="7444" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="7447" href="ConcreteToAbstract.html#7208" class="Bound">s</a><a id="7448" class="Symbol">)</a>
  <a id="7452" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="7455" href="ConcreteToAbstract.html#6930" class="Function">denot-l̂</a> <a id="7464" href="ConcreteToAbstract.html#7324" class="Bound">vl̂</a> <a id="7468" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="7474" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="7479" class="Symbol">(</a><a id="7480" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">A.⟦</a> <a id="7484" href="ConcreteToAbstract.html#7319" class="Bound">l̂</a> <a id="7487" href="ValueSepUTxO.Ledger.html#1162" class="Field Operator">⟧₀</a> <a id="7490" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7492" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="7497" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7499" href="UTxOErr.Ledger.html#1180" class="Field Operator">C.⟦</a> <a id="7503" href="ConcreteToAbstract.html#7212" class="Bound">t</a> <a id="7505" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="7508" href="ConcreteToAbstract.html#7208" class="Bound">s</a><a id="7509" class="Symbol">)</a>
  <a id="7513" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="7516" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="7521" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="7526" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7528" href="ConcreteToAbstract.html#6395" class="Function">denot-abs₀</a> <a id="7539" href="ConcreteToAbstract.html#7230" class="Bound">vl</a> <a id="7542" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="7548" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="7553" class="Symbol">(</a><a id="7554" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="7559" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7561" href="UTxOErr.Ledger.html#1180" class="Field Operator">C.⟦</a> <a id="7565" href="ConcreteToAbstract.html#7216" class="Bound">l</a> <a id="7567" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="7570" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7572" href="UTxOErr.Ledger.html#1180" class="Field Operator">C.⟦</a> <a id="7576" href="ConcreteToAbstract.html#7212" class="Bound">t</a> <a id="7578" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="7581" href="ConcreteToAbstract.html#7208" class="Bound">s</a><a id="7582" class="Symbol">)</a>
  <a id="7586" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="7590" href="Data.Maybe.Properties.html#2420" class="Function">M.map-just</a> <a id="7601" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7603" href="ConcreteToAbstract.html#6768" class="Function">denot-l</a> <a id="7611" href="ConcreteToAbstract.html#7230" class="Bound">vl</a> <a id="7614" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
    <a id="7620" class="Symbol">(</a><a id="7621" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="7626" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="7630" href="UTxOErr.Ledger.html#1027" class="Field Operator">C.⟦</a> <a id="7634" href="ConcreteToAbstract.html#7216" class="Bound">l</a> <a id="7636" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="7638" class="Symbol">(</a><a id="7639" href="UTxOErr.Ledger.html#1180" class="Field Operator">C.⟦</a> <a id="7643" href="ConcreteToAbstract.html#7212" class="Bound">t</a> <a id="7645" href="UTxOErr.Ledger.html#1180" class="Field Operator">⟧₀</a> <a id="7648" href="ConcreteToAbstract.html#7208" class="Bound">s</a><a id="7649" class="Symbol">))</a>
  <a id="7654" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

<a id="↑"></a><a id="7657" href="ConcreteToAbstract.html#7657" class="Function">↑</a> <a id="7659" class="Symbol">=</a> <a id="7661" href="Data.Maybe.Relation.Unary.Any.html#839" class="Datatype">M.Any.Any</a>

<a id="denot-sound"></a><a id="7672" href="ConcreteToAbstract.html#7672" class="Function">denot-sound</a> <a id="7684" class="Symbol">:</a> <a id="7686" class="Symbol">∀</a> <a id="7688" class="Symbol">(</a><a id="7689" href="ConcreteToAbstract.html#7689" class="Bound">vl</a> <a id="7692" class="Symbol">:</a> <a id="7694" href="UTxOErr.Ledger.html#2141" class="Datatype">C.VL</a> <a id="7699" href="ConcreteToAbstract.html#786" class="Generalizable">s</a> <a id="7701" href="ConcreteToAbstract.html#799" class="Generalizable">l</a><a id="7702" class="Symbol">)</a> <a id="7704" class="Symbol">→</a>
  <a id="7708" class="Symbol">(</a><a id="7709" href="ConcreteToAbstract.html#820" class="Generalizable">P</a> <a id="7711" class="Symbol">(</a><a id="7712" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="7717" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="7718" class="Symbol">)</a> <a id="7720" class="Symbol">→</a> <a id="7722" href="ConcreteToAbstract.html#7657" class="Function">↑</a> <a id="7724" href="ConcreteToAbstract.html#822" class="Generalizable">Q</a> <a id="7726" class="Symbol">(</a><a id="7727" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">A.⟦</a> <a id="7731" href="ConcreteToAbstract.html#6351" class="Function">absL</a> <a id="7736" href="ConcreteToAbstract.html#7689" class="Bound">vl</a> <a id="7739" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">⟧</a> <a id="7741" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7743" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="7748" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="7749" class="Symbol">))</a>
  <a id="7754" href="Prelude.InferenceRules.html#13287" class="Function Operator">───────────────────────────────────────────</a>
  <a id="7800" class="Symbol">(</a><a id="7801" href="ConcreteToAbstract.html#820" class="Generalizable">P</a> <a id="7803" class="Symbol">(</a><a id="7804" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="7809" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="7810" class="Symbol">)</a> <a id="7812" class="Symbol">→</a> <a id="7814" href="ConcreteToAbstract.html#7657" class="Function">↑</a> <a id="7816" href="ConcreteToAbstract.html#822" class="Generalizable">Q</a> <a id="7818" class="Symbol">(</a><a id="7819" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="7824" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="7828" href="UTxOErr.Ledger.html#1027" class="Field Operator">C.⟦</a> <a id="7832" href="ConcreteToAbstract.html#799" class="Generalizable">l</a> <a id="7834" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="7836" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="7837" class="Symbol">))</a>
<a id="7840" href="ConcreteToAbstract.html#7672" class="Function">denot-sound</a> <a id="7852" href="ConcreteToAbstract.html#7852" class="Bound">vl</a> <a id="7855" href="ConcreteToAbstract.html#7855" class="Bound">PlQ</a> <a id="7859" href="ConcreteToAbstract.html#7859" class="Bound">Ps</a> <a id="7862" class="Symbol">=</a> <a id="7864" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="7870" class="Symbol">(</a><a id="7871" href="ConcreteToAbstract.html#7657" class="Function">↑</a> <a id="7873" class="Symbol">_)</a> <a id="7876" class="Symbol">(</a><a id="7877" href="ConcreteToAbstract.html#7097" class="Function">denot-abs</a> <a id="7887" href="ConcreteToAbstract.html#7852" class="Bound">vl</a><a id="7889" class="Symbol">)</a> <a id="7891" class="Symbol">(</a><a id="7892" href="ConcreteToAbstract.html#7855" class="Bound">PlQ</a> <a id="7896" href="ConcreteToAbstract.html#7859" class="Bound">Ps</a><a id="7898" class="Symbol">)</a>

<a id="denot-sound′"></a><a id="7901" href="ConcreteToAbstract.html#7901" class="Function">denot-sound′</a> <a id="7914" class="Symbol">:</a> <a id="7916" class="Symbol">∀</a> <a id="7918" class="Symbol">(</a><a id="7919" href="ConcreteToAbstract.html#7919" class="Bound">vl</a> <a id="7922" class="Symbol">:</a> <a id="7924" href="UTxOErr.Ledger.html#2141" class="Datatype">C.VL</a> <a id="7929" href="ConcreteToAbstract.html#786" class="Generalizable">s</a> <a id="7931" href="ConcreteToAbstract.html#799" class="Generalizable">l</a><a id="7932" class="Symbol">)</a> <a id="7934" class="Symbol">→</a>
  <a id="7938" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="7940" href="ConcreteToAbstract.html#820" class="Generalizable">P</a> <a id="7942" class="Symbol">(</a><a id="7943" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="7948" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="7949" class="Symbol">)</a>
  <a id="7953" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="7955" href="ConcreteToAbstract.html#7657" class="Function">↑</a> <a id="7957" href="ConcreteToAbstract.html#822" class="Generalizable">Q</a> <a id="7959" class="Symbol">(</a><a id="7960" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">A.⟦</a> <a id="7964" href="ConcreteToAbstract.html#6351" class="Function">absL</a> <a id="7969" href="ConcreteToAbstract.html#7919" class="Bound">vl</a> <a id="7972" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">⟧</a> <a id="7974" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7976" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="7981" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="7982" class="Symbol">)</a>
    <a id="7988" href="Prelude.InferenceRules.html#13868" class="Function Operator">─────────────────────────────</a>
    <a id="8022" href="ConcreteToAbstract.html#7657" class="Function">↑</a> <a id="8024" href="ConcreteToAbstract.html#822" class="Generalizable">Q</a> <a id="8026" class="Symbol">(</a><a id="8027" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="8032" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="8036" href="UTxOErr.Ledger.html#1027" class="Field Operator">C.⟦</a> <a id="8040" href="ConcreteToAbstract.html#799" class="Generalizable">l</a> <a id="8042" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="8044" href="ConcreteToAbstract.html#786" class="Generalizable">s</a><a id="8045" class="Symbol">)</a>
<a id="8047" href="ConcreteToAbstract.html#7901" class="Function">denot-sound′</a> <a id="8060" href="ConcreteToAbstract.html#8060" class="Bound">vl</a> <a id="8063" href="ConcreteToAbstract.html#8063" class="Bound">Ps</a> <a id="8066" class="Symbol">=</a> <a id="8068" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="8074" class="Symbol">(</a><a id="8075" href="ConcreteToAbstract.html#7657" class="Function">↑</a> <a id="8077" class="Symbol">_)</a> <a id="8080" class="Symbol">(</a><a id="8081" href="ConcreteToAbstract.html#7097" class="Function">denot-abs</a> <a id="8091" href="ConcreteToAbstract.html#8060" class="Bound">vl</a><a id="8093" class="Symbol">)</a>

<a id="8096" class="Comment">{- ** cannot formulate soundness without relating to a specific state
soundness : ∀ {P Q : Pred₀ A.S} (vl : C.VL {!!} l) →
  A.⟨ P ⟩ absL vl ⟨ Q ⟩
  ─────────────────────────────
  C.⟨ P ∘ absS ⟩ l ⟨ Q ∘ absS ⟩
soundness = {!!}
-}</a>

<a id="8328" class="Comment">-- ** universally quantifying abstract ledgers</a>
<a id="soundness-∀l̂"></a><a id="8375" href="ConcreteToAbstract.html#8375" class="Function">soundness-∀l̂</a> <a id="8389" class="Symbol">:</a> <a id="8391" class="Symbol">∀</a> <a id="8393" class="Symbol">{</a><a id="8394" href="ConcreteToAbstract.html#8394" class="Bound">P</a> <a id="8396" href="ConcreteToAbstract.html#8396" class="Bound">Q</a> <a id="8398" class="Symbol">:</a> <a id="8400" href="Prelude.Init.html#13317" class="Function">Pred₀</a> <a id="8406" href="ValueSepUTxO.UTxO.html#824" class="Function">A.S</a><a id="8409" class="Symbol">}</a> <a id="8411" class="Symbol">→</a>
    <a id="8417" class="Symbol">(∀</a> <a id="8420" href="ConcreteToAbstract.html#8420" class="Bound">l̂</a> <a id="8423" class="Symbol">→</a> <a id="8425" href="ValueSepUTxO.HoareLogic.html#1105" class="Function Operator">A.⟨</a> <a id="8429" href="ConcreteToAbstract.html#8394" class="Bound">P</a> <a id="8431" href="ValueSepUTxO.HoareLogic.html#1105" class="Function Operator">⟩</a> <a id="8433" href="ConcreteToAbstract.html#8420" class="Bound">l̂</a> <a id="8436" href="ValueSepUTxO.HoareLogic.html#1105" class="Function Operator">⟨</a> <a id="8438" href="ConcreteToAbstract.html#8396" class="Bound">Q</a> <a id="8440" href="ValueSepUTxO.HoareLogic.html#1105" class="Function Operator">⟩</a><a id="8441" class="Symbol">)</a>
    <a id="8447" href="Prelude.InferenceRules.html#13188" class="Function Operator">─────────────────────────────────────────────</a>
    <a id="8497" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">C.⟨</a> <a id="8501" class="Symbol">(</a><a id="8502" href="ConcreteToAbstract.html#8394" class="Bound">P</a> <a id="8504" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="8506" href="ConcreteToAbstract.html#837" class="Function">absS</a><a id="8510" class="Symbol">)</a> <a id="8512" href="Relation.Unary.html#4512" class="Function Operator">∩</a> <a id="8514" href="Function.Base.html#1563" class="Function">flip</a> <a id="8519" href="UTxOErr.Ledger.html#2141" class="Datatype">C.VL</a> <a id="8524" href="ConcreteToAbstract.html#799" class="Generalizable">l</a> <a id="8526" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="8528" href="ConcreteToAbstract.html#799" class="Generalizable">l</a> <a id="8530" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="8532" href="ConcreteToAbstract.html#8396" class="Bound">Q</a> <a id="8534" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="8536" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="8541" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a>
<a id="8543" href="ConcreteToAbstract.html#8375" class="Function">soundness-∀l̂</a> <a id="8557" class="Symbol">{</a><a id="8558" href="ConcreteToAbstract.html#8558" class="Bound">l</a><a id="8559" class="Symbol">}{</a><a id="8561" href="ConcreteToAbstract.html#8561" class="Bound">P</a><a id="8562" class="Symbol">}{</a><a id="8564" href="ConcreteToAbstract.html#8564" class="Bound">Q</a><a id="8565" class="Symbol">}</a> <a id="8567" href="ConcreteToAbstract.html#8567" class="Bound">PlQ</a> <a id="8571" class="Symbol">{</a><a id="8572" href="ConcreteToAbstract.html#8572" class="Bound">s</a><a id="8573" class="Symbol">}</a> <a id="8575" class="Symbol">(</a><a id="8576" href="ConcreteToAbstract.html#8576" class="Bound">Ps</a> <a id="8579" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8581" href="ConcreteToAbstract.html#8581" class="Bound">vl</a><a id="8583" class="Symbol">)</a> <a id="8585" class="Symbol">=</a>
  <a id="8589" href="Prelude.Maybes.html#805" class="Function">MAny-map⁻</a> <a id="8599" href="ConcreteToAbstract.html#8705" class="Function">Qs</a>
  <a id="8604" class="Keyword">where</a>
    <a id="8614" href="ConcreteToAbstract.html#8614" class="Function">ŝ</a> <a id="8617" class="Symbol">=</a> <a id="8619" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="8624" href="ConcreteToAbstract.html#8572" class="Bound">s</a>
    <a id="8630" href="ConcreteToAbstract.html#8630" class="Function">l̂</a> <a id="8633" class="Symbol">=</a> <a id="8635" href="ConcreteToAbstract.html#6351" class="Function">absL</a> <a id="8640" href="ConcreteToAbstract.html#8581" class="Bound">vl</a>

    <a id="8648" href="ConcreteToAbstract.html#8648" class="Function">Qŝ</a> <a id="8652" class="Symbol">:</a> <a id="8654" href="Data.Maybe.Relation.Unary.Any.html#839" class="Datatype">M.Any.Any</a> <a id="8664" href="ConcreteToAbstract.html#8564" class="Bound">Q</a> <a id="8666" class="Symbol">(</a><a id="8667" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">A.⟦</a> <a id="8671" href="ConcreteToAbstract.html#8630" class="Function">l̂</a> <a id="8674" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">⟧</a> <a id="8676" href="ConcreteToAbstract.html#8614" class="Function">ŝ</a><a id="8678" class="Symbol">)</a>
    <a id="8684" href="ConcreteToAbstract.html#8648" class="Function">Qŝ</a> <a id="8688" class="Symbol">=</a> <a id="8690" href="ConcreteToAbstract.html#8567" class="Bound">PlQ</a> <a id="8694" href="ConcreteToAbstract.html#8630" class="Function">l̂</a> <a id="8697" href="ConcreteToAbstract.html#8576" class="Bound">Ps</a>

    <a id="8705" href="ConcreteToAbstract.html#8705" class="Function">Qs</a> <a id="8708" class="Symbol">:</a> <a id="8710" href="Data.Maybe.Relation.Unary.Any.html#839" class="Datatype">M.Any.Any</a> <a id="8720" href="ConcreteToAbstract.html#8564" class="Bound">Q</a> <a id="8722" class="Symbol">(</a><a id="8723" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="8728" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="8732" href="UTxOErr.Ledger.html#1027" class="Field Operator">C.⟦</a> <a id="8736" href="ConcreteToAbstract.html#8558" class="Bound">l</a> <a id="8738" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="8740" href="ConcreteToAbstract.html#8572" class="Bound">s</a><a id="8741" class="Symbol">)</a>
    <a id="8747" href="ConcreteToAbstract.html#8705" class="Function">Qs</a> <a id="8750" class="Symbol">=</a> <a id="8752" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="8758" class="Symbol">(</a><a id="8759" href="Data.Maybe.Relation.Unary.Any.html#839" class="Datatype">M.Any.Any</a> <a id="8769" href="ConcreteToAbstract.html#8564" class="Bound">Q</a><a id="8770" class="Symbol">)</a> <a id="8772" class="Symbol">(</a><a id="8773" href="ConcreteToAbstract.html#7097" class="Function">denot-abs</a> <a id="8783" href="ConcreteToAbstract.html#8581" class="Bound">vl</a><a id="8785" class="Symbol">)</a> <a id="8787" href="ConcreteToAbstract.html#8648" class="Function">Qŝ</a>

<a id="8792" class="Comment">-- ** universally quantifying proofs of validity</a>
<a id="soundness-∀vl"></a><a id="8841" href="ConcreteToAbstract.html#8841" class="Function">soundness-∀vl</a> <a id="8855" class="Symbol">:</a> <a id="8857" class="Symbol">∀</a> <a id="8859" class="Symbol">{</a><a id="8860" href="ConcreteToAbstract.html#8860" class="Bound">P</a> <a id="8862" href="ConcreteToAbstract.html#8862" class="Bound">Q</a> <a id="8864" class="Symbol">:</a> <a id="8866" href="Prelude.Init.html#13317" class="Function">Pred₀</a> <a id="8872" href="ValueSepUTxO.UTxO.html#824" class="Function">A.S</a><a id="8875" class="Symbol">}</a> <a id="8877" class="Symbol">→</a>
  <a id="8881" class="Symbol">(∀</a> <a id="8884" class="Symbol">{</a><a id="8885" href="ConcreteToAbstract.html#8885" class="Bound">s</a><a id="8886" class="Symbol">}</a> <a id="8888" class="Symbol">(</a><a id="8889" href="ConcreteToAbstract.html#8889" class="Bound">vl</a> <a id="8892" class="Symbol">:</a> <a id="8894" href="UTxOErr.Ledger.html#2141" class="Datatype">C.VL</a> <a id="8899" href="ConcreteToAbstract.html#8885" class="Bound">s</a> <a id="8901" href="ConcreteToAbstract.html#799" class="Generalizable">l</a><a id="8902" class="Symbol">)</a> <a id="8904" class="Symbol">→</a> <a id="8906" href="ValueSepUTxO.HoareLogic.html#1105" class="Function Operator">A.⟨</a> <a id="8910" href="ConcreteToAbstract.html#8860" class="Bound">P</a> <a id="8912" href="ValueSepUTxO.HoareLogic.html#1105" class="Function Operator">⟩</a> <a id="8914" href="ConcreteToAbstract.html#6351" class="Function">absL</a> <a id="8919" href="ConcreteToAbstract.html#8889" class="Bound">vl</a> <a id="8922" href="ValueSepUTxO.HoareLogic.html#1105" class="Function Operator">⟨</a> <a id="8924" href="ConcreteToAbstract.html#8862" class="Bound">Q</a> <a id="8926" href="ValueSepUTxO.HoareLogic.html#1105" class="Function Operator">⟩</a><a id="8927" class="Symbol">)</a>
  <a id="8931" href="Prelude.InferenceRules.html#13085" class="Function Operator">───────────────────────────────────────────────</a>
  <a id="8981" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">C.⟨</a> <a id="8985" class="Symbol">(</a><a id="8986" href="ConcreteToAbstract.html#8860" class="Bound">P</a> <a id="8988" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="8990" href="ConcreteToAbstract.html#837" class="Function">absS</a><a id="8994" class="Symbol">)</a> <a id="8996" href="Relation.Unary.html#4512" class="Function Operator">∩</a> <a id="8998" href="Function.Base.html#1563" class="Function">flip</a> <a id="9003" href="UTxOErr.Ledger.html#2141" class="Datatype">C.VL</a> <a id="9008" href="ConcreteToAbstract.html#799" class="Generalizable">l</a> <a id="9010" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="9012" href="ConcreteToAbstract.html#799" class="Generalizable">l</a> <a id="9014" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="9016" href="ConcreteToAbstract.html#8862" class="Bound">Q</a> <a id="9018" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="9020" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="9025" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a>
<a id="9027" href="ConcreteToAbstract.html#8841" class="Function">soundness-∀vl</a> <a id="9041" class="Symbol">{</a><a id="9042" href="ConcreteToAbstract.html#9042" class="Bound">l</a><a id="9043" class="Symbol">}{</a><a id="9045" href="ConcreteToAbstract.html#9045" class="Bound">P</a><a id="9046" class="Symbol">}{</a><a id="9048" href="ConcreteToAbstract.html#9048" class="Bound">Q</a><a id="9049" class="Symbol">}</a> <a id="9051" href="ConcreteToAbstract.html#9051" class="Bound">PlQ</a> <a id="9055" class="Symbol">{</a><a id="9056" href="ConcreteToAbstract.html#9056" class="Bound">s</a><a id="9057" class="Symbol">}</a> <a id="9059" class="Symbol">(</a><a id="9060" href="ConcreteToAbstract.html#9060" class="Bound">Ps</a> <a id="9063" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="9065" href="ConcreteToAbstract.html#9065" class="Bound">vl</a><a id="9067" class="Symbol">)</a> <a id="9069" class="Symbol">=</a>
  <a id="9073" href="Prelude.Maybes.html#805" class="Function">MAny-map⁻</a> <a id="9083" href="ConcreteToAbstract.html#9189" class="Function">Qs</a>
  <a id="9088" class="Keyword">where</a>
    <a id="9098" href="ConcreteToAbstract.html#9098" class="Function">ŝ</a> <a id="9101" class="Symbol">=</a> <a id="9103" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="9108" href="ConcreteToAbstract.html#9056" class="Bound">s</a>
    <a id="9114" href="ConcreteToAbstract.html#9114" class="Function">l̂</a> <a id="9117" class="Symbol">=</a> <a id="9119" href="ConcreteToAbstract.html#6351" class="Function">absL</a> <a id="9124" href="ConcreteToAbstract.html#9065" class="Bound">vl</a>

    <a id="9132" href="ConcreteToAbstract.html#9132" class="Function">Qŝ</a> <a id="9136" class="Symbol">:</a> <a id="9138" href="Data.Maybe.Relation.Unary.Any.html#839" class="Datatype">M.Any.Any</a> <a id="9148" href="ConcreteToAbstract.html#9048" class="Bound">Q</a> <a id="9150" class="Symbol">(</a><a id="9151" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">A.⟦</a> <a id="9155" href="ConcreteToAbstract.html#9114" class="Function">l̂</a> <a id="9158" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">⟧</a> <a id="9160" href="ConcreteToAbstract.html#9098" class="Function">ŝ</a><a id="9162" class="Symbol">)</a>
    <a id="9168" href="ConcreteToAbstract.html#9132" class="Function">Qŝ</a> <a id="9172" class="Symbol">=</a> <a id="9174" href="ConcreteToAbstract.html#9051" class="Bound">PlQ</a> <a id="9178" href="ConcreteToAbstract.html#9065" class="Bound">vl</a> <a id="9181" href="ConcreteToAbstract.html#9060" class="Bound">Ps</a>

    <a id="9189" href="ConcreteToAbstract.html#9189" class="Function">Qs</a> <a id="9192" class="Symbol">:</a> <a id="9194" href="Data.Maybe.Relation.Unary.Any.html#839" class="Datatype">M.Any.Any</a> <a id="9204" href="ConcreteToAbstract.html#9048" class="Bound">Q</a> <a id="9206" class="Symbol">(</a><a id="9207" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="9212" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="9216" href="UTxOErr.Ledger.html#1027" class="Field Operator">C.⟦</a> <a id="9220" href="ConcreteToAbstract.html#9042" class="Bound">l</a> <a id="9222" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="9224" href="ConcreteToAbstract.html#9056" class="Bound">s</a><a id="9225" class="Symbol">)</a>
    <a id="9231" href="ConcreteToAbstract.html#9189" class="Function">Qs</a> <a id="9234" class="Symbol">=</a> <a id="9236" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="9242" class="Symbol">(</a><a id="9243" href="Data.Maybe.Relation.Unary.Any.html#839" class="Datatype">M.Any.Any</a> <a id="9253" href="ConcreteToAbstract.html#9048" class="Bound">Q</a><a id="9254" class="Symbol">)</a> <a id="9256" class="Symbol">(</a><a id="9257" href="ConcreteToAbstract.html#7097" class="Function">denot-abs</a> <a id="9267" href="ConcreteToAbstract.html#9065" class="Bound">vl</a><a id="9269" class="Symbol">)</a> <a id="9271" href="ConcreteToAbstract.html#9132" class="Function">Qŝ</a>

<a id="9276" class="Comment">-- ** alternative formulation using &quot;strong&quot; abstract Hoare triples</a>
<a id="𝔸⟨_⟩_⊣_⟨_⟩"></a><a id="9344" href="ConcreteToAbstract.html#9344" class="Function Operator">𝔸⟨_⟩_⊣_⟨_⟩</a> <a id="9355" class="Symbol">:</a> <a id="9357" class="Symbol">∀</a> <a id="9359" href="ConcreteToAbstract.html#9359" class="Bound">P</a> <a id="9361" href="ConcreteToAbstract.html#9361" class="Bound">l</a> <a id="9363" class="Symbol">→</a>
  <a id="9367" class="Symbol">(∀</a> <a id="9370" href="ConcreteToAbstract.html#9370" class="Bound">s</a> <a id="9372" class="Symbol">→</a> <a id="9374" href="ConcreteToAbstract.html#9359" class="Bound">P</a> <a id="9376" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="9378" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="9383" href="ConcreteToAbstract.html#9370" class="Bound">s</a> <a id="9385" class="Symbol">→</a> <a id="9387" href="UTxOErr.Ledger.html#2141" class="Datatype">C.VL</a> <a id="9392" href="ConcreteToAbstract.html#9370" class="Bound">s</a> <a id="9394" href="ConcreteToAbstract.html#9361" class="Bound">l</a><a id="9395" class="Symbol">)</a> <a id="9397" class="Symbol">→</a> <a id="9399" href="Prelude.Init.html#13317" class="Function">Pred₀</a> <a id="9405" href="ValueSepUTxO.UTxO.html#824" class="Function">A.S</a> <a id="9409" class="Symbol">→</a> <a id="9411" href="Agda.Primitive.html#320" class="Primitive">Type</a>
<a id="9416" href="ConcreteToAbstract.html#9344" class="Function Operator">𝔸⟨</a> <a id="9419" href="ConcreteToAbstract.html#9419" class="Bound">P</a> <a id="9421" href="ConcreteToAbstract.html#9344" class="Function Operator">⟩</a> <a id="9423" href="ConcreteToAbstract.html#9423" class="Bound">l</a> <a id="9425" href="ConcreteToAbstract.html#9344" class="Function Operator">⊣</a> <a id="9427" href="ConcreteToAbstract.html#9427" class="Bound">P⇒</a> <a id="9430" href="ConcreteToAbstract.html#9344" class="Function Operator">⟨</a> <a id="9432" href="ConcreteToAbstract.html#9432" class="Bound">Q</a> <a id="9434" href="ConcreteToAbstract.html#9344" class="Function Operator">⟩</a> <a id="9436" class="Symbol">=</a>
  <a id="9440" class="Symbol">(∀</a> <a id="9443" href="ConcreteToAbstract.html#9443" class="Bound">s</a> <a id="9445" class="Symbol">(</a><a id="9446" href="ConcreteToAbstract.html#9446" class="Bound">p</a> <a id="9448" class="Symbol">:</a> <a id="9450" href="ConcreteToAbstract.html#9419" class="Bound">P</a> <a id="9452" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="9454" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="9459" href="ConcreteToAbstract.html#9443" class="Bound">s</a><a id="9460" class="Symbol">)</a> <a id="9462" class="Symbol">→</a> <a id="9464" class="Symbol">(</a><a id="9465" href="ConcreteToAbstract.html#9432" class="Bound">Q</a> <a id="9467" href="ValueSepUTxO.HoareLogic.html#940" class="Function Operator">A.↑∘</a> <a id="9472" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">A.⟦</a> <a id="9476" href="ConcreteToAbstract.html#6351" class="Function">absL</a> <a id="9481" class="Symbol">(</a><a id="9482" href="ConcreteToAbstract.html#9427" class="Bound">P⇒</a> <a id="9485" href="ConcreteToAbstract.html#9443" class="Bound">s</a> <a id="9487" href="ConcreteToAbstract.html#9446" class="Bound">p</a><a id="9488" class="Symbol">)</a> <a id="9490" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">⟧</a><a id="9491" class="Symbol">)</a> <a id="9493" class="Symbol">(</a><a id="9494" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="9499" href="ConcreteToAbstract.html#9443" class="Bound">s</a><a id="9500" class="Symbol">))</a>

<a id="semi-soundness"></a><a id="9504" href="ConcreteToAbstract.html#9504" class="Function">semi-soundness</a> <a id="9519" class="Symbol">:</a> <a id="9521" class="Symbol">∀</a> <a id="9523" class="Symbol">{</a><a id="9524" href="ConcreteToAbstract.html#9524" class="Bound">P</a> <a id="9526" href="ConcreteToAbstract.html#9526" class="Bound">Q</a> <a id="9528" class="Symbol">:</a> <a id="9530" href="Prelude.Init.html#13317" class="Function">Pred₀</a> <a id="9536" href="ValueSepUTxO.UTxO.html#824" class="Function">A.S</a><a id="9539" class="Symbol">}</a> <a id="9541" class="Symbol">→</a>
  <a id="9545" class="Symbol">∀</a> <a id="9547" class="Symbol">(</a><a id="9548" href="ConcreteToAbstract.html#9548" class="Bound">P⇒</a> <a id="9551" class="Symbol">:</a> <a id="9553" class="Symbol">∀</a> <a id="9555" href="ConcreteToAbstract.html#9555" class="Bound">s</a> <a id="9557" class="Symbol">→</a> <a id="9559" href="ConcreteToAbstract.html#9524" class="Bound">P</a> <a id="9561" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="9563" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="9568" href="ConcreteToAbstract.html#9555" class="Bound">s</a> <a id="9570" class="Symbol">→</a> <a id="9572" href="UTxOErr.Ledger.html#2141" class="Datatype">C.VL</a> <a id="9577" href="ConcreteToAbstract.html#9555" class="Bound">s</a> <a id="9579" href="ConcreteToAbstract.html#799" class="Generalizable">l</a><a id="9580" class="Symbol">)</a> <a id="9582" class="Symbol">→</a>
  <a id="9586" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="9588" href="ConcreteToAbstract.html#9344" class="Function Operator">𝔸⟨</a> <a id="9591" href="ConcreteToAbstract.html#9524" class="Bound">P</a> <a id="9593" href="ConcreteToAbstract.html#9344" class="Function Operator">⟩</a> <a id="9595" href="ConcreteToAbstract.html#799" class="Generalizable">l</a> <a id="9597" href="ConcreteToAbstract.html#9344" class="Function Operator">⊣</a> <a id="9599" href="ConcreteToAbstract.html#9548" class="Bound">P⇒</a> <a id="9602" href="ConcreteToAbstract.html#9344" class="Function Operator">⟨</a> <a id="9604" href="ConcreteToAbstract.html#9526" class="Bound">Q</a> <a id="9606" href="ConcreteToAbstract.html#9344" class="Function Operator">⟩</a>
    <a id="9612" href="Prelude.InferenceRules.html#13683" class="Function Operator">──────────────────────────────────</a>
    <a id="9651" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">C.⟨</a> <a id="9655" href="ConcreteToAbstract.html#9524" class="Bound">P</a> <a id="9657" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="9659" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="9664" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="9666" href="ConcreteToAbstract.html#799" class="Generalizable">l</a> <a id="9668" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="9670" href="ConcreteToAbstract.html#9526" class="Bound">Q</a> <a id="9672" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="9674" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="9679" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a>
<a id="9681" href="ConcreteToAbstract.html#9504" class="Function">semi-soundness</a> <a id="9696" class="Symbol">{</a><a id="9697" href="ConcreteToAbstract.html#9697" class="Bound">l</a><a id="9698" class="Symbol">}{</a><a id="9700" href="ConcreteToAbstract.html#9700" class="Bound">P</a><a id="9701" class="Symbol">}{</a><a id="9703" href="ConcreteToAbstract.html#9703" class="Bound">Q</a><a id="9704" class="Symbol">}</a> <a id="9706" href="ConcreteToAbstract.html#9706" class="Bound">P⇒</a> <a id="9709" href="ConcreteToAbstract.html#9709" class="Bound">PlQ</a> <a id="9713" class="Symbol">{</a><a id="9714" href="ConcreteToAbstract.html#9714" class="Bound">s</a><a id="9715" class="Symbol">}</a> <a id="9717" href="ConcreteToAbstract.html#9717" class="Bound">Ps</a>
  <a id="9722" class="Symbol">=</a> <a id="9724" href="Prelude.Maybes.html#805" class="Function">MAny-map⁻</a> <a id="9734" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="9736" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="9742" class="Symbol">(</a><a id="9743" href="Data.Maybe.Relation.Unary.Any.html#839" class="Datatype">M.Any.Any</a> <a id="9753" href="ConcreteToAbstract.html#9703" class="Bound">Q</a><a id="9754" class="Symbol">)</a> <a id="9756" class="Symbol">(</a><a id="9757" href="ConcreteToAbstract.html#7097" class="Function">denot-abs</a> <a id="9767" href="ConcreteToAbstract.html#9786" class="Function">vl</a><a id="9769" class="Symbol">)</a> <a id="9771" href="ConcreteToAbstract.html#9804" class="Function">Qs</a>
  <a id="9776" class="Keyword">where</a>
    <a id="9786" href="ConcreteToAbstract.html#9786" class="Function">vl</a> <a id="9789" class="Symbol">=</a> <a id="9791" href="ConcreteToAbstract.html#9706" class="Bound">P⇒</a> <a id="9794" class="Symbol">_</a> <a id="9796" href="ConcreteToAbstract.html#9717" class="Bound">Ps</a>

    <a id="9804" href="ConcreteToAbstract.html#9804" class="Function">Qs</a> <a id="9807" class="Symbol">:</a> <a id="9809" class="Symbol">(</a><a id="9810" href="ConcreteToAbstract.html#9703" class="Bound">Q</a> <a id="9812" href="ValueSepUTxO.HoareLogic.html#940" class="Function Operator">A.↑∘</a> <a id="9817" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">A.⟦</a> <a id="9821" href="ConcreteToAbstract.html#6351" class="Function">absL</a> <a id="9826" href="ConcreteToAbstract.html#9786" class="Function">vl</a> <a id="9829" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">⟧</a><a id="9830" class="Symbol">)</a> <a id="9832" class="Symbol">(</a><a id="9833" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="9838" href="ConcreteToAbstract.html#9714" class="Bound">s</a><a id="9839" class="Symbol">)</a>
    <a id="9845" href="ConcreteToAbstract.html#9804" class="Function">Qs</a> <a id="9848" class="Symbol">=</a> <a id="9850" href="ConcreteToAbstract.html#9709" class="Bound">PlQ</a> <a id="9854" class="Symbol">_</a> <a id="9856" href="ConcreteToAbstract.html#9717" class="Bound">Ps</a>

<a id="9860" class="Comment">-- ** Reasoning on the abstract level is sound; proving an abstract Hoare triple</a>
<a id="9941" class="Comment">-- is enough to prove a concrete Hoare triple (with abstract pre-/post-conditions).</a>
<a id="soundness"></a><a id="10025" href="ConcreteToAbstract.html#10025" class="Function">soundness</a> <a id="10035" class="Symbol">:</a>
  <a id="10039" class="Symbol">∀</a> <a id="10041" class="Symbol">(</a><a id="10042" href="ConcreteToAbstract.html#10042" class="Bound">vl</a> <a id="10045" class="Symbol">:</a> <a id="10047" href="UTxOErr.Ledger.html#2141" class="Datatype">C.VL</a> <a id="10052" href="ConcreteToAbstract.html#786" class="Generalizable">s</a> <a id="10054" href="ConcreteToAbstract.html#799" class="Generalizable">l</a><a id="10055" class="Symbol">)</a> <a id="10057" class="Symbol">→</a>
  <a id="10061" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="10063" href="ValueSepUTxO.HoareLogic.html#1180" class="Function Operator">A.⟨</a> <a id="10067" href="ConcreteToAbstract.html#820" class="Generalizable">P</a> <a id="10069" href="ValueSepUTxO.HoareLogic.html#1180" class="Function Operator">⟩</a> <a id="10071" href="ConcreteToAbstract.html#6351" class="Function">absL</a> <a id="10076" href="ConcreteToAbstract.html#10042" class="Bound">vl</a> <a id="10079" href="ValueSepUTxO.HoareLogic.html#1180" class="Function Operator">⟨</a> <a id="10081" href="ConcreteToAbstract.html#822" class="Generalizable">Q</a> <a id="10083" href="ValueSepUTxO.HoareLogic.html#1180" class="Function Operator">⟩＠</a> <a id="10086" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="10091" href="ConcreteToAbstract.html#786" class="Generalizable">s</a>
    <a id="10097" href="Prelude.InferenceRules.html#13760" class="Function Operator">────────────────────────────────</a>
    <a id="10134" href="UTxOErr.HoareLogic.html#1371" class="Function Operator">C.⟨</a> <a id="10138" href="ConcreteToAbstract.html#820" class="Generalizable">P</a> <a id="10140" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="10142" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="10147" href="UTxOErr.HoareLogic.html#1371" class="Function Operator">⟩</a> <a id="10149" href="ConcreteToAbstract.html#799" class="Generalizable">l</a> <a id="10151" href="UTxOErr.HoareLogic.html#1371" class="Function Operator">⟨</a> <a id="10153" href="ConcreteToAbstract.html#822" class="Generalizable">Q</a> <a id="10155" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="10157" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="10162" href="UTxOErr.HoareLogic.html#1371" class="Function Operator">⟩＠</a> <a id="10165" href="ConcreteToAbstract.html#786" class="Generalizable">s</a>
<a id="10167" href="ConcreteToAbstract.html#10025" class="Function">soundness</a> <a id="10177" class="Symbol">{</a><a id="10178" href="ConcreteToAbstract.html#10178" class="Bound">s</a><a id="10179" class="Symbol">}{</a><a id="10181" href="ConcreteToAbstract.html#10181" class="Bound">l</a><a id="10182" class="Symbol">}{</a><a id="10184" href="ConcreteToAbstract.html#10184" class="Bound">P</a><a id="10185" class="Symbol">}{</a><a id="10187" href="ConcreteToAbstract.html#10187" class="Bound">Q</a><a id="10188" class="Symbol">}</a> <a id="10190" href="ConcreteToAbstract.html#10190" class="Bound">vl</a> <a id="10193" href="ConcreteToAbstract.html#10193" class="Bound">PlQ</a> <a id="10197" href="ConcreteToAbstract.html#10197" class="Bound">Ps</a>
  <a id="10202" class="Symbol">=</a> <a id="10204" href="Prelude.Maybes.html#805" class="Function">MAny-map⁻</a> <a id="10214" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="10216" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="10222" class="Symbol">(</a><a id="10223" href="Data.Maybe.Relation.Unary.Any.html#839" class="Datatype">M.Any.Any</a> <a id="10233" href="ConcreteToAbstract.html#10187" class="Bound">Q</a><a id="10234" class="Symbol">)</a> <a id="10236" class="Symbol">(</a><a id="10237" href="ConcreteToAbstract.html#7097" class="Function">denot-abs</a> <a id="10247" href="ConcreteToAbstract.html#10190" class="Bound">vl</a><a id="10249" class="Symbol">)</a> <a id="10251" href="ConcreteToAbstract.html#10266" class="Function">Qs</a>
  <a id="10256" class="Keyword">where</a>
    <a id="10266" href="ConcreteToAbstract.html#10266" class="Function">Qs</a> <a id="10269" class="Symbol">:</a> <a id="10271" class="Symbol">(</a><a id="10272" href="ConcreteToAbstract.html#10187" class="Bound">Q</a> <a id="10274" href="ValueSepUTxO.HoareLogic.html#940" class="Function Operator">A.↑∘</a> <a id="10279" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">A.⟦</a> <a id="10283" href="ConcreteToAbstract.html#6351" class="Function">absL</a> <a id="10288" href="ConcreteToAbstract.html#10190" class="Bound">vl</a> <a id="10291" href="ValueSepUTxO.Ledger.html#1009" class="Field Operator">⟧</a><a id="10292" class="Symbol">)</a> <a id="10294" class="Symbol">(</a><a id="10295" href="ConcreteToAbstract.html#837" class="Function">absS</a> <a id="10300" href="ConcreteToAbstract.html#10178" class="Bound">s</a><a id="10301" class="Symbol">)</a>
    <a id="10307" href="ConcreteToAbstract.html#10266" class="Function">Qs</a> <a id="10310" class="Symbol">=</a> <a id="10312" href="ConcreteToAbstract.html#10193" class="Bound">PlQ</a> <a id="10316" href="ConcreteToAbstract.html#10197" class="Bound">Ps</a>
</pre></body></html>