<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Main</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--rewriting</a> <a id="25" class="Symbol">#-}</a> <a id="29" class="Comment">-- needed for UTxO hashing</a>
<a id="56" class="Keyword">module</a> <a id="63" href="Main.html" class="Module">Main</a> <a id="68" class="Keyword">where</a>

<a id="75" class="Comment">-------------------------</a>
<a id="101" class="Comment">-- ** Linear bank ledgers</a>
<a id="127" class="Comment">-------------------------</a>

<a id="154" class="Comment">-- Shallow states, shallow predicates</a>
<a id="192" class="Comment">-- ∙ S := K → Value</a>
<a id="212" class="Comment">-- ∙ ⟦_⟧ := S → S</a>
<a id="230" class="Comment">-- ∙ P := S → Set</a>
<a id="248" class="Comment">-- ∙ Separation := IMPOSSIBLE</a>
<a id="278" class="Keyword">open</a> <a id="283" class="Keyword">import</a> <a id="290" href="Shallow.Main.html" class="Module">Shallow.Main</a>

<a id="304" class="Comment">-- Deep states, shallow predicates</a>
<a id="339" class="Comment">-- ∙ S := Map⟨ K ↦ Value ⟩</a>
<a id="366" class="Comment">-- ∙ ⟦_⟧ := S → S</a>
<a id="384" class="Comment">-- ∙ P := S → Set</a>
<a id="402" class="Comment">-- ∙ Separation := _⊎_</a>
<a id="425" class="Keyword">open</a> <a id="430" class="Keyword">import</a> <a id="437" href="Middle.Main.html" class="Module">Middle.Main</a>

<a id="450" class="Comment">-- Deep states, deep predicates</a>
<a id="482" class="Comment">-- ∙ S := Map⟨ K ↦ Value ⟩</a>
<a id="509" class="Comment">-- ∙ ⟦_⟧ := S → S</a>
<a id="527" class="Comment">-- ∙ P := Assertion</a>
<a id="547" class="Comment">-- ∙ Separation := _⊎_</a>
<a id="570" class="Keyword">open</a> <a id="575" class="Keyword">import</a> <a id="582" href="Deep.Main.html" class="Module">Deep.Main</a>

<a id="593" class="Comment">-- &lt;Deep&gt; + shallow embedding of Hoare triples</a>
<a id="640" class="Comment">--   ⋮</a>
<a id="647" class="Comment">--   ∙ {P}l{Q} = ∀ s. P(s) → Q(⟦l⟧s)</a>
<a id="684" class="Keyword">open</a> <a id="689" class="Keyword">import</a> <a id="696" href="ShallowHoare.Main.html" class="Module">ShallowHoare.Main</a>

<a id="715" class="Comment">-- Monoidal separatation on values instead of participants.</a>
<a id="775" class="Comment">-- ∙ S := Map⟨ K ↦ Value ⟩</a>
<a id="802" class="Comment">-- ∙ ⟦_⟧ := S → Maybe S</a>
<a id="826" class="Comment">-- ∙ P := S → Set</a>
<a id="844" class="Comment">-- ∙ Separation := _◇_</a>
<a id="867" class="Keyword">open</a> <a id="872" class="Keyword">import</a> <a id="879" href="ValueSep.Main.html" class="Module">ValueSep.Main</a>

<a id="894" class="Comment">-- Simplified version of &lt;ValueSep&gt;.</a>
<a id="931" class="Comment">-- ∙ S := K → ℕ</a>
<a id="947" class="Comment">-- ∙ ⟦_⟧ := S → Maybe S</a>
<a id="971" class="Comment">-- ∙ P := S → Set</a>
<a id="989" class="Comment">-- ∙ Separation := _◇_</a>
<a id="1012" class="Keyword">open</a> <a id="1017" class="Keyword">import</a> <a id="1024" href="ValueSepSimple.Main.html" class="Module">ValueSepSimple.Main</a>

<a id="1045" class="Comment">-----------------------------</a>
<a id="1075" class="Comment">-- ** UTxO blockchain ledgers</a>
<a id="1105" class="Comment">-------------------------</a>

<a id="1132" class="Comment">-- Initial prototype for extending to the UTxO case.</a>
<a id="1185" class="Comment">-- ∙ S := Set⟨ UTXO ⟩</a>
<a id="1207" class="Comment">-- ∙ ⟦_⟧ := S → S</a>
<a id="1225" class="Comment">-- ∙ P := S → Set</a>
<a id="1243" class="Comment">-- ∙ Separation := _⊎_</a>
<a id="1266" class="Keyword">open</a> <a id="1271" class="Keyword">import</a> <a id="1278" href="UTxO.Main.html" class="Module">UTxO.Main</a>

<a id="1289" class="Comment">-- &lt;UTxO&gt; variant that explicitly errors/invalidity.</a>
<a id="1342" class="Comment">-- ∙ S := Map⟨ TxOutputRef ↦ TxOutput ⟩</a>
<a id="1382" class="Comment">-- ∙ ⟦_⟧ := S → Maybe S</a>
<a id="1406" class="Comment">-- ∙ P := S → Set</a>
<a id="1424" class="Comment">-- ∙ Separation := _⊎_</a>
<a id="1447" class="Keyword">open</a> <a id="1452" class="Keyword">import</a> <a id="1459" href="UTxOErr.Main.html" class="Module">UTxOErr.Main</a>

<a id="1473" class="Comment">-- Value-separated **abstract** UTxO.</a>
<a id="1511" class="Comment">-- ∙ S := Bag⟨ Address × Value ⟩</a>
<a id="1544" class="Comment">-- ∙ ⟦_⟧ := S → Maybe S</a>
<a id="1568" class="Comment">-- ∙ P := S → Set</a>
<a id="1586" class="Comment">-- ∙ Separation := _◇_</a>
<a id="1609" class="Keyword">open</a> <a id="1614" class="Keyword">import</a> <a id="1621" href="ValueSepUTxO.Main.html" class="Module">ValueSepUTxO.Main</a>
</pre></body></html>