<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>ValueSep.WeakHoareLogic</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/hoare-ledgers/tree/master/ValueSep/WeakHoareLogic.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">-------------------------</a>
<a id="27" class="Comment">-- ** Axiomatic semantics</a>

<a id="54" class="Keyword">open</a> <a id="59" class="Keyword">import</a> <a id="66" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="78" class="Symbol">;</a> <a id="80" class="Keyword">open</a> <a id="85" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="95" class="Keyword">open</a> <a id="100" class="Keyword">import</a> <a id="107" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="123" class="Keyword">open</a> <a id="128" class="Keyword">import</a> <a id="135" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="149" class="Keyword">open</a> <a id="154" class="Keyword">import</a> <a id="161" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="179" class="Keyword">open</a> <a id="184" class="Keyword">import</a> <a id="191" href="Prelude.Semigroup.html" class="Module">Prelude.Semigroup</a>
<a id="209" class="Keyword">open</a> <a id="214" class="Keyword">import</a> <a id="221" href="Prelude.Monoid.html" class="Module">Prelude.Monoid</a>
<a id="236" class="Keyword">open</a> <a id="241" class="Keyword">import</a> <a id="248" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="271" class="Keyword">open</a> <a id="276" class="Keyword">import</a> <a id="283" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>

<a id="296" class="Keyword">module</a> <a id="303" href="ValueSep.WeakHoareLogic.html" class="Module">ValueSep.WeakHoareLogic</a> <a id="327" class="Symbol">(</a><a id="328" href="ValueSep.WeakHoareLogic.html#328" class="Bound">Part</a> <a id="333" class="Symbol">:</a> <a id="335" href="Agda.Primitive.html#320" class="Primitive">Type</a><a id="339" class="Symbol">)</a> <a id="341" class="Symbol">⦃</a> <a id="343" href="ValueSep.WeakHoareLogic.html#343" class="Bound">_</a> <a id="345" class="Symbol">:</a> <a id="347" href="Prelude.DecEq.Core.html#148" class="Record">DecEq</a> <a id="353" href="ValueSep.WeakHoareLogic.html#328" class="Bound">Part</a> <a id="358" class="Symbol">⦄</a> <a id="360" class="Keyword">where</a>

<a id="367" class="Keyword">open</a> <a id="372" class="Keyword">import</a> <a id="379" href="ValueSep.Maps.html" class="Module">ValueSep.Maps</a>
<a id="393" class="Comment">-- NB. ⦃ it ⦄ required due to Agda bug, reported at https://github.com/agda/agda/issues/5093</a>
<a id="486" class="Keyword">open</a> <a id="491" class="Keyword">import</a> <a id="498" href="ValueSep.Ledger.html" class="Module">ValueSep.Ledger</a> <a id="514" href="ValueSep.WeakHoareLogic.html#328" class="Bound">Part</a> <a id="519" class="Symbol">⦃</a> <a id="521" href="Function.Base.html#4821" class="Function">it</a> <a id="524" class="Symbol">⦄</a>

<a id="527" class="Comment">-- ** Shallow embedding of logic formulas/propositions.</a>
<a id="Assertion"></a><a id="583" href="ValueSep.WeakHoareLogic.html#583" class="Function">Assertion</a> <a id="593" class="Symbol">=</a> <a id="595" href="Prelude.Init.html#13317" class="Function">Pred₀</a> <a id="601" href="ValueSep.Ledger.html#666" class="Function">S</a>

<a id="604" class="Keyword">variable</a> <a id="613" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="615" href="ValueSep.WeakHoareLogic.html#615" class="Generalizable">P′</a> <a id="618" href="ValueSep.WeakHoareLogic.html#618" class="Generalizable">P₁</a> <a id="621" href="ValueSep.WeakHoareLogic.html#621" class="Generalizable">P₂</a> <a id="624" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="626" href="ValueSep.WeakHoareLogic.html#626" class="Generalizable">Q′</a> <a id="629" href="ValueSep.WeakHoareLogic.html#629" class="Generalizable">Q₁</a> <a id="632" href="ValueSep.WeakHoareLogic.html#632" class="Generalizable">Q₂</a> <a id="635" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="637" class="Symbol">:</a> <a id="639" href="ValueSep.WeakHoareLogic.html#583" class="Function">Assertion</a>

<a id="emp"></a><a id="650" href="ValueSep.WeakHoareLogic.html#650" class="Function">emp</a> <a id="654" class="Symbol">:</a> <a id="656" href="ValueSep.WeakHoareLogic.html#583" class="Function">Assertion</a>
<a id="666" href="ValueSep.WeakHoareLogic.html#650" class="Function">emp</a> <a id="670" href="ValueSep.WeakHoareLogic.html#670" class="Bound">m</a> <a id="672" class="Symbol">=</a> <a id="674" class="Symbol">∀</a> <a id="676" href="ValueSep.WeakHoareLogic.html#676" class="Bound">k</a> <a id="678" class="Symbol">→</a> <a id="680" href="ValueSep.WeakHoareLogic.html#676" class="Bound">k</a> <a id="682" href="ValueSep.Maps.html#710" class="Function Operator">∉ᵈ</a> <a id="685" href="ValueSep.WeakHoareLogic.html#670" class="Bound">m</a>

<a id="_∗_"></a><a id="688" href="ValueSep.WeakHoareLogic.html#688" class="Function Operator">_∗_</a> <a id="692" class="Symbol">:</a> <a id="694" href="Algebra.Core.html#527" class="Function">Op₂</a> <a id="698" href="ValueSep.WeakHoareLogic.html#583" class="Function">Assertion</a>
<a id="708" class="Symbol">(</a><a id="709" href="ValueSep.WeakHoareLogic.html#709" class="Bound">P</a> <a id="711" href="ValueSep.WeakHoareLogic.html#688" class="Function Operator">∗</a> <a id="713" href="ValueSep.WeakHoareLogic.html#713" class="Bound">Q</a><a id="714" class="Symbol">)</a> <a id="716" href="ValueSep.WeakHoareLogic.html#716" class="Bound">s</a> <a id="718" class="Symbol">=</a> <a id="720" href="Data.Product.html#1378" class="Function">∃</a> <a id="722" class="Symbol">λ</a> <a id="724" href="ValueSep.WeakHoareLogic.html#724" class="Bound">s₁</a> <a id="727" class="Symbol">→</a> <a id="729" href="Data.Product.html#1378" class="Function">∃</a> <a id="731" class="Symbol">λ</a> <a id="733" href="ValueSep.WeakHoareLogic.html#733" class="Bound">s₂</a> <a id="736" class="Symbol">→</a> <a id="738" href="ValueSep.Maps.html#3912" class="Function Operator">⟨</a> <a id="740" href="ValueSep.WeakHoareLogic.html#724" class="Bound">s₁</a> <a id="743" href="ValueSep.Maps.html#3912" class="Function Operator">◇</a> <a id="745" href="ValueSep.WeakHoareLogic.html#733" class="Bound">s₂</a> <a id="748" href="ValueSep.Maps.html#3912" class="Function Operator">⟩≡</a> <a id="751" href="ValueSep.WeakHoareLogic.html#716" class="Bound">s</a> <a id="753" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="755" href="ValueSep.WeakHoareLogic.html#709" class="Bound">P</a> <a id="757" href="ValueSep.WeakHoareLogic.html#724" class="Bound">s₁</a> <a id="760" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="762" href="ValueSep.WeakHoareLogic.html#713" class="Bound">Q</a> <a id="764" href="ValueSep.WeakHoareLogic.html#733" class="Bound">s₂</a>

<a id="_↦_"></a><a id="768" href="ValueSep.WeakHoareLogic.html#768" class="Function Operator">_↦_</a> <a id="772" class="Symbol">:</a> <a id="774" href="ValueSep.WeakHoareLogic.html#328" class="Bound">Part</a> <a id="779" class="Symbol">→</a> <a id="781" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="783" class="Symbol">→</a> <a id="785" href="ValueSep.WeakHoareLogic.html#583" class="Function">Assertion</a>
<a id="795" href="ValueSep.WeakHoareLogic.html#795" class="Bound">p</a> <a id="797" href="ValueSep.WeakHoareLogic.html#768" class="Function Operator">↦</a> <a id="799" href="ValueSep.WeakHoareLogic.html#799" class="Bound">n</a> <a id="801" class="Symbol">=</a> <a id="803" href="ValueSep.Maps.html#2818" class="Function Operator">_[</a> <a id="806" href="ValueSep.WeakHoareLogic.html#795" class="Bound">p</a> <a id="808" href="ValueSep.Maps.html#2818" class="Function Operator">↦</a> <a id="810" href="ValueSep.WeakHoareLogic.html#799" class="Bound">n</a> <a id="812" href="ValueSep.Maps.html#2818" class="Function Operator">]∅</a>

<a id="816" class="Keyword">infixr</a> <a id="823" class="Number">10</a> <a id="826" href="ValueSep.WeakHoareLogic.html#688" class="Function Operator">_∗_</a>
<a id="830" class="Keyword">infix</a>  <a id="837" class="Number">11</a> <a id="840" href="ValueSep.WeakHoareLogic.html#768" class="Function Operator">_↦_</a>

<a id="845" class="Comment">-- ** Hoare triples.</a>

<a id="weak↑"></a><a id="867" href="ValueSep.WeakHoareLogic.html#867" class="Function">weak↑</a> <a id="strong↑"></a><a id="873" href="ValueSep.WeakHoareLogic.html#873" class="Function">strong↑</a> <a id="881" class="Symbol">:</a> <a id="883" href="Prelude.Init.html#13317" class="Function">Pred₀</a> <a id="889" href="ValueSep.Ledger.html#666" class="Function">S</a> <a id="891" class="Symbol">→</a> <a id="893" href="Prelude.Init.html#13317" class="Function">Pred₀</a> <a id="899" class="Symbol">(</a><a id="900" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="906" href="ValueSep.Ledger.html#666" class="Function">S</a><a id="907" class="Symbol">)</a>
<a id="909" href="ValueSep.WeakHoareLogic.html#867" class="Function">weak↑</a>   <a id="917" class="Symbol">=</a> <a id="919" href="Data.Maybe.Relation.Unary.All.html#952" class="Datatype">M.All.All</a>
<a id="929" href="ValueSep.WeakHoareLogic.html#873" class="Function">strong↑</a> <a id="937" class="Symbol">=</a> <a id="939" href="Data.Maybe.Relation.Unary.Any.html#839" class="Datatype">M.Any.Any</a>

<a id="950" class="Keyword">infixl</a> <a id="957" class="Number">4</a> <a id="959" href="ValueSep.WeakHoareLogic.html#964" class="Function Operator">_↑∘_</a>
<a id="_↑∘_"></a><a id="964" href="ValueSep.WeakHoareLogic.html#964" class="Function Operator">_↑∘_</a> <a id="969" class="Symbol">:</a> <a id="971" href="Prelude.Init.html#13317" class="Function">Pred₀</a> <a id="977" href="ValueSep.Ledger.html#666" class="Function">S</a> <a id="979" class="Symbol">→</a> <a id="981" class="Symbol">(</a><a id="982" href="ValueSep.Ledger.html#666" class="Function">S</a> <a id="984" class="Symbol">→</a> <a id="986" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="992" href="ValueSep.Ledger.html#666" class="Function">S</a><a id="993" class="Symbol">)</a> <a id="995" class="Symbol">→</a> <a id="997" href="Prelude.Init.html#13317" class="Function">Pred₀</a> <a id="1003" href="ValueSep.Ledger.html#666" class="Function">S</a>
<a id="1005" href="ValueSep.WeakHoareLogic.html#1005" class="Bound">P</a> <a id="1007" href="ValueSep.WeakHoareLogic.html#964" class="Function Operator">↑∘</a> <a id="1010" href="ValueSep.WeakHoareLogic.html#1010" class="Bound">f</a> <a id="1012" class="Symbol">=</a> <a id="1014" href="ValueSep.WeakHoareLogic.html#867" class="Function">weak↑</a> <a id="1020" href="ValueSep.WeakHoareLogic.html#1005" class="Bound">P</a> <a id="1022" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1024" href="ValueSep.WeakHoareLogic.html#1010" class="Bound">f</a>

<a id="lift↑"></a><a id="1027" href="ValueSep.WeakHoareLogic.html#1027" class="Function">lift↑</a> <a id="1033" class="Symbol">=</a> <a id="1035" href="ValueSep.WeakHoareLogic.html#867" class="Function">weak↑</a>
<a id="1041" class="Keyword">pattern</a> <a id="ret↑"></a><a id="1049" href="ValueSep.WeakHoareLogic.html#1049" class="InductiveConstructor">ret↑</a> <a id="1054" href="ValueSep.WeakHoareLogic.html#1069" class="Bound">x</a> <a id="1056" class="Symbol">=</a> <a id="1058" href="Data.Maybe.Relation.Unary.All.html#1022" class="InductiveConstructor">M.All.just</a> <a id="1069" href="ValueSep.WeakHoareLogic.html#1069" class="Bound">x</a>
<a id="1071" class="Keyword">pattern</a> <a id="ret∅"></a><a id="1079" href="ValueSep.WeakHoareLogic.html#1079" class="InductiveConstructor">ret∅</a> <a id="1084" class="Symbol">=</a> <a id="1086" href="Data.Maybe.Relation.Unary.All.html#1063" class="InductiveConstructor">M.All.nothing</a>

<a id="map↑"></a><a id="1101" href="ValueSep.WeakHoareLogic.html#1101" class="Function">map↑</a> <a id="1106" class="Symbol">:</a> <a id="1108" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1110" href="Relation.Unary.html#1751" class="Function Operator">⊆¹</a> <a id="1113" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="1115" class="Symbol">→</a> <a id="1117" href="ValueSep.WeakHoareLogic.html#1027" class="Function">lift↑</a> <a id="1123" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1125" href="Relation.Unary.html#1751" class="Function Operator">⊆¹</a> <a id="1128" href="ValueSep.WeakHoareLogic.html#1027" class="Function">lift↑</a> <a id="1134" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a>
<a id="1136" href="ValueSep.WeakHoareLogic.html#1101" class="Function">map↑</a> <a id="1141" class="Symbol">=</a> <a id="1143" href="Data.Maybe.Relation.Unary.All.html#1403" class="Function">M.All.map</a>

<a id="⟨_⟩_⟨_⟩"></a><a id="1154" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨_⟩_⟨_⟩</a> <a id="1162" class="Symbol">:</a> <a id="1164" href="ValueSep.WeakHoareLogic.html#583" class="Function">Assertion</a> <a id="1174" class="Symbol">→</a> <a id="1176" href="ValueSep.Ledger.html#1093" class="Function">L</a> <a id="1178" class="Symbol">→</a> <a id="1180" href="ValueSep.WeakHoareLogic.html#583" class="Function">Assertion</a> <a id="1190" class="Symbol">→</a> <a id="1192" href="Agda.Primitive.html#320" class="Primitive">Type</a>
<a id="1197" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1199" href="ValueSep.WeakHoareLogic.html#1199" class="Bound">P</a> <a id="1201" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="1203" href="ValueSep.WeakHoareLogic.html#1203" class="Bound">l</a> <a id="1205" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1207" href="ValueSep.WeakHoareLogic.html#1207" class="Bound">Q</a> <a id="1209" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="1211" class="Symbol">=</a> <a id="1213" href="ValueSep.WeakHoareLogic.html#1199" class="Bound">P</a> <a id="1215" href="Prelude.General.html#1709" class="Function Operator">⊢</a> <a id="1217" href="ValueSep.WeakHoareLogic.html#1207" class="Bound">Q</a> <a id="1219" href="ValueSep.WeakHoareLogic.html#964" class="Function Operator">↑∘</a> <a id="1222" href="ValueSep.Ledger.html#1567" class="Field Operator">⟦</a> <a id="1224" href="ValueSep.WeakHoareLogic.html#1203" class="Bound">l</a> <a id="1226" href="ValueSep.Ledger.html#1567" class="Field Operator">⟧</a>

<a id="hoare-base"></a><a id="1229" href="ValueSep.WeakHoareLogic.html#1229" class="Function">hoare-base</a> <a id="1240" class="Symbol">:</a>
  <a id="1244" href="Prelude.InferenceRules.html#47290" class="Function Operator">───────────────</a>
  <a id="1262" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1264" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1266" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="1268" class="InductiveConstructor">[]</a> <a id="1271" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1273" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1275" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a>
<a id="1277" href="ValueSep.WeakHoareLogic.html#1229" class="Function">hoare-base</a> <a id="1288" class="Symbol">=</a> <a id="1290" href="ValueSep.WeakHoareLogic.html#1049" class="InductiveConstructor">ret↑</a>

<a id="hoare-step"></a><a id="1296" href="ValueSep.WeakHoareLogic.html#1296" class="Function">hoare-step</a> <a id="1307" class="Symbol">:</a>
  <a id="1311" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1313" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1315" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="1317" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1319" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1321" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="1323" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a>
  <a id="1327" href="Prelude.InferenceRules.html#13998" class="Function Operator">─────────────────────────</a>
  <a id="1355" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1357" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1359" href="ValueSep.WeakHoareLogic.html#964" class="Function Operator">↑∘</a> <a id="1362" href="ValueSep.Ledger.html#1567" class="Field Operator">⟦</a> <a id="1364" href="ValueSep.Ledger.html#1178" class="Generalizable">t</a> <a id="1366" href="ValueSep.Ledger.html#1567" class="Field Operator">⟧</a> <a id="1368" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="1370" href="ValueSep.Ledger.html#1178" class="Generalizable">t</a> <a id="1372" class="InductiveConstructor Operator">∷</a> <a id="1374" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1376" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1378" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="1380" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a>
<a id="1382" href="ValueSep.WeakHoareLogic.html#1296" class="Function">hoare-step</a> <a id="1393" class="Symbol">{</a><a id="1394" class="Argument">t</a> <a id="1396" class="Symbol">=</a> <a id="1398" href="ValueSep.WeakHoareLogic.html#1398" class="Bound">t</a><a id="1399" class="Symbol">}</a> <a id="1401" href="ValueSep.WeakHoareLogic.html#1401" class="Bound">PlQ</a> <a id="1405" class="Symbol">{</a><a id="1406" href="ValueSep.WeakHoareLogic.html#1406" class="Bound">s</a><a id="1407" class="Symbol">}</a> <a id="1409" href="ValueSep.WeakHoareLogic.html#1409" class="Bound">Ps↑</a> <a id="1413" class="Keyword">with</a> <a id="1418" href="ValueSep.Ledger.html#1567" class="Field Operator">⟦</a> <a id="1420" href="ValueSep.WeakHoareLogic.html#1398" class="Bound">t</a> <a id="1422" href="ValueSep.Ledger.html#1567" class="Field Operator">⟧</a> <a id="1424" href="ValueSep.WeakHoareLogic.html#1406" class="Bound">s</a> <a id="1426" class="Symbol">|</a> <a id="1428" href="ValueSep.WeakHoareLogic.html#1409" class="Bound">Ps↑</a>
<a id="1432" class="Symbol">...</a> <a id="1436" class="Symbol">|</a> <a id="1438" class="Symbol">_</a>       <a id="1446" class="Symbol">|</a> <a id="1448" href="ValueSep.WeakHoareLogic.html#1049" class="InductiveConstructor">ret↑</a> <a id="1453" href="ValueSep.WeakHoareLogic.html#1453" class="Bound">Ps</a> <a id="1456" class="Symbol">=</a> <a id="1458" class="Bound">PlQ</a> <a id="1462" href="ValueSep.WeakHoareLogic.html#1453" class="Bound">Ps</a>
<a id="1465" class="Symbol">...</a> <a id="1469" class="Symbol">|</a> <a id="1471" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a> <a id="1479" class="Symbol">|</a> <a id="1481" href="ValueSep.WeakHoareLogic.html#1079" class="InductiveConstructor">ret∅</a>    <a id="1489" class="Symbol">=</a> <a id="1491" href="ValueSep.WeakHoareLogic.html#1079" class="InductiveConstructor">ret∅</a>

<a id="consequence"></a><a id="1497" href="ValueSep.WeakHoareLogic.html#1497" class="Function">consequence</a> <a id="1509" class="Symbol">:</a>
  <a id="1513" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="1515" href="ValueSep.WeakHoareLogic.html#615" class="Generalizable">P′</a> <a id="1518" href="Prelude.General.html#1709" class="Function Operator">⊢</a> <a id="1520" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a>   <a id="1524" class="Comment">-- ^ weakening the pre-condition</a>
  <a id="1559" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="1561" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a>  <a id="1564" href="Prelude.General.html#1709" class="Function Operator">⊢</a> <a id="1566" href="ValueSep.WeakHoareLogic.html#626" class="Generalizable">Q′</a>  <a id="1570" class="Comment">-- ^ strengthening the post-condition</a>
  <a id="1610" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="1612" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1614" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a>  <a id="1617" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="1619" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1621" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1623" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a>  <a id="1626" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a>
    <a id="1632" href="Prelude.InferenceRules.html#14253" class="Function Operator">───────────────</a>
    <a id="1652" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1654" href="ValueSep.WeakHoareLogic.html#615" class="Generalizable">P′</a> <a id="1657" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="1659" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1661" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1663" href="ValueSep.WeakHoareLogic.html#626" class="Generalizable">Q′</a> <a id="1666" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a>
<a id="1668" href="ValueSep.WeakHoareLogic.html#1497" class="Function">consequence</a> <a id="1680" href="ValueSep.WeakHoareLogic.html#1680" class="Bound">⊢P</a> <a id="1683" href="ValueSep.WeakHoareLogic.html#1683" class="Bound">Q⊢</a> <a id="1686" href="ValueSep.WeakHoareLogic.html#1686" class="Bound">PlQ</a> <a id="1690" class="Symbol">=</a> <a id="1692" href="ValueSep.WeakHoareLogic.html#1101" class="Function">map↑</a> <a id="1697" href="ValueSep.WeakHoareLogic.html#1683" class="Bound">Q⊢</a> <a id="1700" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1702" href="ValueSep.WeakHoareLogic.html#1686" class="Bound">PlQ</a> <a id="1706" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1708" href="ValueSep.WeakHoareLogic.html#1680" class="Bound">⊢P</a>

<a id="1712" class="Comment">-- Utilities for Hoare triples.</a>
<a id="weaken"></a><a id="1744" href="ValueSep.WeakHoareLogic.html#1744" class="Function">weaken</a> <a id="1751" class="Symbol">:</a> <a id="1753" href="ValueSep.WeakHoareLogic.html#615" class="Generalizable">P′</a> <a id="1756" href="Prelude.General.html#1709" class="Function Operator">⊢</a> <a id="1758" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1760" class="Symbol">→</a> <a id="1762" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1764" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1766" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="1768" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1770" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1772" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="1774" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="1776" class="Symbol">→</a> <a id="1778" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1780" href="ValueSep.WeakHoareLogic.html#615" class="Generalizable">P′</a> <a id="1783" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="1785" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1787" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1789" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="1791" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a>
<a id="1793" href="ValueSep.WeakHoareLogic.html#1744" class="Function">weaken</a> <a id="1800" class="Symbol">{</a><a id="1801" class="Argument">l</a> <a id="1803" class="Symbol">=</a> <a id="1805" href="ValueSep.WeakHoareLogic.html#1805" class="Bound">l</a><a id="1806" class="Symbol">}</a> <a id="1808" href="ValueSep.WeakHoareLogic.html#1808" class="Bound">H</a> <a id="1810" class="Symbol">=</a> <a id="1812" href="ValueSep.WeakHoareLogic.html#1497" class="Function">consequence</a> <a id="1824" class="Symbol">{</a><a id="1825" class="Argument">l</a> <a id="1827" class="Symbol">=</a> <a id="1829" href="ValueSep.WeakHoareLogic.html#1805" class="Bound">l</a><a id="1830" class="Symbol">}</a> <a id="1832" href="ValueSep.WeakHoareLogic.html#1808" class="Bound">H</a> <a id="1834" href="Function.Base.html#624" class="Function">id</a>

<a id="strengthen"></a><a id="1838" href="ValueSep.WeakHoareLogic.html#1838" class="Function">strengthen</a> <a id="1849" class="Symbol">:</a> <a id="1851" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="1853" href="Prelude.General.html#1709" class="Function Operator">⊢</a> <a id="1855" href="ValueSep.WeakHoareLogic.html#626" class="Generalizable">Q′</a> <a id="1858" class="Symbol">→</a> <a id="1860" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1862" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1864" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="1866" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1868" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1870" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="1872" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="1874" class="Symbol">→</a> <a id="1876" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1878" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1880" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="1882" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1884" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1886" href="ValueSep.WeakHoareLogic.html#626" class="Generalizable">Q′</a> <a id="1889" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a>
<a id="1891" href="ValueSep.WeakHoareLogic.html#1838" class="Function">strengthen</a> <a id="1902" class="Symbol">{</a><a id="1903" class="Argument">l</a> <a id="1905" class="Symbol">=</a> <a id="1907" href="ValueSep.WeakHoareLogic.html#1907" class="Bound">l</a><a id="1908" class="Symbol">}</a> <a id="1910" href="ValueSep.WeakHoareLogic.html#1910" class="Bound">H</a> <a id="1912" class="Symbol">=</a> <a id="1914" href="ValueSep.WeakHoareLogic.html#1497" class="Function">consequence</a> <a id="1926" class="Symbol">{</a><a id="1927" class="Argument">l</a> <a id="1929" class="Symbol">=</a> <a id="1931" href="ValueSep.WeakHoareLogic.html#1907" class="Bound">l</a><a id="1932" class="Symbol">}</a> <a id="1934" href="Function.Base.html#624" class="Function">id</a> <a id="1937" href="ValueSep.WeakHoareLogic.html#1910" class="Bound">H</a>

<a id="axiom-base⋆"></a><a id="1940" href="ValueSep.WeakHoareLogic.html#1940" class="Function">axiom-base⋆</a> <a id="1952" class="Symbol">:</a> <a id="1954" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1956" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1958" href="ValueSep.WeakHoareLogic.html#964" class="Function Operator">↑∘</a> <a id="1961" href="ValueSep.Ledger.html#1567" class="Field Operator">⟦</a> <a id="1963" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1965" href="ValueSep.Ledger.html#1567" class="Field Operator">⟧</a> <a id="1967" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="1969" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1971" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="1973" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1975" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a>
<a id="1977" href="ValueSep.WeakHoareLogic.html#1940" class="Function">axiom-base⋆</a> <a id="1989" class="Symbol">{</a><a id="1990" class="Argument">P</a> <a id="1992" class="Symbol">=</a> <a id="1994" href="ValueSep.WeakHoareLogic.html#1994" class="Bound">P</a><a id="1995" class="Symbol">}</a> <a id="1997" class="Symbol">{</a><a id="1998" class="Argument">l</a> <a id="2000" class="Symbol">=</a> <a id="2002" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="2004" class="Symbol">}</a> <a id="2006" class="Symbol">=</a> <a id="2008" href="ValueSep.WeakHoareLogic.html#1744" class="Function">weaken</a> <a id="2015" class="Symbol">{</a><a id="2016" class="Argument">P′</a> <a id="2019" class="Symbol">=</a> <a id="2021" href="ValueSep.WeakHoareLogic.html#1994" class="Bound">P</a> <a id="2023" href="ValueSep.WeakHoareLogic.html#964" class="Function Operator">↑∘</a> <a id="2026" href="ValueSep.Ledger.html#1567" class="Field Operator">⟦</a> <a id="2028" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="2031" href="ValueSep.Ledger.html#1567" class="Field Operator">⟧</a><a id="2032" class="Symbol">}</a> <a id="2034" class="Symbol">{</a><a id="2035" class="Argument">l</a> <a id="2037" class="Symbol">=</a> <a id="2039" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="2041" class="Symbol">}</a> <a id="2043" class="Symbol">(λ</a> <a id="2046" class="Keyword">where</a> <a id="2052" class="Symbol">(</a><a id="2053" href="ValueSep.WeakHoareLogic.html#1049" class="InductiveConstructor">ret↑</a> <a id="2058" href="ValueSep.WeakHoareLogic.html#2058" class="Bound">p</a><a id="2059" class="Symbol">)</a> <a id="2061" class="Symbol">→</a> <a id="2063" href="ValueSep.WeakHoareLogic.html#2058" class="Bound">p</a><a id="2064" class="Symbol">)</a> <a id="2066" href="ValueSep.WeakHoareLogic.html#1229" class="Function">hoare-base</a>
<a id="2077" href="ValueSep.WeakHoareLogic.html#1940" class="Function">axiom-base⋆</a> <a id="2089" class="Symbol">{</a><a id="2090" class="Argument">P</a> <a id="2092" class="Symbol">=</a> <a id="2094" href="ValueSep.WeakHoareLogic.html#2094" class="Bound">P</a><a id="2095" class="Symbol">}</a> <a id="2097" class="Symbol">{</a><a id="2098" class="Argument">l</a> <a id="2100" class="Symbol">=</a> <a id="2102" href="ValueSep.WeakHoareLogic.html#2102" class="Bound">t</a> <a id="2104" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2106" href="ValueSep.WeakHoareLogic.html#2106" class="Bound">l</a><a id="2107" class="Symbol">}</a> <a id="2109" href="ValueSep.WeakHoareLogic.html#2109" class="Bound">Ps</a> <a id="2112" class="Symbol">=</a> <a id="2114" href="ValueSep.WeakHoareLogic.html#1101" class="Function">map↑</a> <a id="2119" href="Function.Base.html#624" class="Function">id</a> <a id="2122" href="ValueSep.WeakHoareLogic.html#2109" class="Bound">Ps</a>

<a id="2126" class="Comment">-- Derived alternative formulation for step, using list concatenation.</a>
<a id="hoare-step′"></a><a id="2197" href="ValueSep.WeakHoareLogic.html#2197" class="Function">hoare-step′</a> <a id="2209" class="Symbol">:</a>
  <a id="2213" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="2215" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="2217" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="2219" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="2221" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a>  <a id="2224" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="2226" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="2228" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a>
  <a id="2232" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="2234" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="2236" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="2238" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="2240" href="ValueSep.Ledger.html#1195" class="Generalizable">l′</a> <a id="2243" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="2245" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="2247" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a>
    <a id="2253" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
    <a id="2277" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="2279" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="2281" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="2283" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="2285" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="2288" href="ValueSep.Ledger.html#1195" class="Generalizable">l′</a> <a id="2291" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="2293" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="2295" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a>
<a id="2297" href="ValueSep.WeakHoareLogic.html#2197" class="Function">hoare-step′</a> <a id="2309" class="Symbol">{</a><a id="2310" href="ValueSep.WeakHoareLogic.html#2310" class="Bound">P</a><a id="2311" class="Symbol">}{</a><a id="2313" href="ValueSep.WeakHoareLogic.html#2313" class="Bound">l</a><a id="2314" class="Symbol">}{</a><a id="2316" href="ValueSep.WeakHoareLogic.html#2316" class="Bound">Q</a><a id="2317" class="Symbol">}{</a><a id="2319" href="ValueSep.WeakHoareLogic.html#2319" class="Bound">l′</a><a id="2321" class="Symbol">}{</a><a id="2323" href="ValueSep.WeakHoareLogic.html#2323" class="Bound">R</a><a id="2324" class="Symbol">}</a> <a id="2326" href="ValueSep.WeakHoareLogic.html#2326" class="Bound">PlQ</a> <a id="2330" href="ValueSep.WeakHoareLogic.html#2330" class="Bound">QlR</a> <a id="2334" class="Symbol">{</a><a id="2335" href="ValueSep.WeakHoareLogic.html#2335" class="Bound">s</a><a id="2336" class="Symbol">}</a> <a id="2338" href="ValueSep.WeakHoareLogic.html#2338" class="Bound">Ps</a>
  <a id="2343" class="Keyword">rewrite</a> <a id="2351" href="ValueSep.Ledger.html#3267" class="Function">comp</a> <a id="2356" class="Symbol">{</a><a id="2357" href="ValueSep.WeakHoareLogic.html#2313" class="Bound">l</a><a id="2358" class="Symbol">}{</a><a id="2360" href="ValueSep.WeakHoareLogic.html#2319" class="Bound">l′</a><a id="2362" class="Symbol">}</a> <a id="2364" href="ValueSep.WeakHoareLogic.html#2335" class="Bound">s</a>
  <a id="2368" class="Keyword">with</a> <a id="2373" href="ValueSep.Ledger.html#1567" class="Field Operator">⟦</a> <a id="2375" href="ValueSep.WeakHoareLogic.html#2313" class="Bound">l</a> <a id="2377" href="ValueSep.Ledger.html#1567" class="Field Operator">⟧</a> <a id="2379" href="ValueSep.WeakHoareLogic.html#2335" class="Bound">s</a> <a id="2381" class="Symbol">|</a> <a id="2383" href="ValueSep.WeakHoareLogic.html#2326" class="Bound">PlQ</a> <a id="2387" href="ValueSep.WeakHoareLogic.html#2338" class="Bound">Ps</a>
<a id="2390" class="Symbol">...</a> <a id="2394" class="Symbol">|</a> <a id="2396" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="2401" class="Symbol">_</a>  <a id="2404" class="Symbol">|</a> <a id="2406" href="ValueSep.WeakHoareLogic.html#1049" class="InductiveConstructor">ret↑</a> <a id="2411" href="ValueSep.WeakHoareLogic.html#2411" class="Bound">Qs′</a> <a id="2415" class="Symbol">=</a> <a id="2417" class="Bound">QlR</a> <a id="2421" href="ValueSep.WeakHoareLogic.html#2411" class="Bound">Qs′</a>
<a id="2425" class="Symbol">...</a> <a id="2429" class="Symbol">|</a> <a id="2431" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a> <a id="2439" class="Symbol">|</a> <a id="2441" href="ValueSep.WeakHoareLogic.html#1079" class="InductiveConstructor">ret∅</a>     <a id="2450" class="Symbol">=</a> <a id="2452" href="ValueSep.WeakHoareLogic.html#1079" class="InductiveConstructor">ret∅</a>

<a id="2458" class="Comment">-- ** Reasoning syntax for Hoare triples.</a>
<a id="2500" class="Keyword">module</a> <a id="HoareReasoning"></a><a id="2507" href="ValueSep.WeakHoareLogic.html#2507" class="Module">HoareReasoning</a> <a id="2522" class="Keyword">where</a>
  <a id="2530" class="Comment">-- Reasoning newtype (for better type inference).</a>
  <a id="2582" class="Keyword">record</a> <a id="HoareReasoning.ℝ⟨_⟩_⟨_⟩"></a><a id="2589" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">ℝ⟨_⟩_⟨_⟩</a> <a id="2598" class="Symbol">(</a><a id="2599" href="ValueSep.WeakHoareLogic.html#2599" class="Bound">P</a> <a id="2601" class="Symbol">:</a> <a id="2603" href="ValueSep.WeakHoareLogic.html#583" class="Function">Assertion</a><a id="2612" class="Symbol">)</a> <a id="2614" class="Symbol">(</a><a id="2615" href="ValueSep.WeakHoareLogic.html#2615" class="Bound">l</a> <a id="2617" class="Symbol">:</a> <a id="2619" href="ValueSep.Ledger.html#1093" class="Function">L</a><a id="2620" class="Symbol">)</a> <a id="2622" class="Symbol">(</a><a id="2623" href="ValueSep.WeakHoareLogic.html#2623" class="Bound">Q</a> <a id="2625" class="Symbol">:</a> <a id="2627" href="ValueSep.WeakHoareLogic.html#583" class="Function">Assertion</a><a id="2636" class="Symbol">)</a> <a id="2638" class="Symbol">:</a> <a id="2640" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="2645" class="Keyword">where</a>
    <a id="2655" class="Keyword">constructor</a> <a id="HoareReasoning.mkℝ_"></a><a id="2667" href="ValueSep.WeakHoareLogic.html#2667" class="InductiveConstructor Operator">mkℝ_</a>
    <a id="2676" class="Keyword">field</a> <a id="HoareReasoning.ℝ⟨_⟩_⟨_⟩.begin_"></a><a id="2682" href="ValueSep.WeakHoareLogic.html#2682" class="Field Operator">begin_</a> <a id="2689" class="Symbol">:</a> <a id="2691" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="2693" href="ValueSep.WeakHoareLogic.html#2599" class="Bound">P</a> <a id="2695" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="2697" href="ValueSep.WeakHoareLogic.html#2615" class="Bound">l</a> <a id="2699" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="2701" href="ValueSep.WeakHoareLogic.html#2623" class="Bound">Q</a> <a id="2703" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a>
    <a id="2709" class="Keyword">infix</a> <a id="2715" class="Number">-2</a> <a id="2718" href="ValueSep.WeakHoareLogic.html#2682" class="Field Operator">begin_</a>
  <a id="2727" class="Keyword">open</a> <a id="2732" href="ValueSep.WeakHoareLogic.html#2589" class="Module Operator">ℝ⟨_⟩_⟨_⟩</a> <a id="2741" class="Keyword">public</a>
  <a id="2750" class="Keyword">infix</a>  <a id="2757" class="Number">-2</a> <a id="2760" href="ValueSep.WeakHoareLogic.html#2667" class="InductiveConstructor Operator">mkℝ_</a>
  <a id="2767" class="Keyword">infixr</a> <a id="2774" class="Number">-1</a> <a id="2777" href="ValueSep.WeakHoareLogic.html#2853" class="Function Operator">_~⟪_⟩_</a> <a id="2784" href="ValueSep.WeakHoareLogic.html#3000" class="Function Operator">_~⟨_⟫_</a> <a id="2791" href="ValueSep.WeakHoareLogic.html#3128" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="2801" href="ValueSep.WeakHoareLogic.html#3451" class="Function Operator">_~⟨_∶-_⟩++_</a>
  <a id="2815" class="Keyword">infix</a>  <a id="2822" class="Number">0</a>  <a id="2825" href="ValueSep.WeakHoareLogic.html#3614" class="Function Operator">_∎</a>

  <a id="2831" class="Comment">-- weakening syntax</a>
  <a id="HoareReasoning._~⟪_⟩_"></a><a id="2853" href="ValueSep.WeakHoareLogic.html#2853" class="Function Operator">_~⟪_⟩_</a> <a id="2860" class="Symbol">:</a> <a id="2862" class="Symbol">∀</a> <a id="2864" href="ValueSep.WeakHoareLogic.html#2864" class="Bound">P′</a> <a id="2867" class="Symbol">→</a> <a id="2869" href="ValueSep.WeakHoareLogic.html#2864" class="Bound">P′</a> <a id="2872" href="Prelude.General.html#1709" class="Function Operator">⊢</a> <a id="2874" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="2876" class="Symbol">→</a> <a id="2878" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">ℝ⟨</a> <a id="2881" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="2883" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟩</a> <a id="2885" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="2887" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟨</a> <a id="2889" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="2891" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟩</a> <a id="2893" class="Symbol">→</a> <a id="2895" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">ℝ⟨</a> <a id="2898" href="ValueSep.WeakHoareLogic.html#2864" class="Bound">P′</a> <a id="2901" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟩</a> <a id="2903" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="2905" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟨</a> <a id="2907" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="2909" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟩</a>
  <a id="2913" href="ValueSep.WeakHoareLogic.html#2853" class="Function Operator">_~⟪_⟩_</a> <a id="2920" class="Symbol">{</a><a id="2921" class="Argument">l</a> <a id="2923" class="Symbol">=</a> <a id="2925" href="ValueSep.WeakHoareLogic.html#2925" class="Bound">l</a><a id="2926" class="Symbol">}</a> <a id="2928" class="Symbol">_</a> <a id="2930" href="ValueSep.WeakHoareLogic.html#2930" class="Bound">H</a> <a id="2932" href="ValueSep.WeakHoareLogic.html#2932" class="Bound">PlR</a> <a id="2936" class="Symbol">=</a> <a id="2938" href="ValueSep.WeakHoareLogic.html#2667" class="InductiveConstructor Operator">mkℝ</a> <a id="2942" href="ValueSep.WeakHoareLogic.html#1744" class="Function">weaken</a> <a id="2949" class="Symbol">{</a><a id="2950" class="Argument">l</a> <a id="2952" class="Symbol">=</a> <a id="2954" href="ValueSep.WeakHoareLogic.html#2925" class="Bound">l</a><a id="2955" class="Symbol">}</a> <a id="2957" href="ValueSep.WeakHoareLogic.html#2930" class="Bound">H</a> <a id="2959" class="Symbol">(</a><a id="2960" href="ValueSep.WeakHoareLogic.html#2682" class="Field Operator">begin</a> <a id="2966" href="ValueSep.WeakHoareLogic.html#2932" class="Bound">PlR</a><a id="2969" class="Symbol">)</a>

  <a id="2974" class="Comment">-- strengthening syntax</a>
  <a id="HoareReasoning._~⟨_⟫_"></a><a id="3000" href="ValueSep.WeakHoareLogic.html#3000" class="Function Operator">_~⟨_⟫_</a> <a id="3007" class="Symbol">:</a> <a id="3009" class="Symbol">∀</a> <a id="3011" href="ValueSep.WeakHoareLogic.html#3011" class="Bound">R′</a> <a id="3014" class="Symbol">→</a> <a id="3016" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="3018" href="Prelude.General.html#1709" class="Function Operator">⊢</a> <a id="3020" href="ValueSep.WeakHoareLogic.html#3011" class="Bound">R′</a> <a id="3023" class="Symbol">→</a> <a id="3025" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="3027" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="3029" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="3031" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="3033" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="3035" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="3037" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="3039" class="Symbol">→</a> <a id="3041" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="3043" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="3045" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a> <a id="3047" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="3049" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟨</a> <a id="3051" href="ValueSep.WeakHoareLogic.html#3011" class="Bound">R′</a> <a id="3054" href="ValueSep.WeakHoareLogic.html#1154" class="Function Operator">⟩</a>
  <a id="3058" href="ValueSep.WeakHoareLogic.html#3000" class="Function Operator">_~⟨_⟫_</a> <a id="3065" class="Symbol">{</a><a id="3066" class="Argument">l</a> <a id="3068" class="Symbol">=</a> <a id="3070" href="ValueSep.WeakHoareLogic.html#3070" class="Bound">l</a><a id="3071" class="Symbol">}</a> <a id="3073" class="Symbol">_</a> <a id="3075" href="ValueSep.WeakHoareLogic.html#3075" class="Bound">H</a> <a id="3077" href="ValueSep.WeakHoareLogic.html#3077" class="Bound">PlR</a> <a id="3081" class="Symbol">=</a> <a id="3083" href="ValueSep.WeakHoareLogic.html#1838" class="Function">strengthen</a> <a id="3094" class="Symbol">{</a><a id="3095" class="Argument">l</a> <a id="3097" class="Symbol">=</a> <a id="3099" href="ValueSep.WeakHoareLogic.html#3070" class="Bound">l</a><a id="3100" class="Symbol">}</a> <a id="3102" href="ValueSep.WeakHoareLogic.html#3075" class="Bound">H</a> <a id="3104" href="ValueSep.WeakHoareLogic.html#3077" class="Bound">PlR</a>

  <a id="3111" class="Comment">-- step syntax</a>
  <a id="HoareReasoning._~⟨_∶-_⟩_"></a><a id="3128" href="ValueSep.WeakHoareLogic.html#3128" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="3138" class="Symbol">:</a> <a id="3140" class="Symbol">∀</a> <a id="3142" href="ValueSep.WeakHoareLogic.html#3142" class="Bound">P′</a> <a id="3145" href="ValueSep.WeakHoareLogic.html#3145" class="Bound">t</a> <a id="3147" class="Symbol">→</a> <a id="3149" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">ℝ⟨</a> <a id="3152" href="ValueSep.WeakHoareLogic.html#3142" class="Bound">P′</a> <a id="3155" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟩</a> <a id="3157" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="3159" href="ValueSep.WeakHoareLogic.html#3145" class="Bound">t</a> <a id="3161" href="Data.List.Base.html#5034" class="Function Operator">]</a> <a id="3163" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟨</a> <a id="3165" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="3167" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟩</a> <a id="3169" class="Symbol">→</a> <a id="3171" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">ℝ⟨</a> <a id="3174" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="3176" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟩</a> <a id="3178" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="3180" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟨</a> <a id="3182" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="3184" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟩</a> <a id="3186" class="Symbol">→</a> <a id="3188" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">ℝ⟨</a> <a id="3191" href="ValueSep.WeakHoareLogic.html#3142" class="Bound">P′</a> <a id="3194" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟩</a> <a id="3196" href="ValueSep.WeakHoareLogic.html#3145" class="Bound">t</a> <a id="3198" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3200" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="3202" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟨</a> <a id="3204" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="3206" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟩</a>
  <a id="3210" href="ValueSep.WeakHoareLogic.html#3128" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="3220" class="Symbol">{</a><a id="3221" class="Argument">l</a> <a id="3223" class="Symbol">=</a> <a id="3225" href="ValueSep.WeakHoareLogic.html#3225" class="Bound">l</a><a id="3226" class="Symbol">}</a> <a id="3228" class="Symbol">{</a><a id="3229" class="Argument">R</a> <a id="3231" class="Symbol">=</a> <a id="3233" href="ValueSep.WeakHoareLogic.html#3233" class="Bound">R</a><a id="3234" class="Symbol">}</a> <a id="3236" href="ValueSep.WeakHoareLogic.html#3236" class="Bound">P′</a> <a id="3239" href="ValueSep.WeakHoareLogic.html#3239" class="Bound">t</a> <a id="3241" href="ValueSep.WeakHoareLogic.html#3241" class="Bound">H</a> <a id="3243" href="ValueSep.WeakHoareLogic.html#3243" class="Bound">PlR</a> <a id="3247" class="Symbol">=</a> <a id="3249" href="ValueSep.WeakHoareLogic.html#2667" class="InductiveConstructor Operator">mkℝ</a> <a id="3253" href="ValueSep.WeakHoareLogic.html#3272" class="Function">go</a>
    <a id="3260" class="Keyword">where</a>
      <a id="3272" href="ValueSep.WeakHoareLogic.html#3272" class="Function">go</a> <a id="3275" class="Symbol">:</a> <a id="3277" href="ValueSep.WeakHoareLogic.html#3236" class="Bound">P′</a> <a id="3280" href="Prelude.General.html#1709" class="Function Operator">⊢</a> <a id="3282" href="ValueSep.WeakHoareLogic.html#3233" class="Bound">R</a> <a id="3284" href="ValueSep.WeakHoareLogic.html#964" class="Function Operator">↑∘</a> <a id="3287" href="ValueSep.Ledger.html#1567" class="Field Operator">⟦</a> <a id="3289" href="ValueSep.WeakHoareLogic.html#3239" class="Bound">t</a> <a id="3291" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3293" href="ValueSep.WeakHoareLogic.html#3225" class="Bound">l</a> <a id="3295" href="ValueSep.Ledger.html#1567" class="Field Operator">⟧</a>
      <a id="3303" href="ValueSep.WeakHoareLogic.html#3272" class="Function">go</a> <a id="3306" class="Symbol">{</a><a id="3307" href="ValueSep.WeakHoareLogic.html#3307" class="Bound">s</a><a id="3308" class="Symbol">}</a> <a id="3310" href="ValueSep.WeakHoareLogic.html#3310" class="Bound">P′s</a> <a id="3314" class="Keyword">with</a> <a id="3319" href="ValueSep.Ledger.html#1567" class="Field Operator">⟦</a> <a id="3321" href="ValueSep.WeakHoareLogic.html#3239" class="Bound">t</a> <a id="3323" href="ValueSep.Ledger.html#1567" class="Field Operator">⟧</a> <a id="3325" href="ValueSep.WeakHoareLogic.html#3307" class="Bound">s</a> <a id="3327" class="Symbol">|</a> <a id="3329" class="Symbol">(</a><a id="3330" href="ValueSep.WeakHoareLogic.html#2682" class="Field Operator">begin</a> <a id="3336" href="ValueSep.WeakHoareLogic.html#3241" class="Bound">H</a><a id="3337" class="Symbol">)</a> <a id="3339" href="ValueSep.WeakHoareLogic.html#3310" class="Bound">P′s</a>
      <a id="3349" class="Symbol">...</a> <a id="3353" class="Symbol">|</a> <a id="3355" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="3360" class="Symbol">_</a>  <a id="3363" class="Symbol">|</a> <a id="3365" href="ValueSep.WeakHoareLogic.html#1049" class="InductiveConstructor">ret↑</a> <a id="3370" href="ValueSep.WeakHoareLogic.html#3370" class="Bound">Ps′</a> <a id="3374" class="Symbol">=</a> <a id="3376" class="Symbol">(</a><a id="3377" href="ValueSep.WeakHoareLogic.html#2682" class="Field Operator">begin</a> <a id="3383" href="ValueSep.WeakHoareLogic.html#3243" class="Bound">PlR</a><a id="3386" class="Symbol">)</a> <a id="3388" href="ValueSep.WeakHoareLogic.html#3370" class="Bound">Ps′</a>
      <a id="3398" class="Symbol">...</a> <a id="3402" class="Symbol">|</a> <a id="3404" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a> <a id="3412" class="Symbol">|</a> <a id="3414" href="ValueSep.WeakHoareLogic.html#1079" class="InductiveConstructor">ret∅</a>     <a id="3423" class="Symbol">=</a> <a id="3425" href="ValueSep.WeakHoareLogic.html#1079" class="InductiveConstructor">ret∅</a>

  <a id="3433" class="Comment">-- step′ syntax</a>
  <a id="HoareReasoning._~⟨_∶-_⟩++_"></a><a id="3451" href="ValueSep.WeakHoareLogic.html#3451" class="Function Operator">_~⟨_∶-_⟩++_</a> <a id="3463" class="Symbol">:</a> <a id="3465" class="Symbol">∀</a> <a id="3467" href="ValueSep.WeakHoareLogic.html#3467" class="Bound">P′</a> <a id="3470" class="Symbol">→</a> <a id="3472" class="Symbol">(</a><a id="3473" href="ValueSep.WeakHoareLogic.html#3473" class="Bound">l</a> <a id="3475" class="Symbol">:</a> <a id="3477" href="ValueSep.Ledger.html#1093" class="Function">L</a><a id="3478" class="Symbol">)</a> <a id="3480" class="Symbol">→</a> <a id="3482" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">ℝ⟨</a> <a id="3485" href="ValueSep.WeakHoareLogic.html#3467" class="Bound">P′</a> <a id="3488" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟩</a> <a id="3490" href="ValueSep.WeakHoareLogic.html#3473" class="Bound">l</a> <a id="3492" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟨</a> <a id="3494" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="3496" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟩</a> <a id="3498" class="Symbol">→</a> <a id="3500" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">ℝ⟨</a> <a id="3503" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="3505" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟩</a> <a id="3507" href="ValueSep.Ledger.html#1195" class="Generalizable">l′</a> <a id="3510" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟨</a> <a id="3512" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="3514" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟩</a> <a id="3516" class="Symbol">→</a> <a id="3518" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">ℝ⟨</a> <a id="3521" href="ValueSep.WeakHoareLogic.html#3467" class="Bound">P′</a> <a id="3524" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟩</a> <a id="3526" href="ValueSep.WeakHoareLogic.html#3473" class="Bound">l</a> <a id="3528" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="3531" href="ValueSep.Ledger.html#1195" class="Generalizable">l′</a> <a id="3534" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟨</a> <a id="3536" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="3538" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟩</a>
  <a id="3542" href="ValueSep.WeakHoareLogic.html#3542" class="Bound">P′</a> <a id="3545" href="ValueSep.WeakHoareLogic.html#3451" class="Function Operator">~⟨</a> <a id="3548" href="ValueSep.WeakHoareLogic.html#3548" class="Bound">l</a> <a id="3550" href="ValueSep.WeakHoareLogic.html#3451" class="Function Operator">∶-</a> <a id="3553" href="ValueSep.WeakHoareLogic.html#3553" class="Bound">H</a> <a id="3555" href="ValueSep.WeakHoareLogic.html#3451" class="Function Operator">⟩++</a> <a id="3559" href="ValueSep.WeakHoareLogic.html#3559" class="Bound">PlR</a> <a id="3563" class="Symbol">=</a> <a id="3565" href="ValueSep.WeakHoareLogic.html#2667" class="InductiveConstructor Operator">mkℝ</a> <a id="3569" href="ValueSep.WeakHoareLogic.html#2197" class="Function">hoare-step′</a> <a id="3581" class="Symbol">{</a><a id="3582" class="Argument">l</a> <a id="3584" class="Symbol">=</a> <a id="3586" href="ValueSep.WeakHoareLogic.html#3548" class="Bound">l</a><a id="3587" class="Symbol">}</a> <a id="3589" class="Symbol">(</a><a id="3590" href="ValueSep.WeakHoareLogic.html#2682" class="Field Operator">begin</a> <a id="3596" href="ValueSep.WeakHoareLogic.html#3553" class="Bound">H</a><a id="3597" class="Symbol">)</a> <a id="3599" class="Symbol">(</a><a id="3600" href="ValueSep.WeakHoareLogic.html#2682" class="Field Operator">begin</a> <a id="3606" href="ValueSep.WeakHoareLogic.html#3559" class="Bound">PlR</a><a id="3609" class="Symbol">)</a>

  <a id="HoareReasoning._∎"></a><a id="3614" href="ValueSep.WeakHoareLogic.html#3614" class="Function Operator">_∎</a> <a id="3617" class="Symbol">:</a> <a id="3619" class="Symbol">∀</a> <a id="3621" href="ValueSep.WeakHoareLogic.html#3621" class="Bound">P</a> <a id="3623" class="Symbol">→</a> <a id="3625" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">ℝ⟨</a> <a id="3628" href="ValueSep.WeakHoareLogic.html#3621" class="Bound">P</a> <a id="3630" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟩</a> <a id="3632" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="3635" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟨</a> <a id="3637" href="ValueSep.WeakHoareLogic.html#3621" class="Bound">P</a> <a id="3639" href="ValueSep.WeakHoareLogic.html#2589" class="Record Operator">⟩</a>
  <a id="3643" href="ValueSep.WeakHoareLogic.html#3643" class="Bound">p</a> <a id="3645" href="ValueSep.WeakHoareLogic.html#3614" class="Function Operator">∎</a> <a id="3647" class="Symbol">=</a> <a id="3649" href="ValueSep.WeakHoareLogic.html#2667" class="InductiveConstructor Operator">mkℝ</a> <a id="3653" href="ValueSep.WeakHoareLogic.html#1229" class="Function">hoare-base</a> <a id="3664" class="Symbol">{</a><a id="3665" class="Argument">P</a> <a id="3667" class="Symbol">=</a> <a id="3669" href="ValueSep.WeakHoareLogic.html#3643" class="Bound">p</a><a id="3670" class="Symbol">}</a>
</pre></body></html>