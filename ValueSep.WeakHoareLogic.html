<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>ValueSep.WeakHoareLogic</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-------------------------</a>
<a id="27" class="Comment">-- ** Axiomatic semantics</a>

<a id="54" class="Keyword">open</a> <a id="59" class="Keyword">import</a> <a id="66" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="78" class="Symbol">;</a> <a id="80" class="Keyword">open</a> <a id="85" href="Prelude.Init.html#397" class="Module">SetAsType</a>
<a id="95" class="Keyword">open</a> <a id="100" class="Keyword">import</a> <a id="107" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="123" class="Keyword">open</a> <a id="128" class="Keyword">import</a> <a id="135" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="149" class="Keyword">open</a> <a id="154" class="Keyword">import</a> <a id="161" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="179" class="Keyword">open</a> <a id="184" class="Keyword">import</a> <a id="191" href="Prelude.Semigroup.html" class="Module">Prelude.Semigroup</a>
<a id="209" class="Keyword">open</a> <a id="214" class="Keyword">import</a> <a id="221" href="Prelude.Monoid.html" class="Module">Prelude.Monoid</a>
<a id="236" class="Keyword">open</a> <a id="241" class="Keyword">import</a> <a id="248" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="271" class="Keyword">open</a> <a id="276" class="Keyword">import</a> <a id="283" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>

<a id="296" class="Keyword">module</a> <a id="303" href="ValueSep.WeakHoareLogic.html" class="Module">ValueSep.WeakHoareLogic</a> <a id="327" class="Symbol">(</a><a id="328" href="ValueSep.WeakHoareLogic.html#328" class="Bound">Part</a> <a id="333" class="Symbol">:</a> <a id="335" href="Agda.Primitive.html#326" class="Primitive">Type</a><a id="339" class="Symbol">)</a> <a id="341" class="Symbol">⦃</a> <a id="343" href="ValueSep.WeakHoareLogic.html#343" class="Bound">_</a> <a id="345" class="Symbol">:</a> <a id="347" href="Prelude.DecEq.Core.html#114" class="Record">DecEq</a> <a id="353" href="ValueSep.WeakHoareLogic.html#328" class="Bound">Part</a> <a id="358" class="Symbol">⦄</a> <a id="360" class="Keyword">where</a>

<a id="367" class="Keyword">open</a> <a id="372" class="Keyword">import</a> <a id="379" href="ValueSep.Maps.html" class="Module">ValueSep.Maps</a>
<a id="393" class="Comment">-- NB. ⦃ it ⦄ required due to Agda bug, reported at https://github.com/agda/agda/issues/5093</a>
<a id="486" class="Keyword">open</a> <a id="491" class="Keyword">import</a> <a id="498" href="ValueSep.Ledger.html" class="Module">ValueSep.Ledger</a> <a id="514" href="ValueSep.WeakHoareLogic.html#328" class="Bound">Part</a> <a id="519" class="Symbol">⦃</a> <a id="521" href="Function.Base.html#4812" class="Function">it</a> <a id="524" class="Symbol">⦄</a>

<a id="527" class="Comment">-- ** Shallow embedding of logic formulas/propositions.</a>
<a id="Assertion"></a><a id="583" href="ValueSep.WeakHoareLogic.html#583" class="Function">Assertion</a> <a id="593" class="Symbol">=</a> <a id="595" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="601" href="ValueSep.Ledger.html#666" class="Function">S</a>

<a id="604" class="Keyword">variable</a> <a id="613" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="615" href="ValueSep.WeakHoareLogic.html#615" class="Generalizable">P′</a> <a id="618" href="ValueSep.WeakHoareLogic.html#618" class="Generalizable">P₁</a> <a id="621" href="ValueSep.WeakHoareLogic.html#621" class="Generalizable">P₂</a> <a id="624" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="626" href="ValueSep.WeakHoareLogic.html#626" class="Generalizable">Q′</a> <a id="629" href="ValueSep.WeakHoareLogic.html#629" class="Generalizable">Q₁</a> <a id="632" href="ValueSep.WeakHoareLogic.html#632" class="Generalizable">Q₂</a> <a id="635" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="637" class="Symbol">:</a> <a id="639" href="ValueSep.WeakHoareLogic.html#583" class="Function">Assertion</a>

<a id="emp"></a><a id="650" href="ValueSep.WeakHoareLogic.html#650" class="Function">emp</a> <a id="654" class="Symbol">:</a> <a id="656" href="ValueSep.WeakHoareLogic.html#583" class="Function">Assertion</a>
<a id="666" href="ValueSep.WeakHoareLogic.html#650" class="Function">emp</a> <a id="670" href="ValueSep.WeakHoareLogic.html#670" class="Bound">m</a> <a id="672" class="Symbol">=</a> <a id="674" class="Symbol">∀</a> <a id="676" href="ValueSep.WeakHoareLogic.html#676" class="Bound">k</a> <a id="678" class="Symbol">→</a> <a id="680" href="ValueSep.WeakHoareLogic.html#676" class="Bound">k</a> <a id="682" href="ValueSep.Maps.html#683" class="Function Operator">∉ᵈ</a> <a id="685" href="ValueSep.WeakHoareLogic.html#670" class="Bound">m</a>

<a id="_∗_"></a><a id="688" href="ValueSep.WeakHoareLogic.html#688" class="Function Operator">_∗_</a> <a id="692" class="Symbol">:</a> <a id="694" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="698" href="ValueSep.WeakHoareLogic.html#583" class="Function">Assertion</a>
<a id="708" class="Symbol">(</a><a id="709" href="ValueSep.WeakHoareLogic.html#709" class="Bound">P</a> <a id="711" href="ValueSep.WeakHoareLogic.html#688" class="Function Operator">∗</a> <a id="713" href="ValueSep.WeakHoareLogic.html#713" class="Bound">Q</a><a id="714" class="Symbol">)</a> <a id="716" href="ValueSep.WeakHoareLogic.html#716" class="Bound">s</a> <a id="718" class="Symbol">=</a> <a id="720" href="Data.Product.html#1369" class="Function">∃</a> <a id="722" class="Symbol">λ</a> <a id="724" href="ValueSep.WeakHoareLogic.html#724" class="Bound">s₁</a> <a id="727" class="Symbol">→</a> <a id="729" href="Data.Product.html#1369" class="Function">∃</a> <a id="731" class="Symbol">λ</a> <a id="733" href="ValueSep.WeakHoareLogic.html#733" class="Bound">s₂</a> <a id="736" class="Symbol">→</a> <a id="738" href="ValueSep.Maps.html#3389" class="Function Operator">⟨</a> <a id="740" href="ValueSep.WeakHoareLogic.html#724" class="Bound">s₁</a> <a id="743" href="ValueSep.Maps.html#3389" class="Function Operator">◇</a> <a id="745" href="ValueSep.WeakHoareLogic.html#733" class="Bound">s₂</a> <a id="748" href="ValueSep.Maps.html#3389" class="Function Operator">⟩≡</a> <a id="751" href="ValueSep.WeakHoareLogic.html#716" class="Bound">s</a> <a id="753" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="755" href="ValueSep.WeakHoareLogic.html#709" class="Bound">P</a> <a id="757" href="ValueSep.WeakHoareLogic.html#724" class="Bound">s₁</a> <a id="760" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="762" href="ValueSep.WeakHoareLogic.html#713" class="Bound">Q</a> <a id="764" href="ValueSep.WeakHoareLogic.html#733" class="Bound">s₂</a>

<a id="_↦_"></a><a id="768" href="ValueSep.WeakHoareLogic.html#768" class="Function Operator">_↦_</a> <a id="772" class="Symbol">:</a> <a id="774" href="ValueSep.WeakHoareLogic.html#328" class="Bound">Part</a> <a id="779" class="Symbol">→</a> <a id="781" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="783" class="Symbol">→</a> <a id="785" href="ValueSep.WeakHoareLogic.html#583" class="Function">Assertion</a>
<a id="795" href="ValueSep.WeakHoareLogic.html#795" class="Bound">p</a> <a id="797" href="ValueSep.WeakHoareLogic.html#768" class="Function Operator">↦</a> <a id="799" href="ValueSep.WeakHoareLogic.html#799" class="Bound">n</a> <a id="801" class="Symbol">=</a> <a id="803" href="ValueSep.Maps.html#2382" class="Function Operator">_[</a> <a id="806" href="ValueSep.WeakHoareLogic.html#795" class="Bound">p</a> <a id="808" href="ValueSep.Maps.html#2382" class="Function Operator">↦</a> <a id="810" href="ValueSep.WeakHoareLogic.html#799" class="Bound">n</a> <a id="812" href="ValueSep.Maps.html#2382" class="Function Operator">]</a>

<a id="815" class="Keyword">infixr</a> <a id="822" class="Number">10</a> <a id="825" href="ValueSep.WeakHoareLogic.html#688" class="Function Operator">_∗_</a>
<a id="829" class="Keyword">infix</a>  <a id="836" class="Number">11</a> <a id="839" href="ValueSep.WeakHoareLogic.html#768" class="Function Operator">_↦_</a>

<a id="844" class="Comment">-- ** Hoare triples.</a>

<a id="weak↑"></a><a id="866" href="ValueSep.WeakHoareLogic.html#866" class="Function">weak↑</a> <a id="strong↑"></a><a id="872" href="ValueSep.WeakHoareLogic.html#872" class="Function">strong↑</a> <a id="880" class="Symbol">:</a> <a id="882" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="888" href="ValueSep.Ledger.html#666" class="Function">S</a> <a id="890" class="Symbol">→</a> <a id="892" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="898" class="Symbol">(</a><a id="899" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="905" href="ValueSep.Ledger.html#666" class="Function">S</a><a id="906" class="Symbol">)</a>
<a id="908" href="ValueSep.WeakHoareLogic.html#866" class="Function">weak↑</a>   <a id="916" class="Symbol">=</a> <a id="918" href="Data.Maybe.Relation.Unary.All.html#943" class="Datatype">M.All.All</a>
<a id="928" href="ValueSep.WeakHoareLogic.html#872" class="Function">strong↑</a> <a id="936" class="Symbol">=</a> <a id="938" href="Data.Maybe.Relation.Unary.Any.html#830" class="Datatype">M.Any.Any</a>

<a id="949" class="Keyword">infixl</a> <a id="956" class="Number">4</a> <a id="958" href="ValueSep.WeakHoareLogic.html#963" class="Function Operator">_↑∘_</a>
<a id="_↑∘_"></a><a id="963" href="ValueSep.WeakHoareLogic.html#963" class="Function Operator">_↑∘_</a> <a id="968" class="Symbol">:</a> <a id="970" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="976" href="ValueSep.Ledger.html#666" class="Function">S</a> <a id="978" class="Symbol">→</a> <a id="980" class="Symbol">(</a><a id="981" href="ValueSep.Ledger.html#666" class="Function">S</a> <a id="983" class="Symbol">→</a> <a id="985" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="991" href="ValueSep.Ledger.html#666" class="Function">S</a><a id="992" class="Symbol">)</a> <a id="994" class="Symbol">→</a> <a id="996" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="1002" href="ValueSep.Ledger.html#666" class="Function">S</a>
<a id="1004" href="ValueSep.WeakHoareLogic.html#1004" class="Bound">P</a> <a id="1006" href="ValueSep.WeakHoareLogic.html#963" class="Function Operator">↑∘</a> <a id="1009" href="ValueSep.WeakHoareLogic.html#1009" class="Bound">f</a> <a id="1011" class="Symbol">=</a> <a id="1013" href="ValueSep.WeakHoareLogic.html#866" class="Function">weak↑</a> <a id="1019" href="ValueSep.WeakHoareLogic.html#1004" class="Bound">P</a> <a id="1021" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1023" href="ValueSep.WeakHoareLogic.html#1009" class="Bound">f</a>

<a id="lift↑"></a><a id="1026" href="ValueSep.WeakHoareLogic.html#1026" class="Function">lift↑</a> <a id="1032" class="Symbol">=</a> <a id="1034" href="ValueSep.WeakHoareLogic.html#866" class="Function">weak↑</a>
<a id="1040" class="Keyword">pattern</a> <a id="ret↑"></a><a id="1048" href="ValueSep.WeakHoareLogic.html#1048" class="InductiveConstructor">ret↑</a> <a id="1053" href="ValueSep.WeakHoareLogic.html#1068" class="Bound">x</a> <a id="1055" class="Symbol">=</a> <a id="1057" href="Data.Maybe.Relation.Unary.All.html#1013" class="InductiveConstructor">M.All.just</a> <a id="1068" href="ValueSep.WeakHoareLogic.html#1068" class="Bound">x</a>
<a id="1070" class="Keyword">pattern</a> <a id="ret∅"></a><a id="1078" href="ValueSep.WeakHoareLogic.html#1078" class="InductiveConstructor">ret∅</a> <a id="1083" class="Symbol">=</a> <a id="1085" href="Data.Maybe.Relation.Unary.All.html#1054" class="InductiveConstructor">M.All.nothing</a>

<a id="map↑"></a><a id="1100" href="ValueSep.WeakHoareLogic.html#1100" class="Function">map↑</a> <a id="1105" class="Symbol">:</a> <a id="1107" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1109" href="Relation.Unary.html#1742" class="Function Operator">⊆¹</a> <a id="1112" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="1114" class="Symbol">→</a> <a id="1116" href="ValueSep.WeakHoareLogic.html#1026" class="Function">lift↑</a> <a id="1122" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1124" href="Relation.Unary.html#1742" class="Function Operator">⊆¹</a> <a id="1127" href="ValueSep.WeakHoareLogic.html#1026" class="Function">lift↑</a> <a id="1133" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a>
<a id="1135" href="ValueSep.WeakHoareLogic.html#1100" class="Function">map↑</a> <a id="1140" class="Symbol">=</a> <a id="1142" href="Data.Maybe.Relation.Unary.All.html#1394" class="Function">M.All.map</a>

<a id="⟨_⟩_⟨_⟩"></a><a id="1153" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨_⟩_⟨_⟩</a> <a id="1161" class="Symbol">:</a> <a id="1163" href="ValueSep.WeakHoareLogic.html#583" class="Function">Assertion</a> <a id="1173" class="Symbol">→</a> <a id="1175" href="ValueSep.Ledger.html#1093" class="Function">L</a> <a id="1177" class="Symbol">→</a> <a id="1179" href="ValueSep.WeakHoareLogic.html#583" class="Function">Assertion</a> <a id="1189" class="Symbol">→</a> <a id="1191" href="Agda.Primitive.html#326" class="Primitive">Type</a>
<a id="1196" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1198" href="ValueSep.WeakHoareLogic.html#1198" class="Bound">P</a> <a id="1200" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="1202" href="ValueSep.WeakHoareLogic.html#1202" class="Bound">l</a> <a id="1204" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1206" href="ValueSep.WeakHoareLogic.html#1206" class="Bound">Q</a> <a id="1208" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="1210" class="Symbol">=</a> <a id="1212" href="ValueSep.WeakHoareLogic.html#1198" class="Bound">P</a> <a id="1214" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1216" href="ValueSep.WeakHoareLogic.html#1206" class="Bound">Q</a> <a id="1218" href="ValueSep.WeakHoareLogic.html#963" class="Function Operator">↑∘</a> <a id="1221" href="ValueSep.Ledger.html#1567" class="Field Operator">⟦</a> <a id="1223" href="ValueSep.WeakHoareLogic.html#1202" class="Bound">l</a> <a id="1225" href="ValueSep.Ledger.html#1567" class="Field Operator">⟧</a>

<a id="hoare-base"></a><a id="1228" href="ValueSep.WeakHoareLogic.html#1228" class="Function">hoare-base</a> <a id="1239" class="Symbol">:</a>
  <a id="1243" href="Prelude.InferenceRules.html#47267" class="Function Operator">───────────────</a>
  <a id="1261" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1263" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1265" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="1267" class="InductiveConstructor">[]</a> <a id="1270" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1272" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1274" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a>
<a id="1276" href="ValueSep.WeakHoareLogic.html#1228" class="Function">hoare-base</a> <a id="1287" class="Symbol">=</a> <a id="1289" href="ValueSep.WeakHoareLogic.html#1048" class="InductiveConstructor">ret↑</a>

<a id="hoare-step"></a><a id="1295" href="ValueSep.WeakHoareLogic.html#1295" class="Function">hoare-step</a> <a id="1306" class="Symbol">:</a>
  <a id="1310" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1312" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1314" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="1316" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1318" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1320" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="1322" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a>
  <a id="1326" href="Prelude.InferenceRules.html#13975" class="Function Operator">─────────────────────────</a>
  <a id="1354" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1356" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1358" href="ValueSep.WeakHoareLogic.html#963" class="Function Operator">↑∘</a> <a id="1361" href="ValueSep.Ledger.html#1567" class="Field Operator">⟦</a> <a id="1363" href="ValueSep.Ledger.html#1178" class="Generalizable">t</a> <a id="1365" href="ValueSep.Ledger.html#1567" class="Field Operator">⟧</a> <a id="1367" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="1369" href="ValueSep.Ledger.html#1178" class="Generalizable">t</a> <a id="1371" class="InductiveConstructor Operator">∷</a> <a id="1373" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1375" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1377" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="1379" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a>
<a id="1381" href="ValueSep.WeakHoareLogic.html#1295" class="Function">hoare-step</a> <a id="1392" class="Symbol">{</a><a id="1393" class="Argument">t</a> <a id="1395" class="Symbol">=</a> <a id="1397" href="ValueSep.WeakHoareLogic.html#1397" class="Bound">t</a><a id="1398" class="Symbol">}</a> <a id="1400" href="ValueSep.WeakHoareLogic.html#1400" class="Bound">PlQ</a> <a id="1404" class="Symbol">{</a><a id="1405" href="ValueSep.WeakHoareLogic.html#1405" class="Bound">s</a><a id="1406" class="Symbol">}</a> <a id="1408" href="ValueSep.WeakHoareLogic.html#1408" class="Bound">Ps↑</a> <a id="1412" class="Keyword">with</a> <a id="1417" href="ValueSep.Ledger.html#1567" class="Field Operator">⟦</a> <a id="1419" href="ValueSep.WeakHoareLogic.html#1397" class="Bound">t</a> <a id="1421" href="ValueSep.Ledger.html#1567" class="Field Operator">⟧</a> <a id="1423" href="ValueSep.WeakHoareLogic.html#1405" class="Bound">s</a> <a id="1425" class="Symbol">|</a> <a id="1427" href="ValueSep.WeakHoareLogic.html#1408" class="Bound">Ps↑</a>
<a id="1431" class="Symbol">...</a> <a id="1435" class="Symbol">|</a> <a id="1437" class="Symbol">_</a>       <a id="1445" class="Symbol">|</a> <a id="1447" href="ValueSep.WeakHoareLogic.html#1048" class="InductiveConstructor">ret↑</a> <a id="1452" href="ValueSep.WeakHoareLogic.html#1452" class="Bound">Ps</a> <a id="1455" class="Symbol">=</a> <a id="1457" class="Bound">PlQ</a> <a id="1461" href="ValueSep.WeakHoareLogic.html#1452" class="Bound">Ps</a>
<a id="1464" class="Symbol">...</a> <a id="1468" class="Symbol">|</a> <a id="1470" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a> <a id="1478" class="Symbol">|</a> <a id="1480" href="ValueSep.WeakHoareLogic.html#1078" class="InductiveConstructor">ret∅</a>    <a id="1488" class="Symbol">=</a> <a id="1490" href="ValueSep.WeakHoareLogic.html#1078" class="InductiveConstructor">ret∅</a>

<a id="consequence"></a><a id="1496" href="ValueSep.WeakHoareLogic.html#1496" class="Function">consequence</a> <a id="1508" class="Symbol">:</a>
  <a id="1512" href="Prelude.InferenceRules.html#56118" class="Function Operator">∙</a> <a id="1514" href="ValueSep.WeakHoareLogic.html#615" class="Generalizable">P′</a> <a id="1517" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1519" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a>   <a id="1523" class="Comment">-- ^ weakening the pre-condition</a>
  <a id="1558" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="1560" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a>  <a id="1563" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1565" href="ValueSep.WeakHoareLogic.html#626" class="Generalizable">Q′</a>  <a id="1569" class="Comment">-- ^ strengthening the post-condition</a>
  <a id="1609" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="1611" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1613" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a>  <a id="1616" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="1618" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1620" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1622" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a>  <a id="1625" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a>
    <a id="1631" href="Prelude.InferenceRules.html#14230" class="Function Operator">───────────────</a>
    <a id="1651" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1653" href="ValueSep.WeakHoareLogic.html#615" class="Generalizable">P′</a> <a id="1656" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="1658" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1660" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1662" href="ValueSep.WeakHoareLogic.html#626" class="Generalizable">Q′</a> <a id="1665" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a>
<a id="1667" href="ValueSep.WeakHoareLogic.html#1496" class="Function">consequence</a> <a id="1679" href="ValueSep.WeakHoareLogic.html#1679" class="Bound">⊢P</a> <a id="1682" href="ValueSep.WeakHoareLogic.html#1682" class="Bound">Q⊢</a> <a id="1685" href="ValueSep.WeakHoareLogic.html#1685" class="Bound">PlQ</a> <a id="1689" class="Symbol">=</a> <a id="1691" href="ValueSep.WeakHoareLogic.html#1100" class="Function">map↑</a> <a id="1696" href="ValueSep.WeakHoareLogic.html#1682" class="Bound">Q⊢</a> <a id="1699" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1701" href="ValueSep.WeakHoareLogic.html#1685" class="Bound">PlQ</a> <a id="1705" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1707" href="ValueSep.WeakHoareLogic.html#1679" class="Bound">⊢P</a>

<a id="1711" class="Comment">-- Utilities for Hoare triples.</a>
<a id="weaken"></a><a id="1743" href="ValueSep.WeakHoareLogic.html#1743" class="Function">weaken</a> <a id="1750" class="Symbol">:</a> <a id="1752" href="ValueSep.WeakHoareLogic.html#615" class="Generalizable">P′</a> <a id="1755" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1757" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1759" class="Symbol">→</a> <a id="1761" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1763" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1765" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="1767" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1769" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1771" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="1773" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="1775" class="Symbol">→</a> <a id="1777" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1779" href="ValueSep.WeakHoareLogic.html#615" class="Generalizable">P′</a> <a id="1782" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="1784" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1786" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1788" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="1790" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a>
<a id="1792" href="ValueSep.WeakHoareLogic.html#1743" class="Function">weaken</a> <a id="1799" class="Symbol">{</a><a id="1800" class="Argument">l</a> <a id="1802" class="Symbol">=</a> <a id="1804" href="ValueSep.WeakHoareLogic.html#1804" class="Bound">l</a><a id="1805" class="Symbol">}</a> <a id="1807" href="ValueSep.WeakHoareLogic.html#1807" class="Bound">H</a> <a id="1809" class="Symbol">=</a> <a id="1811" href="ValueSep.WeakHoareLogic.html#1496" class="Function">consequence</a> <a id="1823" class="Symbol">{</a><a id="1824" class="Argument">l</a> <a id="1826" class="Symbol">=</a> <a id="1828" href="ValueSep.WeakHoareLogic.html#1804" class="Bound">l</a><a id="1829" class="Symbol">}</a> <a id="1831" href="ValueSep.WeakHoareLogic.html#1807" class="Bound">H</a> <a id="1833" href="Function.Base.html#615" class="Function">id</a>

<a id="strengthen"></a><a id="1837" href="ValueSep.WeakHoareLogic.html#1837" class="Function">strengthen</a> <a id="1848" class="Symbol">:</a> <a id="1850" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="1852" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1854" href="ValueSep.WeakHoareLogic.html#626" class="Generalizable">Q′</a> <a id="1857" class="Symbol">→</a> <a id="1859" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1861" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1863" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="1865" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1867" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1869" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="1871" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="1873" class="Symbol">→</a> <a id="1875" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1877" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1879" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="1881" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1883" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1885" href="ValueSep.WeakHoareLogic.html#626" class="Generalizable">Q′</a> <a id="1888" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a>
<a id="1890" href="ValueSep.WeakHoareLogic.html#1837" class="Function">strengthen</a> <a id="1901" class="Symbol">{</a><a id="1902" class="Argument">l</a> <a id="1904" class="Symbol">=</a> <a id="1906" href="ValueSep.WeakHoareLogic.html#1906" class="Bound">l</a><a id="1907" class="Symbol">}</a> <a id="1909" href="ValueSep.WeakHoareLogic.html#1909" class="Bound">H</a> <a id="1911" class="Symbol">=</a> <a id="1913" href="ValueSep.WeakHoareLogic.html#1496" class="Function">consequence</a> <a id="1925" class="Symbol">{</a><a id="1926" class="Argument">l</a> <a id="1928" class="Symbol">=</a> <a id="1930" href="ValueSep.WeakHoareLogic.html#1906" class="Bound">l</a><a id="1931" class="Symbol">}</a> <a id="1933" href="Function.Base.html#615" class="Function">id</a> <a id="1936" href="ValueSep.WeakHoareLogic.html#1909" class="Bound">H</a>

<a id="axiom-base⋆"></a><a id="1939" href="ValueSep.WeakHoareLogic.html#1939" class="Function">axiom-base⋆</a> <a id="1951" class="Symbol">:</a> <a id="1953" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1955" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1957" href="ValueSep.WeakHoareLogic.html#963" class="Function Operator">↑∘</a> <a id="1960" href="ValueSep.Ledger.html#1567" class="Field Operator">⟦</a> <a id="1962" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1964" href="ValueSep.Ledger.html#1567" class="Field Operator">⟧</a> <a id="1966" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="1968" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="1970" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="1972" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="1974" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a>
<a id="1976" href="ValueSep.WeakHoareLogic.html#1939" class="Function">axiom-base⋆</a> <a id="1988" class="Symbol">{</a><a id="1989" class="Argument">P</a> <a id="1991" class="Symbol">=</a> <a id="1993" href="ValueSep.WeakHoareLogic.html#1993" class="Bound">P</a><a id="1994" class="Symbol">}</a> <a id="1996" class="Symbol">{</a><a id="1997" class="Argument">l</a> <a id="1999" class="Symbol">=</a> <a id="2001" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2003" class="Symbol">}</a> <a id="2005" class="Symbol">=</a> <a id="2007" href="ValueSep.WeakHoareLogic.html#1743" class="Function">weaken</a> <a id="2014" class="Symbol">{</a><a id="2015" class="Argument">P′</a> <a id="2018" class="Symbol">=</a> <a id="2020" href="ValueSep.WeakHoareLogic.html#1993" class="Bound">P</a> <a id="2022" href="ValueSep.WeakHoareLogic.html#963" class="Function Operator">↑∘</a> <a id="2025" href="ValueSep.Ledger.html#1567" class="Field Operator">⟦</a> <a id="2027" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2030" href="ValueSep.Ledger.html#1567" class="Field Operator">⟧</a><a id="2031" class="Symbol">}</a> <a id="2033" class="Symbol">{</a><a id="2034" class="Argument">l</a> <a id="2036" class="Symbol">=</a> <a id="2038" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2040" class="Symbol">}</a> <a id="2042" class="Symbol">(λ</a> <a id="2045" class="Keyword">where</a> <a id="2051" class="Symbol">(</a><a id="2052" href="ValueSep.WeakHoareLogic.html#1048" class="InductiveConstructor">ret↑</a> <a id="2057" href="ValueSep.WeakHoareLogic.html#2057" class="Bound">p</a><a id="2058" class="Symbol">)</a> <a id="2060" class="Symbol">→</a> <a id="2062" href="ValueSep.WeakHoareLogic.html#2057" class="Bound">p</a><a id="2063" class="Symbol">)</a> <a id="2065" href="ValueSep.WeakHoareLogic.html#1228" class="Function">hoare-base</a>
<a id="2076" href="ValueSep.WeakHoareLogic.html#1939" class="Function">axiom-base⋆</a> <a id="2088" class="Symbol">{</a><a id="2089" class="Argument">P</a> <a id="2091" class="Symbol">=</a> <a id="2093" href="ValueSep.WeakHoareLogic.html#2093" class="Bound">P</a><a id="2094" class="Symbol">}</a> <a id="2096" class="Symbol">{</a><a id="2097" class="Argument">l</a> <a id="2099" class="Symbol">=</a> <a id="2101" href="ValueSep.WeakHoareLogic.html#2101" class="Bound">t</a> <a id="2103" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2105" href="ValueSep.WeakHoareLogic.html#2105" class="Bound">l</a><a id="2106" class="Symbol">}</a> <a id="2108" href="ValueSep.WeakHoareLogic.html#2108" class="Bound">Ps</a> <a id="2111" class="Symbol">=</a> <a id="2113" href="ValueSep.WeakHoareLogic.html#1100" class="Function">map↑</a> <a id="2118" href="Function.Base.html#615" class="Function">id</a> <a id="2121" href="ValueSep.WeakHoareLogic.html#2108" class="Bound">Ps</a>

<a id="2125" class="Comment">-- Derived alternative formulation for step, using list concatenation.</a>
<a id="hoare-step′"></a><a id="2196" href="ValueSep.WeakHoareLogic.html#2196" class="Function">hoare-step′</a> <a id="2208" class="Symbol">:</a>
  <a id="2212" href="Prelude.InferenceRules.html#56118" class="Function Operator">∙</a> <a id="2214" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="2216" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="2218" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="2220" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a>  <a id="2223" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="2225" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="2227" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a>
  <a id="2231" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="2233" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="2235" href="ValueSep.WeakHoareLogic.html#624" class="Generalizable">Q</a> <a id="2237" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="2239" href="ValueSep.Ledger.html#1195" class="Generalizable">l′</a> <a id="2242" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="2244" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="2246" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a>
    <a id="2252" href="Prelude.InferenceRules.html#14140" class="Function Operator">───────────────────</a>
    <a id="2276" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="2278" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="2280" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="2282" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="2284" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="2287" href="ValueSep.Ledger.html#1195" class="Generalizable">l′</a> <a id="2290" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="2292" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="2294" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a>
<a id="2296" href="ValueSep.WeakHoareLogic.html#2196" class="Function">hoare-step′</a> <a id="2308" class="Symbol">{</a><a id="2309" href="ValueSep.WeakHoareLogic.html#2309" class="Bound">P</a><a id="2310" class="Symbol">}{</a><a id="2312" href="ValueSep.WeakHoareLogic.html#2312" class="Bound">l</a><a id="2313" class="Symbol">}{</a><a id="2315" href="ValueSep.WeakHoareLogic.html#2315" class="Bound">Q</a><a id="2316" class="Symbol">}{</a><a id="2318" href="ValueSep.WeakHoareLogic.html#2318" class="Bound">l′</a><a id="2320" class="Symbol">}{</a><a id="2322" href="ValueSep.WeakHoareLogic.html#2322" class="Bound">R</a><a id="2323" class="Symbol">}</a> <a id="2325" href="ValueSep.WeakHoareLogic.html#2325" class="Bound">PlQ</a> <a id="2329" href="ValueSep.WeakHoareLogic.html#2329" class="Bound">QlR</a> <a id="2333" class="Symbol">{</a><a id="2334" href="ValueSep.WeakHoareLogic.html#2334" class="Bound">s</a><a id="2335" class="Symbol">}</a> <a id="2337" href="ValueSep.WeakHoareLogic.html#2337" class="Bound">Ps</a>
  <a id="2342" class="Keyword">rewrite</a> <a id="2350" href="ValueSep.Ledger.html#3267" class="Function">comp</a> <a id="2355" class="Symbol">{</a><a id="2356" href="ValueSep.WeakHoareLogic.html#2312" class="Bound">l</a><a id="2357" class="Symbol">}{</a><a id="2359" href="ValueSep.WeakHoareLogic.html#2318" class="Bound">l′</a><a id="2361" class="Symbol">}</a> <a id="2363" href="ValueSep.WeakHoareLogic.html#2334" class="Bound">s</a>
  <a id="2367" class="Keyword">with</a> <a id="2372" href="ValueSep.Ledger.html#1567" class="Field Operator">⟦</a> <a id="2374" href="ValueSep.WeakHoareLogic.html#2312" class="Bound">l</a> <a id="2376" href="ValueSep.Ledger.html#1567" class="Field Operator">⟧</a> <a id="2378" href="ValueSep.WeakHoareLogic.html#2334" class="Bound">s</a> <a id="2380" class="Symbol">|</a> <a id="2382" href="ValueSep.WeakHoareLogic.html#2325" class="Bound">PlQ</a> <a id="2386" href="ValueSep.WeakHoareLogic.html#2337" class="Bound">Ps</a>
<a id="2389" class="Symbol">...</a> <a id="2393" class="Symbol">|</a> <a id="2395" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="2400" class="Symbol">_</a>  <a id="2403" class="Symbol">|</a> <a id="2405" href="ValueSep.WeakHoareLogic.html#1048" class="InductiveConstructor">ret↑</a> <a id="2410" href="ValueSep.WeakHoareLogic.html#2410" class="Bound">Qs′</a> <a id="2414" class="Symbol">=</a> <a id="2416" class="Bound">QlR</a> <a id="2420" href="ValueSep.WeakHoareLogic.html#2410" class="Bound">Qs′</a>
<a id="2424" class="Symbol">...</a> <a id="2428" class="Symbol">|</a> <a id="2430" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a> <a id="2438" class="Symbol">|</a> <a id="2440" href="ValueSep.WeakHoareLogic.html#1078" class="InductiveConstructor">ret∅</a>     <a id="2449" class="Symbol">=</a> <a id="2451" href="ValueSep.WeakHoareLogic.html#1078" class="InductiveConstructor">ret∅</a>

<a id="2457" class="Comment">-- ** Reasoning syntax for Hoare triples.</a>
<a id="2499" class="Keyword">module</a> <a id="HoareReasoning"></a><a id="2506" href="ValueSep.WeakHoareLogic.html#2506" class="Module">HoareReasoning</a> <a id="2521" class="Keyword">where</a>
  <a id="2529" class="Comment">-- Reasoning newtype (for better type inference).</a>
  <a id="2581" class="Keyword">record</a> <a id="HoareReasoning.ℝ⟨_⟩_⟨_⟩"></a><a id="2588" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">ℝ⟨_⟩_⟨_⟩</a> <a id="2597" class="Symbol">(</a><a id="2598" href="ValueSep.WeakHoareLogic.html#2598" class="Bound">P</a> <a id="2600" class="Symbol">:</a> <a id="2602" href="ValueSep.WeakHoareLogic.html#583" class="Function">Assertion</a><a id="2611" class="Symbol">)</a> <a id="2613" class="Symbol">(</a><a id="2614" href="ValueSep.WeakHoareLogic.html#2614" class="Bound">l</a> <a id="2616" class="Symbol">:</a> <a id="2618" href="ValueSep.Ledger.html#1093" class="Function">L</a><a id="2619" class="Symbol">)</a> <a id="2621" class="Symbol">(</a><a id="2622" href="ValueSep.WeakHoareLogic.html#2622" class="Bound">Q</a> <a id="2624" class="Symbol">:</a> <a id="2626" href="ValueSep.WeakHoareLogic.html#583" class="Function">Assertion</a><a id="2635" class="Symbol">)</a> <a id="2637" class="Symbol">:</a> <a id="2639" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="2644" class="Keyword">where</a>
    <a id="2654" class="Keyword">constructor</a> <a id="HoareReasoning.mkℝ_"></a><a id="2666" href="ValueSep.WeakHoareLogic.html#2666" class="InductiveConstructor Operator">mkℝ_</a>
    <a id="2675" class="Keyword">field</a> <a id="HoareReasoning.ℝ⟨_⟩_⟨_⟩.begin_"></a><a id="2681" href="ValueSep.WeakHoareLogic.html#2681" class="Field Operator">begin_</a> <a id="2688" class="Symbol">:</a> <a id="2690" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="2692" href="ValueSep.WeakHoareLogic.html#2598" class="Bound">P</a> <a id="2694" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="2696" href="ValueSep.WeakHoareLogic.html#2614" class="Bound">l</a> <a id="2698" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="2700" href="ValueSep.WeakHoareLogic.html#2622" class="Bound">Q</a> <a id="2702" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a>
    <a id="2708" class="Keyword">infix</a> <a id="2714" class="Number">-2</a> <a id="2717" href="ValueSep.WeakHoareLogic.html#2681" class="Field Operator">begin_</a>
  <a id="2726" class="Keyword">open</a> <a id="2731" href="ValueSep.WeakHoareLogic.html#2588" class="Module Operator">ℝ⟨_⟩_⟨_⟩</a> <a id="2740" class="Keyword">public</a>
  <a id="2749" class="Keyword">infix</a>  <a id="2756" class="Number">-2</a> <a id="2759" href="ValueSep.WeakHoareLogic.html#2666" class="InductiveConstructor Operator">mkℝ_</a>
  <a id="2766" class="Keyword">infixr</a> <a id="2773" class="Number">-1</a> <a id="2776" href="ValueSep.WeakHoareLogic.html#2852" class="Function Operator">_~⟪_⟩_</a> <a id="2783" href="ValueSep.WeakHoareLogic.html#2999" class="Function Operator">_~⟨_⟫_</a> <a id="2790" href="ValueSep.WeakHoareLogic.html#3127" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="2800" href="ValueSep.WeakHoareLogic.html#3450" class="Function Operator">_~⟨_∶-_⟩++_</a>
  <a id="2814" class="Keyword">infix</a>  <a id="2821" class="Number">0</a>  <a id="2824" href="ValueSep.WeakHoareLogic.html#3613" class="Function Operator">_∎</a>

  <a id="2830" class="Comment">-- weakening syntax</a>
  <a id="HoareReasoning._~⟪_⟩_"></a><a id="2852" href="ValueSep.WeakHoareLogic.html#2852" class="Function Operator">_~⟪_⟩_</a> <a id="2859" class="Symbol">:</a> <a id="2861" class="Symbol">∀</a> <a id="2863" href="ValueSep.WeakHoareLogic.html#2863" class="Bound">P′</a> <a id="2866" class="Symbol">→</a> <a id="2868" href="ValueSep.WeakHoareLogic.html#2863" class="Bound">P′</a> <a id="2871" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="2873" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="2875" class="Symbol">→</a> <a id="2877" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">ℝ⟨</a> <a id="2880" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="2882" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟩</a> <a id="2884" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="2886" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟨</a> <a id="2888" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="2890" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟩</a> <a id="2892" class="Symbol">→</a> <a id="2894" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">ℝ⟨</a> <a id="2897" href="ValueSep.WeakHoareLogic.html#2863" class="Bound">P′</a> <a id="2900" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟩</a> <a id="2902" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="2904" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟨</a> <a id="2906" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="2908" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟩</a>
  <a id="2912" href="ValueSep.WeakHoareLogic.html#2852" class="Function Operator">_~⟪_⟩_</a> <a id="2919" class="Symbol">{</a><a id="2920" class="Argument">l</a> <a id="2922" class="Symbol">=</a> <a id="2924" href="ValueSep.WeakHoareLogic.html#2924" class="Bound">l</a><a id="2925" class="Symbol">}</a> <a id="2927" class="Symbol">_</a> <a id="2929" href="ValueSep.WeakHoareLogic.html#2929" class="Bound">H</a> <a id="2931" href="ValueSep.WeakHoareLogic.html#2931" class="Bound">PlR</a> <a id="2935" class="Symbol">=</a> <a id="2937" href="ValueSep.WeakHoareLogic.html#2666" class="InductiveConstructor Operator">mkℝ</a> <a id="2941" href="ValueSep.WeakHoareLogic.html#1743" class="Function">weaken</a> <a id="2948" class="Symbol">{</a><a id="2949" class="Argument">l</a> <a id="2951" class="Symbol">=</a> <a id="2953" href="ValueSep.WeakHoareLogic.html#2924" class="Bound">l</a><a id="2954" class="Symbol">}</a> <a id="2956" href="ValueSep.WeakHoareLogic.html#2929" class="Bound">H</a> <a id="2958" class="Symbol">(</a><a id="2959" href="ValueSep.WeakHoareLogic.html#2681" class="Field Operator">begin</a> <a id="2965" href="ValueSep.WeakHoareLogic.html#2931" class="Bound">PlR</a><a id="2968" class="Symbol">)</a>

  <a id="2973" class="Comment">-- strengthening syntax</a>
  <a id="HoareReasoning._~⟨_⟫_"></a><a id="2999" href="ValueSep.WeakHoareLogic.html#2999" class="Function Operator">_~⟨_⟫_</a> <a id="3006" class="Symbol">:</a> <a id="3008" class="Symbol">∀</a> <a id="3010" href="ValueSep.WeakHoareLogic.html#3010" class="Bound">R′</a> <a id="3013" class="Symbol">→</a> <a id="3015" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="3017" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="3019" href="ValueSep.WeakHoareLogic.html#3010" class="Bound">R′</a> <a id="3022" class="Symbol">→</a> <a id="3024" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="3026" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="3028" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="3030" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="3032" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="3034" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="3036" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="3038" class="Symbol">→</a> <a id="3040" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="3042" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="3044" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a> <a id="3046" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="3048" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟨</a> <a id="3050" href="ValueSep.WeakHoareLogic.html#3010" class="Bound">R′</a> <a id="3053" href="ValueSep.WeakHoareLogic.html#1153" class="Function Operator">⟩</a>
  <a id="3057" href="ValueSep.WeakHoareLogic.html#2999" class="Function Operator">_~⟨_⟫_</a> <a id="3064" class="Symbol">{</a><a id="3065" class="Argument">l</a> <a id="3067" class="Symbol">=</a> <a id="3069" href="ValueSep.WeakHoareLogic.html#3069" class="Bound">l</a><a id="3070" class="Symbol">}</a> <a id="3072" class="Symbol">_</a> <a id="3074" href="ValueSep.WeakHoareLogic.html#3074" class="Bound">H</a> <a id="3076" href="ValueSep.WeakHoareLogic.html#3076" class="Bound">PlR</a> <a id="3080" class="Symbol">=</a> <a id="3082" href="ValueSep.WeakHoareLogic.html#1837" class="Function">strengthen</a> <a id="3093" class="Symbol">{</a><a id="3094" class="Argument">l</a> <a id="3096" class="Symbol">=</a> <a id="3098" href="ValueSep.WeakHoareLogic.html#3069" class="Bound">l</a><a id="3099" class="Symbol">}</a> <a id="3101" href="ValueSep.WeakHoareLogic.html#3074" class="Bound">H</a> <a id="3103" href="ValueSep.WeakHoareLogic.html#3076" class="Bound">PlR</a>

  <a id="3110" class="Comment">-- step syntax</a>
  <a id="HoareReasoning._~⟨_∶-_⟩_"></a><a id="3127" href="ValueSep.WeakHoareLogic.html#3127" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="3137" class="Symbol">:</a> <a id="3139" class="Symbol">∀</a> <a id="3141" href="ValueSep.WeakHoareLogic.html#3141" class="Bound">P′</a> <a id="3144" href="ValueSep.WeakHoareLogic.html#3144" class="Bound">t</a> <a id="3146" class="Symbol">→</a> <a id="3148" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">ℝ⟨</a> <a id="3151" href="ValueSep.WeakHoareLogic.html#3141" class="Bound">P′</a> <a id="3154" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟩</a> <a id="3156" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="3158" href="ValueSep.WeakHoareLogic.html#3144" class="Bound">t</a> <a id="3160" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="3162" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟨</a> <a id="3164" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="3166" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟩</a> <a id="3168" class="Symbol">→</a> <a id="3170" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">ℝ⟨</a> <a id="3173" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="3175" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟩</a> <a id="3177" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="3179" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟨</a> <a id="3181" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="3183" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟩</a> <a id="3185" class="Symbol">→</a> <a id="3187" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">ℝ⟨</a> <a id="3190" href="ValueSep.WeakHoareLogic.html#3141" class="Bound">P′</a> <a id="3193" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟩</a> <a id="3195" href="ValueSep.WeakHoareLogic.html#3144" class="Bound">t</a> <a id="3197" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3199" href="ValueSep.Ledger.html#1193" class="Generalizable">l</a> <a id="3201" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟨</a> <a id="3203" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="3205" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟩</a>
  <a id="3209" href="ValueSep.WeakHoareLogic.html#3127" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="3219" class="Symbol">{</a><a id="3220" class="Argument">l</a> <a id="3222" class="Symbol">=</a> <a id="3224" href="ValueSep.WeakHoareLogic.html#3224" class="Bound">l</a><a id="3225" class="Symbol">}</a> <a id="3227" class="Symbol">{</a><a id="3228" class="Argument">R</a> <a id="3230" class="Symbol">=</a> <a id="3232" href="ValueSep.WeakHoareLogic.html#3232" class="Bound">R</a><a id="3233" class="Symbol">}</a> <a id="3235" href="ValueSep.WeakHoareLogic.html#3235" class="Bound">P′</a> <a id="3238" href="ValueSep.WeakHoareLogic.html#3238" class="Bound">t</a> <a id="3240" href="ValueSep.WeakHoareLogic.html#3240" class="Bound">H</a> <a id="3242" href="ValueSep.WeakHoareLogic.html#3242" class="Bound">PlR</a> <a id="3246" class="Symbol">=</a> <a id="3248" href="ValueSep.WeakHoareLogic.html#2666" class="InductiveConstructor Operator">mkℝ</a> <a id="3252" href="ValueSep.WeakHoareLogic.html#3271" class="Function">go</a>
    <a id="3259" class="Keyword">where</a>
      <a id="3271" href="ValueSep.WeakHoareLogic.html#3271" class="Function">go</a> <a id="3274" class="Symbol">:</a> <a id="3276" href="ValueSep.WeakHoareLogic.html#3235" class="Bound">P′</a> <a id="3279" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="3281" href="ValueSep.WeakHoareLogic.html#3232" class="Bound">R</a> <a id="3283" href="ValueSep.WeakHoareLogic.html#963" class="Function Operator">↑∘</a> <a id="3286" href="ValueSep.Ledger.html#1567" class="Field Operator">⟦</a> <a id="3288" href="ValueSep.WeakHoareLogic.html#3238" class="Bound">t</a> <a id="3290" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3292" href="ValueSep.WeakHoareLogic.html#3224" class="Bound">l</a> <a id="3294" href="ValueSep.Ledger.html#1567" class="Field Operator">⟧</a>
      <a id="3302" href="ValueSep.WeakHoareLogic.html#3271" class="Function">go</a> <a id="3305" class="Symbol">{</a><a id="3306" href="ValueSep.WeakHoareLogic.html#3306" class="Bound">s</a><a id="3307" class="Symbol">}</a> <a id="3309" href="ValueSep.WeakHoareLogic.html#3309" class="Bound">P′s</a> <a id="3313" class="Keyword">with</a> <a id="3318" href="ValueSep.Ledger.html#1567" class="Field Operator">⟦</a> <a id="3320" href="ValueSep.WeakHoareLogic.html#3238" class="Bound">t</a> <a id="3322" href="ValueSep.Ledger.html#1567" class="Field Operator">⟧</a> <a id="3324" href="ValueSep.WeakHoareLogic.html#3306" class="Bound">s</a> <a id="3326" class="Symbol">|</a> <a id="3328" class="Symbol">(</a><a id="3329" href="ValueSep.WeakHoareLogic.html#2681" class="Field Operator">begin</a> <a id="3335" href="ValueSep.WeakHoareLogic.html#3240" class="Bound">H</a><a id="3336" class="Symbol">)</a> <a id="3338" href="ValueSep.WeakHoareLogic.html#3309" class="Bound">P′s</a>
      <a id="3348" class="Symbol">...</a> <a id="3352" class="Symbol">|</a> <a id="3354" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="3359" class="Symbol">_</a>  <a id="3362" class="Symbol">|</a> <a id="3364" href="ValueSep.WeakHoareLogic.html#1048" class="InductiveConstructor">ret↑</a> <a id="3369" href="ValueSep.WeakHoareLogic.html#3369" class="Bound">Ps′</a> <a id="3373" class="Symbol">=</a> <a id="3375" class="Symbol">(</a><a id="3376" href="ValueSep.WeakHoareLogic.html#2681" class="Field Operator">begin</a> <a id="3382" href="ValueSep.WeakHoareLogic.html#3242" class="Bound">PlR</a><a id="3385" class="Symbol">)</a> <a id="3387" href="ValueSep.WeakHoareLogic.html#3369" class="Bound">Ps′</a>
      <a id="3397" class="Symbol">...</a> <a id="3401" class="Symbol">|</a> <a id="3403" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a> <a id="3411" class="Symbol">|</a> <a id="3413" href="ValueSep.WeakHoareLogic.html#1078" class="InductiveConstructor">ret∅</a>     <a id="3422" class="Symbol">=</a> <a id="3424" href="ValueSep.WeakHoareLogic.html#1078" class="InductiveConstructor">ret∅</a>

  <a id="3432" class="Comment">-- step′ syntax</a>
  <a id="HoareReasoning._~⟨_∶-_⟩++_"></a><a id="3450" href="ValueSep.WeakHoareLogic.html#3450" class="Function Operator">_~⟨_∶-_⟩++_</a> <a id="3462" class="Symbol">:</a> <a id="3464" class="Symbol">∀</a> <a id="3466" href="ValueSep.WeakHoareLogic.html#3466" class="Bound">P′</a> <a id="3469" class="Symbol">→</a> <a id="3471" class="Symbol">(</a><a id="3472" href="ValueSep.WeakHoareLogic.html#3472" class="Bound">l</a> <a id="3474" class="Symbol">:</a> <a id="3476" href="ValueSep.Ledger.html#1093" class="Function">L</a><a id="3477" class="Symbol">)</a> <a id="3479" class="Symbol">→</a> <a id="3481" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">ℝ⟨</a> <a id="3484" href="ValueSep.WeakHoareLogic.html#3466" class="Bound">P′</a> <a id="3487" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟩</a> <a id="3489" href="ValueSep.WeakHoareLogic.html#3472" class="Bound">l</a> <a id="3491" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟨</a> <a id="3493" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="3495" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟩</a> <a id="3497" class="Symbol">→</a> <a id="3499" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">ℝ⟨</a> <a id="3502" href="ValueSep.WeakHoareLogic.html#613" class="Generalizable">P</a> <a id="3504" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟩</a> <a id="3506" href="ValueSep.Ledger.html#1195" class="Generalizable">l′</a> <a id="3509" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟨</a> <a id="3511" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="3513" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟩</a> <a id="3515" class="Symbol">→</a> <a id="3517" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">ℝ⟨</a> <a id="3520" href="ValueSep.WeakHoareLogic.html#3466" class="Bound">P′</a> <a id="3523" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟩</a> <a id="3525" href="ValueSep.WeakHoareLogic.html#3472" class="Bound">l</a> <a id="3527" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="3530" href="ValueSep.Ledger.html#1195" class="Generalizable">l′</a> <a id="3533" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟨</a> <a id="3535" href="ValueSep.WeakHoareLogic.html#635" class="Generalizable">R</a> <a id="3537" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟩</a>
  <a id="3541" href="ValueSep.WeakHoareLogic.html#3541" class="Bound">P′</a> <a id="3544" href="ValueSep.WeakHoareLogic.html#3450" class="Function Operator">~⟨</a> <a id="3547" href="ValueSep.WeakHoareLogic.html#3547" class="Bound">l</a> <a id="3549" href="ValueSep.WeakHoareLogic.html#3450" class="Function Operator">∶-</a> <a id="3552" href="ValueSep.WeakHoareLogic.html#3552" class="Bound">H</a> <a id="3554" href="ValueSep.WeakHoareLogic.html#3450" class="Function Operator">⟩++</a> <a id="3558" href="ValueSep.WeakHoareLogic.html#3558" class="Bound">PlR</a> <a id="3562" class="Symbol">=</a> <a id="3564" href="ValueSep.WeakHoareLogic.html#2666" class="InductiveConstructor Operator">mkℝ</a> <a id="3568" href="ValueSep.WeakHoareLogic.html#2196" class="Function">hoare-step′</a> <a id="3580" class="Symbol">{</a><a id="3581" class="Argument">l</a> <a id="3583" class="Symbol">=</a> <a id="3585" href="ValueSep.WeakHoareLogic.html#3547" class="Bound">l</a><a id="3586" class="Symbol">}</a> <a id="3588" class="Symbol">(</a><a id="3589" href="ValueSep.WeakHoareLogic.html#2681" class="Field Operator">begin</a> <a id="3595" href="ValueSep.WeakHoareLogic.html#3552" class="Bound">H</a><a id="3596" class="Symbol">)</a> <a id="3598" class="Symbol">(</a><a id="3599" href="ValueSep.WeakHoareLogic.html#2681" class="Field Operator">begin</a> <a id="3605" href="ValueSep.WeakHoareLogic.html#3558" class="Bound">PlR</a><a id="3608" class="Symbol">)</a>

  <a id="HoareReasoning._∎"></a><a id="3613" href="ValueSep.WeakHoareLogic.html#3613" class="Function Operator">_∎</a> <a id="3616" class="Symbol">:</a> <a id="3618" class="Symbol">∀</a> <a id="3620" href="ValueSep.WeakHoareLogic.html#3620" class="Bound">P</a> <a id="3622" class="Symbol">→</a> <a id="3624" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">ℝ⟨</a> <a id="3627" href="ValueSep.WeakHoareLogic.html#3620" class="Bound">P</a> <a id="3629" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟩</a> <a id="3631" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="3634" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟨</a> <a id="3636" href="ValueSep.WeakHoareLogic.html#3620" class="Bound">P</a> <a id="3638" href="ValueSep.WeakHoareLogic.html#2588" class="Record Operator">⟩</a>
  <a id="3642" href="ValueSep.WeakHoareLogic.html#3642" class="Bound">p</a> <a id="3644" href="ValueSep.WeakHoareLogic.html#3613" class="Function Operator">∎</a> <a id="3646" class="Symbol">=</a> <a id="3648" href="ValueSep.WeakHoareLogic.html#2666" class="InductiveConstructor Operator">mkℝ</a> <a id="3652" href="ValueSep.WeakHoareLogic.html#1228" class="Function">hoare-base</a> <a id="3663" class="Symbol">{</a><a id="3664" class="Argument">P</a> <a id="3666" class="Symbol">=</a> <a id="3668" href="ValueSep.WeakHoareLogic.html#3642" class="Bound">p</a><a id="3669" class="Symbol">}</a>
</pre></body></html>