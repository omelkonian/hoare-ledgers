<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>ValueSep.StrongHoareLogic</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-------------------------</a>
<a id="27" class="Comment">-- ** Axiomatic semantics</a>

<a id="54" class="Keyword">open</a> <a id="59" class="Keyword">import</a> <a id="66" href="Prelude.Init.html" class="Module">Prelude.Init</a>
<a id="79" class="Keyword">open</a> <a id="84" class="Keyword">import</a> <a id="91" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="107" class="Keyword">open</a> <a id="112" class="Keyword">import</a> <a id="119" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="133" class="Keyword">open</a> <a id="138" class="Keyword">import</a> <a id="145" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="163" class="Keyword">open</a> <a id="168" class="Keyword">import</a> <a id="175" href="Prelude.Semigroup.html" class="Module">Prelude.Semigroup</a>
<a id="193" class="Keyword">open</a> <a id="198" class="Keyword">import</a> <a id="205" href="Prelude.Monoid.html" class="Module">Prelude.Monoid</a>
<a id="220" class="Keyword">open</a> <a id="225" class="Keyword">import</a> <a id="232" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="255" class="Keyword">open</a> <a id="260" class="Keyword">import</a> <a id="267" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="279" class="Keyword">open</a> <a id="284" class="Keyword">import</a> <a id="291" href="Prelude.Monad.html" class="Module">Prelude.Monad</a>

<a id="306" class="Keyword">module</a> <a id="313" href="ValueSep.StrongHoareLogic.html" class="Module">ValueSep.StrongHoareLogic</a> <a id="339" class="Symbol">(</a><a id="340" href="ValueSep.StrongHoareLogic.html#340" class="Bound">Part</a> <a id="345" class="Symbol">:</a> <a id="347" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="350" class="Symbol">)</a> <a id="352" class="Symbol">⦃</a> <a id="354" href="ValueSep.StrongHoareLogic.html#354" class="Bound">_</a> <a id="356" class="Symbol">:</a> <a id="358" href="Prelude.DecEq.Core.html#114" class="Record">DecEq</a> <a id="364" href="ValueSep.StrongHoareLogic.html#340" class="Bound">Part</a> <a id="369" class="Symbol">⦄</a> <a id="371" class="Keyword">where</a>

<a id="378" class="Keyword">open</a> <a id="383" class="Keyword">import</a> <a id="390" href="ValueSep.Maps.html" class="Module">ValueSep.Maps</a>
<a id="404" class="Keyword">open</a> <a id="409" class="Keyword">import</a> <a id="416" href="ValueSep.Ledger.html" class="Module">ValueSep.Ledger</a> <a id="432" href="ValueSep.StrongHoareLogic.html#340" class="Bound">Part</a>

<a id="438" class="Comment">-- ** Shallow embedding of logic formulas/propositions.</a>
<a id="Assertion"></a><a id="494" href="ValueSep.StrongHoareLogic.html#494" class="Function">Assertion</a> <a id="504" class="Symbol">=</a> <a id="506" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="512" href="ValueSep.Ledger.html#676" class="Function">S</a>

<a id="515" class="Keyword">variable</a> <a id="524" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="526" href="ValueSep.StrongHoareLogic.html#526" class="Generalizable">P′</a> <a id="529" href="ValueSep.StrongHoareLogic.html#529" class="Generalizable">P₁</a> <a id="532" href="ValueSep.StrongHoareLogic.html#532" class="Generalizable">P₂</a> <a id="535" href="ValueSep.StrongHoareLogic.html#535" class="Generalizable">Q</a> <a id="537" href="ValueSep.StrongHoareLogic.html#537" class="Generalizable">Q′</a> <a id="540" href="ValueSep.StrongHoareLogic.html#540" class="Generalizable">Q₁</a> <a id="543" href="ValueSep.StrongHoareLogic.html#543" class="Generalizable">Q₂</a> <a id="546" href="ValueSep.StrongHoareLogic.html#546" class="Generalizable">R</a> <a id="548" class="Symbol">:</a> <a id="550" href="ValueSep.StrongHoareLogic.html#494" class="Function">Assertion</a>

<a id="emp"></a><a id="561" href="ValueSep.StrongHoareLogic.html#561" class="Function">emp</a> <a id="565" class="Symbol">:</a> <a id="567" href="ValueSep.StrongHoareLogic.html#494" class="Function">Assertion</a>
<a id="577" href="ValueSep.StrongHoareLogic.html#561" class="Function">emp</a> <a id="581" href="ValueSep.StrongHoareLogic.html#581" class="Bound">m</a> <a id="583" class="Symbol">=</a> <a id="585" class="Symbol">∀</a> <a id="587" href="ValueSep.StrongHoareLogic.html#587" class="Bound">k</a> <a id="589" class="Symbol">→</a> <a id="591" href="ValueSep.StrongHoareLogic.html#587" class="Bound">k</a> <a id="593" href="ValueSep.Maps.html#665" class="Function Operator">∉ᵈ</a> <a id="596" href="ValueSep.StrongHoareLogic.html#581" class="Bound">m</a>

<a id="_∗_"></a><a id="599" href="ValueSep.StrongHoareLogic.html#599" class="Function Operator">_∗_</a> <a id="603" class="Symbol">:</a> <a id="605" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="609" href="ValueSep.StrongHoareLogic.html#494" class="Function">Assertion</a>
<a id="619" class="Symbol">(</a><a id="620" href="ValueSep.StrongHoareLogic.html#620" class="Bound">P</a> <a id="622" href="ValueSep.StrongHoareLogic.html#599" class="Function Operator">∗</a> <a id="624" href="ValueSep.StrongHoareLogic.html#624" class="Bound">Q</a><a id="625" class="Symbol">)</a> <a id="627" href="ValueSep.StrongHoareLogic.html#627" class="Bound">s</a> <a id="629" class="Symbol">=</a> <a id="631" href="Data.Product.html#1369" class="Function">∃</a> <a id="633" class="Symbol">λ</a> <a id="635" href="ValueSep.StrongHoareLogic.html#635" class="Bound">s₁</a> <a id="638" class="Symbol">→</a> <a id="640" href="Data.Product.html#1369" class="Function">∃</a> <a id="642" class="Symbol">λ</a> <a id="644" href="ValueSep.StrongHoareLogic.html#644" class="Bound">s₂</a> <a id="647" class="Symbol">→</a> <a id="649" href="ValueSep.Maps.html#3522" class="Function Operator">⟨</a> <a id="651" href="ValueSep.StrongHoareLogic.html#635" class="Bound">s₁</a> <a id="654" href="ValueSep.Maps.html#3522" class="Function Operator">◇</a> <a id="656" href="ValueSep.StrongHoareLogic.html#644" class="Bound">s₂</a> <a id="659" href="ValueSep.Maps.html#3522" class="Function Operator">⟩≡</a> <a id="662" href="ValueSep.StrongHoareLogic.html#627" class="Bound">s</a> <a id="664" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="666" href="ValueSep.StrongHoareLogic.html#620" class="Bound">P</a> <a id="668" href="ValueSep.StrongHoareLogic.html#635" class="Bound">s₁</a> <a id="671" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="673" href="ValueSep.StrongHoareLogic.html#624" class="Bound">Q</a> <a id="675" href="ValueSep.StrongHoareLogic.html#644" class="Bound">s₂</a>

<a id="_↦_"></a><a id="679" href="ValueSep.StrongHoareLogic.html#679" class="Function Operator">_↦_</a> <a id="683" class="Symbol">:</a> <a id="685" href="ValueSep.StrongHoareLogic.html#340" class="Bound">Part</a> <a id="690" class="Symbol">→</a> <a id="692" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="694" class="Symbol">→</a> <a id="696" href="ValueSep.StrongHoareLogic.html#494" class="Function">Assertion</a>
<a id="706" href="ValueSep.StrongHoareLogic.html#706" class="Bound">p</a> <a id="708" href="ValueSep.StrongHoareLogic.html#679" class="Function Operator">↦</a> <a id="710" href="ValueSep.StrongHoareLogic.html#710" class="Bound">n</a> <a id="712" class="Symbol">=</a> <a id="714" href="ValueSep.Maps.html#2361" class="Function Operator">_[</a> <a id="717" href="ValueSep.StrongHoareLogic.html#706" class="Bound">p</a> <a id="719" href="ValueSep.Maps.html#2361" class="Function Operator">↦</a> <a id="721" href="ValueSep.StrongHoareLogic.html#710" class="Bound">n</a> <a id="723" href="ValueSep.Maps.html#2361" class="Function Operator">]</a>

<a id="726" class="Keyword">infixr</a> <a id="733" class="Number">10</a> <a id="736" href="ValueSep.StrongHoareLogic.html#599" class="Function Operator">_∗_</a>
<a id="740" class="Keyword">infix</a>  <a id="747" class="Number">11</a> <a id="750" href="ValueSep.StrongHoareLogic.html#679" class="Function Operator">_↦_</a>

<a id="755" class="Comment">-- ** Hoare triples.</a>
<a id="weak↑"></a><a id="776" href="ValueSep.StrongHoareLogic.html#776" class="Function">weak↑</a> <a id="strong↑"></a><a id="782" href="ValueSep.StrongHoareLogic.html#782" class="Function">strong↑</a> <a id="790" class="Symbol">:</a> <a id="792" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="798" href="ValueSep.Ledger.html#676" class="Function">S</a> <a id="800" class="Symbol">→</a> <a id="802" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="808" class="Symbol">(</a><a id="809" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="815" href="ValueSep.Ledger.html#676" class="Function">S</a><a id="816" class="Symbol">)</a>
<a id="818" href="ValueSep.StrongHoareLogic.html#776" class="Function">weak↑</a>   <a id="826" class="Symbol">=</a> <a id="828" href="Data.Maybe.Relation.Unary.All.html#943" class="Datatype">M.All.All</a>
<a id="838" href="ValueSep.StrongHoareLogic.html#782" class="Function">strong↑</a> <a id="846" class="Symbol">=</a> <a id="848" href="Data.Maybe.Relation.Unary.Any.html#830" class="Datatype">M.Any.Any</a>

<a id="859" class="Keyword">infixl</a> <a id="866" class="Number">4</a> <a id="868" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">_↑∘_</a>
<a id="_↑∘_"></a><a id="873" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">_↑∘_</a> <a id="878" class="Symbol">:</a> <a id="880" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="886" href="ValueSep.Ledger.html#676" class="Function">S</a> <a id="888" class="Symbol">→</a> <a id="890" class="Symbol">(</a><a id="891" href="ValueSep.Ledger.html#676" class="Function">S</a> <a id="893" class="Symbol">→</a> <a id="895" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="901" href="ValueSep.Ledger.html#676" class="Function">S</a><a id="902" class="Symbol">)</a> <a id="904" class="Symbol">→</a> <a id="906" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="912" href="ValueSep.Ledger.html#676" class="Function">S</a>
<a id="914" href="ValueSep.StrongHoareLogic.html#914" class="Bound">P</a> <a id="916" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">↑∘</a> <a id="919" href="ValueSep.StrongHoareLogic.html#919" class="Bound">f</a> <a id="921" class="Symbol">=</a> <a id="923" href="ValueSep.StrongHoareLogic.html#782" class="Function">strong↑</a> <a id="931" href="ValueSep.StrongHoareLogic.html#914" class="Bound">P</a> <a id="933" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="935" href="ValueSep.StrongHoareLogic.html#919" class="Bound">f</a>

<a id="lift↑"></a><a id="938" href="ValueSep.StrongHoareLogic.html#938" class="Function">lift↑</a> <a id="944" class="Symbol">=</a> <a id="946" href="ValueSep.StrongHoareLogic.html#782" class="Function">strong↑</a>
<a id="954" class="Keyword">pattern</a> <a id="ret↑"></a><a id="962" href="ValueSep.StrongHoareLogic.html#962" class="InductiveConstructor">ret↑</a> <a id="967" href="ValueSep.StrongHoareLogic.html#982" class="Bound">x</a> <a id="969" class="Symbol">=</a> <a id="971" href="Data.Maybe.Relation.Unary.Any.html#900" class="InductiveConstructor">M.Any.just</a> <a id="982" href="ValueSep.StrongHoareLogic.html#982" class="Bound">x</a>

<a id="map↑"></a><a id="985" href="ValueSep.StrongHoareLogic.html#985" class="Function">map↑</a> <a id="990" class="Symbol">:</a> <a id="992" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="994" href="Relation.Unary.html#1742" class="Function Operator">⊆¹</a> <a id="997" href="ValueSep.StrongHoareLogic.html#535" class="Generalizable">Q</a> <a id="999" class="Symbol">→</a> <a id="1001" href="ValueSep.StrongHoareLogic.html#938" class="Function">lift↑</a> <a id="1007" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="1009" href="Relation.Unary.html#1742" class="Function Operator">⊆¹</a> <a id="1012" href="ValueSep.StrongHoareLogic.html#938" class="Function">lift↑</a> <a id="1018" href="ValueSep.StrongHoareLogic.html#535" class="Generalizable">Q</a>
<a id="1020" href="ValueSep.StrongHoareLogic.html#985" class="Function">map↑</a> <a id="1025" class="Symbol">=</a> <a id="1027" href="Data.Maybe.Relation.Unary.Any.html#1252" class="Function">M.Any.map</a>

<a id="⟨_⟩_⟨_⟩"></a><a id="1038" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨_⟩_⟨_⟩</a> <a id="1046" class="Symbol">:</a> <a id="1048" href="ValueSep.StrongHoareLogic.html#494" class="Function">Assertion</a> <a id="1058" class="Symbol">→</a> <a id="1060" href="ValueSep.Ledger.html#1101" class="Function">L</a> <a id="1062" class="Symbol">→</a> <a id="1064" href="ValueSep.StrongHoareLogic.html#494" class="Function">Assertion</a> <a id="1074" class="Symbol">→</a> <a id="1076" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="1080" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="1082" href="ValueSep.StrongHoareLogic.html#1082" class="Bound">P</a> <a id="1084" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a> <a id="1086" href="ValueSep.StrongHoareLogic.html#1086" class="Bound">l</a> <a id="1088" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="1090" href="ValueSep.StrongHoareLogic.html#1090" class="Bound">Q</a> <a id="1092" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a> <a id="1094" class="Symbol">=</a> <a id="1096" href="ValueSep.StrongHoareLogic.html#1082" class="Bound">P</a> <a id="1098" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1100" href="ValueSep.StrongHoareLogic.html#1090" class="Bound">Q</a> <a id="1102" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">↑∘</a> <a id="1105" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="1107" href="ValueSep.StrongHoareLogic.html#1086" class="Bound">l</a> <a id="1109" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a>

<a id="hoare-base"></a><a id="1112" href="ValueSep.StrongHoareLogic.html#1112" class="Function">hoare-base</a> <a id="1123" class="Symbol">:</a>
  <a id="1127" href="Prelude.InferenceRules.html#47384" class="Function Operator">──────────────</a>
  <a id="1144" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="1146" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="1148" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a> <a id="1150" class="InductiveConstructor">[]</a> <a id="1153" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="1155" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="1157" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a>
<a id="1159" href="ValueSep.StrongHoareLogic.html#1112" class="Function">hoare-base</a> <a id="1170" class="Symbol">=</a> <a id="1172" href="ValueSep.StrongHoareLogic.html#962" class="InductiveConstructor">ret↑</a>

<a id="1178" class="Keyword">module</a> <a id="1185" href="ValueSep.StrongHoareLogic.html#1185" class="Module">_</a> <a id="1187" class="Symbol">(</a><a id="1188" href="ValueSep.StrongHoareLogic.html#1188" class="Bound">f</a> <a id="1190" class="Symbol">:</a> <a id="1192" href="ValueSep.Ledger.html#676" class="Function">S</a> <a id="1194" class="Symbol">→</a> <a id="1196" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1202" href="ValueSep.Ledger.html#676" class="Function">S</a><a id="1203" class="Symbol">)</a> <a id="1205" class="Keyword">where</a>
  <a id="1213" href="ValueSep.StrongHoareLogic.html#1213" class="Function">lift∘&gt;&gt;=</a> <a id="1222" class="Symbol">:</a> <a id="1224" class="Symbol">∀</a> <a id="1226" class="Symbol">{</a><a id="1227" href="ValueSep.StrongHoareLogic.html#1227" class="Bound">ms</a><a id="1229" class="Symbol">}</a>
    <a id="1235" class="Symbol">→</a> <a id="1237" href="ValueSep.StrongHoareLogic.html#938" class="Function">lift↑</a> <a id="1243" class="Symbol">(</a><a id="1244" href="ValueSep.StrongHoareLogic.html#938" class="Function">lift↑</a> <a id="1250" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="1252" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1254" href="ValueSep.StrongHoareLogic.html#1188" class="Bound">f</a><a id="1255" class="Symbol">)</a> <a id="1257" href="ValueSep.StrongHoareLogic.html#1227" class="Bound">ms</a>
    <a id="1264" class="Symbol">→</a> <a id="1266" href="ValueSep.StrongHoareLogic.html#938" class="Function">lift↑</a> <a id="1272" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="1274" class="Symbol">(</a><a id="1275" href="ValueSep.StrongHoareLogic.html#1227" class="Bound">ms</a> <a id="1278" href="Prelude.Monad.html#569" class="Field Operator">&gt;&gt;=</a> <a id="1282" href="ValueSep.StrongHoareLogic.html#1188" class="Bound">f</a><a id="1283" class="Symbol">)</a>
  <a id="1287" href="ValueSep.StrongHoareLogic.html#1213" class="Function">lift∘&gt;&gt;=</a> <a id="1296" class="Symbol">(</a><a id="1297" href="ValueSep.StrongHoareLogic.html#962" class="InductiveConstructor">ret↑</a> <a id="1302" href="ValueSep.StrongHoareLogic.html#1302" class="Bound">p</a><a id="1303" class="Symbol">)</a> <a id="1305" class="Symbol">=</a> <a id="1307" href="ValueSep.StrongHoareLogic.html#1302" class="Bound">p</a>

  <a id="1312" href="ValueSep.StrongHoareLogic.html#1312" class="Function">lift∘&gt;&gt;=˘</a> <a id="1322" class="Symbol">:</a> <a id="1324" class="Symbol">∀</a> <a id="1326" class="Symbol">{</a><a id="1327" href="ValueSep.StrongHoareLogic.html#1327" class="Bound">ms</a> <a id="1330" class="Symbol">:</a> <a id="1332" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1338" href="ValueSep.Ledger.html#676" class="Function">S</a><a id="1339" class="Symbol">}</a>
    <a id="1345" class="Symbol">→</a> <a id="1347" href="ValueSep.StrongHoareLogic.html#938" class="Function">lift↑</a> <a id="1353" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="1355" class="Symbol">(</a><a id="1356" href="ValueSep.StrongHoareLogic.html#1327" class="Bound">ms</a> <a id="1359" href="Prelude.Monad.html#569" class="Field Operator">&gt;&gt;=</a> <a id="1363" href="ValueSep.StrongHoareLogic.html#1188" class="Bound">f</a><a id="1364" class="Symbol">)</a>
    <a id="1370" class="Symbol">→</a> <a id="1372" href="ValueSep.StrongHoareLogic.html#938" class="Function">lift↑</a> <a id="1378" class="Symbol">(</a><a id="1379" href="ValueSep.StrongHoareLogic.html#938" class="Function">lift↑</a> <a id="1385" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="1387" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1389" href="ValueSep.StrongHoareLogic.html#1188" class="Bound">f</a><a id="1390" class="Symbol">)</a> <a id="1392" href="ValueSep.StrongHoareLogic.html#1327" class="Bound">ms</a>
  <a id="1397" href="ValueSep.StrongHoareLogic.html#1312" class="Function">lift∘&gt;&gt;=˘</a> <a id="1407" class="Symbol">{</a><a id="1408" class="Argument">ms</a> <a id="1411" class="Symbol">=</a> <a id="1413" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="1418" href="ValueSep.StrongHoareLogic.html#1418" class="Bound">s</a><a id="1419" class="Symbol">}</a> <a id="1421" href="ValueSep.StrongHoareLogic.html#1421" class="Bound">p</a> <a id="1423" class="Symbol">=</a> <a id="1425" href="ValueSep.StrongHoareLogic.html#962" class="InductiveConstructor">ret↑</a> <a id="1430" href="ValueSep.StrongHoareLogic.html#1421" class="Bound">p</a>

  <a id="1435" href="ValueSep.StrongHoareLogic.html#1435" class="Function">lift∘=&lt;&lt;</a>  <a id="1445" class="Symbol">=</a> <a id="1447" href="ValueSep.StrongHoareLogic.html#1213" class="Function">lift∘&gt;&gt;=</a>
  <a id="1458" href="ValueSep.StrongHoareLogic.html#1458" class="Function">lift∘=&lt;&lt;˘</a> <a id="1468" class="Symbol">=</a> <a id="1470" href="ValueSep.StrongHoareLogic.html#1312" class="Function">lift∘&gt;&gt;=˘</a>

<a id="1481" class="Keyword">module</a> <a id="1488" href="ValueSep.StrongHoareLogic.html#1488" class="Module">_</a> <a id="1490" class="Symbol">(</a><a id="1491" href="ValueSep.StrongHoareLogic.html#1491" class="Bound">f</a> <a id="1493" href="ValueSep.StrongHoareLogic.html#1493" class="Bound">g</a> <a id="1495" class="Symbol">:</a> <a id="1497" href="ValueSep.Ledger.html#676" class="Function">S</a> <a id="1499" class="Symbol">→</a> <a id="1501" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1507" href="ValueSep.Ledger.html#676" class="Function">S</a><a id="1508" class="Symbol">)</a> <a id="1510" class="Keyword">where</a>
  <a id="1518" href="ValueSep.StrongHoareLogic.html#1518" class="Function">lift²∘&gt;=&gt;</a> <a id="1528" class="Symbol">:</a> <a id="1530" class="Symbol">(</a><a id="1531" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="1533" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">↑∘</a> <a id="1536" href="ValueSep.StrongHoareLogic.html#1493" class="Bound">g</a> <a id="1538" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">↑∘</a> <a id="1541" href="ValueSep.StrongHoareLogic.html#1491" class="Bound">f</a><a id="1542" class="Symbol">)</a> <a id="1544" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1546" class="Symbol">(</a><a id="1547" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="1549" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">↑∘</a> <a id="1552" class="Symbol">(</a><a id="1553" href="ValueSep.StrongHoareLogic.html#1491" class="Bound">f</a> <a id="1555" href="Prelude.Monad.html#754" class="Function Operator">&gt;=&gt;</a> <a id="1559" href="ValueSep.StrongHoareLogic.html#1493" class="Bound">g</a><a id="1560" class="Symbol">))</a>
  <a id="1565" href="ValueSep.StrongHoareLogic.html#1518" class="Function">lift²∘&gt;=&gt;</a> <a id="1575" class="Symbol">=</a> <a id="1577" href="ValueSep.StrongHoareLogic.html#1435" class="Function">lift∘=&lt;&lt;</a> <a id="1586" class="Symbol">_</a>

  <a id="1591" href="ValueSep.StrongHoareLogic.html#1591" class="Function">lift²∘&gt;=&gt;˘</a> <a id="1602" class="Symbol">:</a> <a id="1604" class="Symbol">(</a><a id="1605" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="1607" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">↑∘</a> <a id="1610" class="Symbol">(</a><a id="1611" href="ValueSep.StrongHoareLogic.html#1491" class="Bound">f</a> <a id="1613" href="Prelude.Monad.html#754" class="Function Operator">&gt;=&gt;</a> <a id="1617" href="ValueSep.StrongHoareLogic.html#1493" class="Bound">g</a><a id="1618" class="Symbol">))</a> <a id="1621" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1623" class="Symbol">(</a><a id="1624" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="1626" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">↑∘</a> <a id="1629" href="ValueSep.StrongHoareLogic.html#1493" class="Bound">g</a> <a id="1631" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">↑∘</a> <a id="1634" href="ValueSep.StrongHoareLogic.html#1491" class="Bound">f</a><a id="1635" class="Symbol">)</a>
  <a id="1639" href="ValueSep.StrongHoareLogic.html#1591" class="Function">lift²∘&gt;=&gt;˘</a> <a id="1650" class="Symbol">=</a> <a id="1652" href="ValueSep.StrongHoareLogic.html#1458" class="Function">lift∘=&lt;&lt;˘</a> <a id="1662" class="Symbol">_</a>

<a id="hoare-step"></a><a id="1665" href="ValueSep.StrongHoareLogic.html#1665" class="Function">hoare-step</a> <a id="1676" class="Symbol">:</a>
  <a id="1680" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="1682" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="1684" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a> <a id="1686" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="1688" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="1690" href="ValueSep.StrongHoareLogic.html#535" class="Generalizable">Q</a> <a id="1692" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a>
  <a id="1696" href="Prelude.InferenceRules.html#13944" class="Function Operator">──────────────────────────</a>
  <a id="1725" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="1727" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="1729" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">↑∘</a> <a id="1732" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="1734" href="ValueSep.Ledger.html#1186" class="Generalizable">t</a> <a id="1736" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a> <a id="1738" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a> <a id="1740" href="ValueSep.Ledger.html#1186" class="Generalizable">t</a> <a id="1742" class="InductiveConstructor Operator">∷</a> <a id="1744" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="1746" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="1748" href="ValueSep.StrongHoareLogic.html#535" class="Generalizable">Q</a> <a id="1750" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a>
<a id="1752" href="ValueSep.StrongHoareLogic.html#1665" class="Function">hoare-step</a> <a id="1763" class="Symbol">{</a><a id="1764" class="Argument">t</a> <a id="1766" class="Symbol">=</a> <a id="1768" href="ValueSep.StrongHoareLogic.html#1768" class="Bound">t</a><a id="1769" class="Symbol">}</a> <a id="1771" href="ValueSep.StrongHoareLogic.html#1771" class="Bound">PlQ</a> <a id="1775" class="Symbol">{</a><a id="1776" href="ValueSep.StrongHoareLogic.html#1776" class="Bound">s</a><a id="1777" class="Symbol">}</a> <a id="1779" class="Symbol">=</a> <a id="1781" href="ValueSep.StrongHoareLogic.html#1518" class="Function">lift²∘&gt;=&gt;</a> <a id="1791" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="1793" href="ValueSep.StrongHoareLogic.html#1768" class="Bound">t</a> <a id="1795" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a> <a id="1797" class="Symbol">_</a> <a id="1799" class="Symbol">{</a><a id="1800" class="Argument">x</a> <a id="1802" class="Symbol">=</a> <a id="1804" href="ValueSep.StrongHoareLogic.html#1776" class="Bound">s</a><a id="1805" class="Symbol">}</a> <a id="1807" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1809" href="ValueSep.StrongHoareLogic.html#985" class="Function">map↑</a> <a id="1814" href="ValueSep.StrongHoareLogic.html#1771" class="Bound">PlQ</a>

<a id="consequence"></a><a id="1819" href="ValueSep.StrongHoareLogic.html#1819" class="Function">consequence</a> <a id="1831" class="Symbol">:</a>
  <a id="1835" href="Prelude.InferenceRules.html#56118" class="Function Operator">∙</a> <a id="1837" href="ValueSep.StrongHoareLogic.html#526" class="Generalizable">P′</a> <a id="1840" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1842" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a>   <a id="1846" class="Comment">-- ^ weakening the pre-condition</a>
  <a id="1881" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="1883" href="ValueSep.StrongHoareLogic.html#535" class="Generalizable">Q</a>  <a id="1886" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1888" href="ValueSep.StrongHoareLogic.html#537" class="Generalizable">Q′</a>  <a id="1892" class="Comment">-- ^ strengthening the post-condition</a>
  <a id="1932" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="1934" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="1936" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a>  <a id="1939" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a> <a id="1941" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="1943" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="1945" href="ValueSep.StrongHoareLogic.html#535" class="Generalizable">Q</a>  <a id="1948" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a>
    <a id="1954" href="Prelude.InferenceRules.html#14230" class="Function Operator">───────────────</a>
    <a id="1974" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="1976" href="ValueSep.StrongHoareLogic.html#526" class="Generalizable">P′</a> <a id="1979" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a> <a id="1981" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="1983" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="1985" href="ValueSep.StrongHoareLogic.html#537" class="Generalizable">Q′</a> <a id="1988" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a>
<a id="1990" href="ValueSep.StrongHoareLogic.html#1819" class="Function">consequence</a> <a id="2002" href="ValueSep.StrongHoareLogic.html#2002" class="Bound">⊢P</a> <a id="2005" href="ValueSep.StrongHoareLogic.html#2005" class="Bound">Q⊢</a> <a id="2008" href="ValueSep.StrongHoareLogic.html#2008" class="Bound">PlQ</a> <a id="2012" class="Symbol">=</a> <a id="2014" href="ValueSep.StrongHoareLogic.html#985" class="Function">map↑</a> <a id="2019" href="ValueSep.StrongHoareLogic.html#2005" class="Bound">Q⊢</a> <a id="2022" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="2024" href="ValueSep.StrongHoareLogic.html#2008" class="Bound">PlQ</a> <a id="2028" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="2030" href="ValueSep.StrongHoareLogic.html#2002" class="Bound">⊢P</a>

<a id="2034" class="Comment">-- Utilities for Hoare triples.</a>
<a id="weaken"></a><a id="2066" href="ValueSep.StrongHoareLogic.html#2066" class="Function">weaken</a> <a id="2073" class="Symbol">:</a> <a id="2075" href="ValueSep.StrongHoareLogic.html#526" class="Generalizable">P′</a> <a id="2078" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="2080" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="2082" class="Symbol">→</a> <a id="2084" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="2086" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="2088" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a> <a id="2090" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="2092" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="2094" href="ValueSep.StrongHoareLogic.html#535" class="Generalizable">Q</a> <a id="2096" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a> <a id="2098" class="Symbol">→</a> <a id="2100" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="2102" href="ValueSep.StrongHoareLogic.html#526" class="Generalizable">P′</a> <a id="2105" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a> <a id="2107" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="2109" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="2111" href="ValueSep.StrongHoareLogic.html#535" class="Generalizable">Q</a> <a id="2113" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a>
<a id="2115" href="ValueSep.StrongHoareLogic.html#2066" class="Function">weaken</a> <a id="2122" class="Symbol">{</a><a id="2123" class="Argument">l</a> <a id="2125" class="Symbol">=</a> <a id="2127" href="ValueSep.StrongHoareLogic.html#2127" class="Bound">l</a><a id="2128" class="Symbol">}</a> <a id="2130" href="ValueSep.StrongHoareLogic.html#2130" class="Bound">H</a> <a id="2132" class="Symbol">=</a> <a id="2134" href="ValueSep.StrongHoareLogic.html#1819" class="Function">consequence</a> <a id="2146" class="Symbol">{</a><a id="2147" class="Argument">l</a> <a id="2149" class="Symbol">=</a> <a id="2151" href="ValueSep.StrongHoareLogic.html#2127" class="Bound">l</a><a id="2152" class="Symbol">}</a> <a id="2154" href="ValueSep.StrongHoareLogic.html#2130" class="Bound">H</a> <a id="2156" href="Function.Base.html#615" class="Function">id</a>

<a id="strengthen"></a><a id="2160" href="ValueSep.StrongHoareLogic.html#2160" class="Function">strengthen</a> <a id="2171" class="Symbol">:</a> <a id="2173" href="ValueSep.StrongHoareLogic.html#535" class="Generalizable">Q</a> <a id="2175" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="2177" href="ValueSep.StrongHoareLogic.html#537" class="Generalizable">Q′</a> <a id="2180" class="Symbol">→</a> <a id="2182" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="2184" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="2186" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a> <a id="2188" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="2190" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="2192" href="ValueSep.StrongHoareLogic.html#535" class="Generalizable">Q</a> <a id="2194" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a> <a id="2196" class="Symbol">→</a> <a id="2198" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="2200" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="2202" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a> <a id="2204" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="2206" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="2208" href="ValueSep.StrongHoareLogic.html#537" class="Generalizable">Q′</a> <a id="2211" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a>
<a id="2213" href="ValueSep.StrongHoareLogic.html#2160" class="Function">strengthen</a> <a id="2224" class="Symbol">{</a><a id="2225" class="Argument">l</a> <a id="2227" class="Symbol">=</a> <a id="2229" href="ValueSep.StrongHoareLogic.html#2229" class="Bound">l</a><a id="2230" class="Symbol">}</a> <a id="2232" href="ValueSep.StrongHoareLogic.html#2232" class="Bound">H</a> <a id="2234" class="Symbol">=</a> <a id="2236" href="ValueSep.StrongHoareLogic.html#1819" class="Function">consequence</a> <a id="2248" class="Symbol">{</a><a id="2249" class="Argument">l</a> <a id="2251" class="Symbol">=</a> <a id="2253" href="ValueSep.StrongHoareLogic.html#2229" class="Bound">l</a><a id="2254" class="Symbol">}</a> <a id="2256" href="Function.Base.html#615" class="Function">id</a> <a id="2259" href="ValueSep.StrongHoareLogic.html#2232" class="Bound">H</a>

<a id="axiom-base⋆"></a><a id="2262" href="ValueSep.StrongHoareLogic.html#2262" class="Function">axiom-base⋆</a> <a id="2274" class="Symbol">:</a> <a id="2276" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="2278" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="2280" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">↑∘</a> <a id="2283" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2285" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="2287" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a> <a id="2289" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a> <a id="2291" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="2293" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="2295" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="2297" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a>
<a id="2299" href="ValueSep.StrongHoareLogic.html#2262" class="Function">axiom-base⋆</a> <a id="2311" class="Symbol">{</a><a id="2312" class="Argument">P</a> <a id="2314" class="Symbol">=</a> <a id="2316" href="ValueSep.StrongHoareLogic.html#2316" class="Bound">P</a><a id="2317" class="Symbol">}</a> <a id="2319" class="Symbol">{</a><a id="2320" class="Argument">l</a> <a id="2322" class="Symbol">=</a> <a id="2324" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2326" class="Symbol">}</a> <a id="2328" class="Symbol">=</a> <a id="2330" href="ValueSep.StrongHoareLogic.html#2066" class="Function">weaken</a> <a id="2337" class="Symbol">{</a><a id="2338" class="Argument">P′</a> <a id="2341" class="Symbol">=</a> <a id="2343" href="ValueSep.StrongHoareLogic.html#2316" class="Bound">P</a> <a id="2345" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">↑∘</a> <a id="2348" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2350" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2353" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a><a id="2354" class="Symbol">}</a> <a id="2356" class="Symbol">{</a><a id="2357" class="Argument">l</a> <a id="2359" class="Symbol">=</a> <a id="2361" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2363" class="Symbol">}</a> <a id="2365" class="Symbol">(λ</a> <a id="2368" class="Keyword">where</a> <a id="2374" class="Symbol">(</a><a id="2375" href="ValueSep.StrongHoareLogic.html#962" class="InductiveConstructor">ret↑</a> <a id="2380" href="ValueSep.StrongHoareLogic.html#2380" class="Bound">p</a><a id="2381" class="Symbol">)</a> <a id="2383" class="Symbol">→</a> <a id="2385" href="ValueSep.StrongHoareLogic.html#2380" class="Bound">p</a><a id="2386" class="Symbol">)</a> <a id="2388" href="ValueSep.StrongHoareLogic.html#1112" class="Function">hoare-base</a>
<a id="2399" href="ValueSep.StrongHoareLogic.html#2262" class="Function">axiom-base⋆</a> <a id="2411" class="Symbol">{</a><a id="2412" class="Argument">P</a> <a id="2414" class="Symbol">=</a> <a id="2416" href="ValueSep.StrongHoareLogic.html#2416" class="Bound">P</a><a id="2417" class="Symbol">}</a> <a id="2419" class="Symbol">{</a><a id="2420" class="Argument">l</a> <a id="2422" class="Symbol">=</a> <a id="2424" href="ValueSep.StrongHoareLogic.html#2424" class="Bound">t</a> <a id="2426" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2428" href="ValueSep.StrongHoareLogic.html#2428" class="Bound">l</a><a id="2429" class="Symbol">}</a> <a id="2431" class="Symbol">=</a> <a id="2433" href="ValueSep.StrongHoareLogic.html#985" class="Function">map↑</a> <a id="2438" href="Function.Base.html#615" class="Function">id</a>

<a id="2442" class="Comment">-- Derived alternative formulation for step, using list concatenation.</a>

<a id="hoare-step′"></a><a id="2514" href="ValueSep.StrongHoareLogic.html#2514" class="Function">hoare-step′</a> <a id="2526" class="Symbol">:</a>
  <a id="2530" href="Prelude.InferenceRules.html#56118" class="Function Operator">∙</a> <a id="2532" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="2534" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="2536" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a> <a id="2538" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a>  <a id="2541" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="2543" href="ValueSep.StrongHoareLogic.html#535" class="Generalizable">Q</a> <a id="2545" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a>
  <a id="2549" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="2551" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="2553" href="ValueSep.StrongHoareLogic.html#535" class="Generalizable">Q</a> <a id="2555" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a> <a id="2557" href="ValueSep.Ledger.html#1203" class="Generalizable">l′</a> <a id="2560" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="2562" href="ValueSep.StrongHoareLogic.html#546" class="Generalizable">R</a> <a id="2564" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a>
    <a id="2570" href="Prelude.InferenceRules.html#14140" class="Function Operator">───────────────────</a>
    <a id="2594" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="2596" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="2598" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a> <a id="2600" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="2602" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="2605" href="ValueSep.Ledger.html#1203" class="Generalizable">l′</a> <a id="2608" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="2610" href="ValueSep.StrongHoareLogic.html#546" class="Generalizable">R</a> <a id="2612" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a>
<a id="2614" href="ValueSep.StrongHoareLogic.html#2514" class="Function">hoare-step′</a> <a id="2626" class="Symbol">{</a><a id="2627" href="ValueSep.StrongHoareLogic.html#2627" class="Bound">P</a><a id="2628" class="Symbol">}{</a><a id="2630" href="ValueSep.StrongHoareLogic.html#2630" class="Bound">l</a><a id="2631" class="Symbol">}{</a><a id="2633" href="ValueSep.StrongHoareLogic.html#2633" class="Bound">Q</a><a id="2634" class="Symbol">}{</a><a id="2636" href="ValueSep.StrongHoareLogic.html#2636" class="Bound">l′</a><a id="2638" class="Symbol">}{</a><a id="2640" href="ValueSep.StrongHoareLogic.html#2640" class="Bound">R</a><a id="2641" class="Symbol">}</a> <a id="2643" href="ValueSep.StrongHoareLogic.html#2643" class="Bound">PlQ</a> <a id="2647" href="ValueSep.StrongHoareLogic.html#2647" class="Bound">QlR</a>
<a id="2651" class="Comment">--   {s} Ps rewrite comp {l}{l′} s</a>
<a id="2686" class="Comment">--   with ⟦ l ⟧ s | PlQ Ps</a>
<a id="2713" class="Comment">-- ... | .(just _) | ret↑ Qs′ = QlR Qs′</a>
  <a id="2755" class="Symbol">=</a> <a id="2757" href="Prelude.General.html#2038" class="Field Operator">begin</a>
    <a id="2767" href="ValueSep.StrongHoareLogic.html#2627" class="Bound">P</a>
  <a id="2771" href="Prelude.General.html#2219" class="Function Operator">⊢⟨</a> <a id="2774" href="ValueSep.StrongHoareLogic.html#2643" class="Bound">PlQ</a>  <a id="2779" href="Prelude.General.html#2219" class="Function Operator">⟩</a>
    <a id="2785" href="ValueSep.StrongHoareLogic.html#2633" class="Bound">Q</a> <a id="2787" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">↑∘</a> <a id="2790" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2792" href="ValueSep.StrongHoareLogic.html#2630" class="Bound">l</a> <a id="2794" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a>
  <a id="2798" href="Prelude.General.html#2219" class="Function Operator">⊢⟨</a> <a id="2801" href="ValueSep.StrongHoareLogic.html#985" class="Function">map↑</a> <a id="2806" href="ValueSep.StrongHoareLogic.html#2647" class="Bound">QlR</a> <a id="2810" href="Prelude.General.html#2219" class="Function Operator">⟩</a>
    <a id="2816" href="ValueSep.StrongHoareLogic.html#2640" class="Bound">R</a> <a id="2818" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">↑∘</a> <a id="2821" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2823" href="ValueSep.StrongHoareLogic.html#2636" class="Bound">l′</a> <a id="2826" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a> <a id="2828" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">↑∘</a> <a id="2831" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2833" href="ValueSep.StrongHoareLogic.html#2630" class="Bound">l</a> <a id="2835" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a>
  <a id="2839" href="Prelude.General.html#2219" class="Function Operator">⊢⟨</a> <a id="2842" href="ValueSep.StrongHoareLogic.html#1518" class="Function">lift²∘&gt;=&gt;</a> <a id="2852" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2854" href="ValueSep.StrongHoareLogic.html#2630" class="Bound">l</a> <a id="2856" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a> <a id="2858" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2860" href="ValueSep.StrongHoareLogic.html#2636" class="Bound">l′</a> <a id="2863" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a>  <a id="2866" href="Prelude.General.html#2219" class="Function Operator">⟩</a>
    <a id="2872" href="ValueSep.StrongHoareLogic.html#2640" class="Bound">R</a> <a id="2874" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">↑∘</a> <a id="2877" class="Symbol">(</a><a id="2878" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2880" href="ValueSep.StrongHoareLogic.html#2630" class="Bound">l</a> <a id="2882" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a> <a id="2884" href="Prelude.Monad.html#754" class="Function Operator">&gt;=&gt;</a> <a id="2888" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2890" href="ValueSep.StrongHoareLogic.html#2636" class="Bound">l′</a> <a id="2893" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a><a id="2894" class="Symbol">)</a>
  <a id="2898" href="Prelude.General.html#2625" class="Function Operator">≗˘⟨</a> <a id="2902" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="2907" class="Symbol">(</a><a id="2908" href="ValueSep.StrongHoareLogic.html#938" class="Function">lift↑</a> <a id="2914" href="ValueSep.StrongHoareLogic.html#2640" class="Bound">R</a><a id="2915" class="Symbol">)</a> <a id="2917" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="2919" href="ValueSep.Ledger.html#3269" class="Function">comp</a> <a id="2924" class="Symbol">{</a><a id="2925" href="ValueSep.StrongHoareLogic.html#2630" class="Bound">l</a><a id="2926" class="Symbol">}{</a><a id="2928" href="ValueSep.StrongHoareLogic.html#2636" class="Bound">l′</a><a id="2930" class="Symbol">}</a> <a id="2932" href="Prelude.General.html#2625" class="Function Operator">⟩</a>
    <a id="2938" href="ValueSep.StrongHoareLogic.html#2640" class="Bound">R</a> <a id="2940" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">↑∘</a> <a id="2943" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2945" href="ValueSep.StrongHoareLogic.html#2630" class="Bound">l</a> <a id="2947" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="2950" href="ValueSep.StrongHoareLogic.html#2636" class="Bound">l′</a> <a id="2953" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a>
  <a id="2957" href="Prelude.General.html#2715" class="Function Operator">∎</a> <a id="2959" class="Keyword">where</a> <a id="2965" class="Keyword">open</a> <a id="2970" href="Prelude.General.html#1867" class="Module">⊢-Reasoning</a>

<a id="2983" class="Comment">-- ** Reasoning syntax for Hoare triples.</a>
<a id="3025" class="Keyword">module</a> <a id="HoareReasoning"></a><a id="3032" href="ValueSep.StrongHoareLogic.html#3032" class="Module">HoareReasoning</a> <a id="3047" class="Keyword">where</a>
  <a id="3055" class="Comment">-- Reasoning newtype (for better type inference).</a>
  <a id="3107" class="Keyword">record</a> <a id="HoareReasoning.ℝ⟨_⟩_⟨_⟩"></a><a id="3114" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">ℝ⟨_⟩_⟨_⟩</a> <a id="3123" class="Symbol">(</a><a id="3124" href="ValueSep.StrongHoareLogic.html#3124" class="Bound">P</a> <a id="3126" class="Symbol">:</a> <a id="3128" href="ValueSep.StrongHoareLogic.html#494" class="Function">Assertion</a><a id="3137" class="Symbol">)</a> <a id="3139" class="Symbol">(</a><a id="3140" href="ValueSep.StrongHoareLogic.html#3140" class="Bound">l</a> <a id="3142" class="Symbol">:</a> <a id="3144" href="ValueSep.Ledger.html#1101" class="Function">L</a><a id="3145" class="Symbol">)</a> <a id="3147" class="Symbol">(</a><a id="3148" href="ValueSep.StrongHoareLogic.html#3148" class="Bound">Q</a> <a id="3150" class="Symbol">:</a> <a id="3152" href="ValueSep.StrongHoareLogic.html#494" class="Function">Assertion</a><a id="3161" class="Symbol">)</a> <a id="3163" class="Symbol">:</a> <a id="3165" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="3169" class="Keyword">where</a>
    <a id="3179" class="Keyword">constructor</a> <a id="HoareReasoning.mkℝ_"></a><a id="3191" href="ValueSep.StrongHoareLogic.html#3191" class="InductiveConstructor Operator">mkℝ_</a>
    <a id="3200" class="Keyword">field</a> <a id="HoareReasoning.ℝ⟨_⟩_⟨_⟩.begin_"></a><a id="3206" href="ValueSep.StrongHoareLogic.html#3206" class="Field Operator">begin_</a> <a id="3213" class="Symbol">:</a> <a id="3215" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="3217" href="ValueSep.StrongHoareLogic.html#3124" class="Bound">P</a> <a id="3219" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a> <a id="3221" href="ValueSep.StrongHoareLogic.html#3140" class="Bound">l</a> <a id="3223" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟨</a> <a id="3225" href="ValueSep.StrongHoareLogic.html#3148" class="Bound">Q</a> <a id="3227" href="ValueSep.StrongHoareLogic.html#1038" class="Function Operator">⟩</a>
    <a id="3233" class="Keyword">infix</a> <a id="3239" class="Number">-2</a> <a id="3242" href="ValueSep.StrongHoareLogic.html#3206" class="Field Operator">begin_</a>
  <a id="3251" class="Keyword">open</a> <a id="3256" href="ValueSep.StrongHoareLogic.html#3114" class="Module Operator">ℝ⟨_⟩_⟨_⟩</a> <a id="3265" class="Keyword">public</a>
  <a id="3274" class="Keyword">infix</a>  <a id="3281" class="Number">-2</a> <a id="3284" href="ValueSep.StrongHoareLogic.html#3191" class="InductiveConstructor Operator">mkℝ_</a>
  <a id="3291" class="Keyword">infixr</a> <a id="3298" class="Number">-1</a> <a id="3301" href="ValueSep.StrongHoareLogic.html#3377" class="Function Operator">_~⟪_⟩_</a> <a id="3308" href="ValueSep.StrongHoareLogic.html#3524" class="Function Operator">_~⟨_⟫_</a> <a id="3315" href="ValueSep.StrongHoareLogic.html#3666" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="3325" href="ValueSep.StrongHoareLogic.html#4042" class="Function Operator">_~⟨_∶-_⟩++_</a>
  <a id="3339" class="Keyword">infix</a>  <a id="3346" class="Number">0</a>  <a id="3349" href="ValueSep.StrongHoareLogic.html#4205" class="Function Operator">_∎</a>

  <a id="3355" class="Comment">-- weakening syntax</a>
  <a id="HoareReasoning._~⟪_⟩_"></a><a id="3377" href="ValueSep.StrongHoareLogic.html#3377" class="Function Operator">_~⟪_⟩_</a> <a id="3384" class="Symbol">:</a> <a id="3386" class="Symbol">∀</a> <a id="3388" href="ValueSep.StrongHoareLogic.html#3388" class="Bound">P′</a> <a id="3391" class="Symbol">→</a> <a id="3393" href="ValueSep.StrongHoareLogic.html#3388" class="Bound">P′</a> <a id="3396" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="3398" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="3400" class="Symbol">→</a> <a id="3402" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">ℝ⟨</a> <a id="3405" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="3407" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a> <a id="3409" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="3411" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟨</a> <a id="3413" href="ValueSep.StrongHoareLogic.html#546" class="Generalizable">R</a> <a id="3415" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a> <a id="3417" class="Symbol">→</a> <a id="3419" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">ℝ⟨</a> <a id="3422" href="ValueSep.StrongHoareLogic.html#3388" class="Bound">P′</a> <a id="3425" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a> <a id="3427" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="3429" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟨</a> <a id="3431" href="ValueSep.StrongHoareLogic.html#546" class="Generalizable">R</a> <a id="3433" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a>
  <a id="3437" href="ValueSep.StrongHoareLogic.html#3377" class="Function Operator">_~⟪_⟩_</a> <a id="3444" class="Symbol">{</a><a id="3445" class="Argument">l</a> <a id="3447" class="Symbol">=</a> <a id="3449" href="ValueSep.StrongHoareLogic.html#3449" class="Bound">l</a><a id="3450" class="Symbol">}</a> <a id="3452" class="Symbol">_</a> <a id="3454" href="ValueSep.StrongHoareLogic.html#3454" class="Bound">H</a> <a id="3456" href="ValueSep.StrongHoareLogic.html#3456" class="Bound">PlR</a> <a id="3460" class="Symbol">=</a> <a id="3462" href="ValueSep.StrongHoareLogic.html#3191" class="InductiveConstructor Operator">mkℝ</a> <a id="3466" href="ValueSep.StrongHoareLogic.html#2066" class="Function">weaken</a> <a id="3473" class="Symbol">{</a><a id="3474" class="Argument">l</a> <a id="3476" class="Symbol">=</a> <a id="3478" href="ValueSep.StrongHoareLogic.html#3449" class="Bound">l</a><a id="3479" class="Symbol">}</a> <a id="3481" href="ValueSep.StrongHoareLogic.html#3454" class="Bound">H</a> <a id="3483" class="Symbol">(</a><a id="3484" href="ValueSep.StrongHoareLogic.html#3206" class="Field Operator">begin</a> <a id="3490" href="ValueSep.StrongHoareLogic.html#3456" class="Bound">PlR</a><a id="3493" class="Symbol">)</a>

  <a id="3498" class="Comment">-- strengthening syntax</a>
  <a id="HoareReasoning._~⟨_⟫_"></a><a id="3524" href="ValueSep.StrongHoareLogic.html#3524" class="Function Operator">_~⟨_⟫_</a> <a id="3531" class="Symbol">:</a> <a id="3533" class="Symbol">∀</a> <a id="3535" href="ValueSep.StrongHoareLogic.html#3535" class="Bound">R′</a> <a id="3538" class="Symbol">→</a> <a id="3540" href="ValueSep.StrongHoareLogic.html#546" class="Generalizable">R</a> <a id="3542" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="3544" href="ValueSep.StrongHoareLogic.html#3535" class="Bound">R′</a> <a id="3547" class="Symbol">→</a> <a id="3549" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">ℝ⟨</a> <a id="3552" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="3554" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a> <a id="3556" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="3558" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟨</a> <a id="3560" href="ValueSep.StrongHoareLogic.html#546" class="Generalizable">R</a> <a id="3562" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a> <a id="3564" class="Symbol">→</a> <a id="3566" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">ℝ⟨</a> <a id="3569" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="3571" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a> <a id="3573" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="3575" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟨</a> <a id="3577" href="ValueSep.StrongHoareLogic.html#3535" class="Bound">R′</a> <a id="3580" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a>
  <a id="3584" href="ValueSep.StrongHoareLogic.html#3524" class="Function Operator">_~⟨_⟫_</a> <a id="3591" class="Symbol">{</a><a id="3592" class="Argument">l</a> <a id="3594" class="Symbol">=</a> <a id="3596" href="ValueSep.StrongHoareLogic.html#3596" class="Bound">l</a><a id="3597" class="Symbol">}</a> <a id="3599" class="Symbol">_</a> <a id="3601" href="ValueSep.StrongHoareLogic.html#3601" class="Bound">H</a> <a id="3603" href="ValueSep.StrongHoareLogic.html#3603" class="Bound">PlR</a> <a id="3607" class="Symbol">=</a> <a id="3609" href="ValueSep.StrongHoareLogic.html#3191" class="InductiveConstructor Operator">mkℝ</a> <a id="3613" href="ValueSep.StrongHoareLogic.html#2160" class="Function">strengthen</a> <a id="3624" class="Symbol">{</a><a id="3625" class="Argument">l</a> <a id="3627" class="Symbol">=</a> <a id="3629" href="ValueSep.StrongHoareLogic.html#3596" class="Bound">l</a><a id="3630" class="Symbol">}</a> <a id="3632" href="ValueSep.StrongHoareLogic.html#3601" class="Bound">H</a> <a id="3634" class="Symbol">(</a><a id="3635" href="ValueSep.StrongHoareLogic.html#3206" class="Field Operator">begin</a> <a id="3641" href="ValueSep.StrongHoareLogic.html#3603" class="Bound">PlR</a><a id="3644" class="Symbol">)</a>

  <a id="3649" class="Comment">-- step syntax</a>
  <a id="HoareReasoning._~⟨_∶-_⟩_"></a><a id="3666" href="ValueSep.StrongHoareLogic.html#3666" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="3676" class="Symbol">:</a> <a id="3678" class="Symbol">∀</a> <a id="3680" href="ValueSep.StrongHoareLogic.html#3680" class="Bound">P′</a> <a id="3683" href="ValueSep.StrongHoareLogic.html#3683" class="Bound">t</a> <a id="3685" class="Symbol">→</a> <a id="3687" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">ℝ⟨</a> <a id="3690" href="ValueSep.StrongHoareLogic.html#3680" class="Bound">P′</a> <a id="3693" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a> <a id="3695" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="3697" href="ValueSep.StrongHoareLogic.html#3683" class="Bound">t</a> <a id="3699" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="3701" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟨</a> <a id="3703" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="3705" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a> <a id="3707" class="Symbol">→</a> <a id="3709" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">ℝ⟨</a> <a id="3712" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="3714" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a> <a id="3716" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="3718" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟨</a> <a id="3720" href="ValueSep.StrongHoareLogic.html#546" class="Generalizable">R</a> <a id="3722" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a> <a id="3724" class="Symbol">→</a> <a id="3726" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">ℝ⟨</a> <a id="3729" href="ValueSep.StrongHoareLogic.html#3680" class="Bound">P′</a> <a id="3732" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a> <a id="3734" href="ValueSep.StrongHoareLogic.html#3683" class="Bound">t</a> <a id="3736" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3738" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="3740" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟨</a> <a id="3742" href="ValueSep.StrongHoareLogic.html#546" class="Generalizable">R</a> <a id="3744" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a>
  <a id="3748" href="ValueSep.StrongHoareLogic.html#3666" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="3758" class="Symbol">{</a><a id="3759" class="Argument">l</a> <a id="3761" class="Symbol">=</a> <a id="3763" href="ValueSep.StrongHoareLogic.html#3763" class="Bound">l</a><a id="3764" class="Symbol">}</a> <a id="3766" class="Symbol">{</a><a id="3767" class="Argument">R</a> <a id="3769" class="Symbol">=</a> <a id="3771" href="ValueSep.StrongHoareLogic.html#3771" class="Bound">R</a><a id="3772" class="Symbol">}</a> <a id="3774" href="ValueSep.StrongHoareLogic.html#3774" class="Bound">P′</a> <a id="3777" href="ValueSep.StrongHoareLogic.html#3777" class="Bound">t</a> <a id="3779" href="ValueSep.StrongHoareLogic.html#3779" class="Bound">H</a> <a id="3781" href="ValueSep.StrongHoareLogic.html#3781" class="Bound">PlR</a> <a id="3785" class="Symbol">=</a>
    <a id="3791" class="Comment">-- P′ ~⟪ begin H ⟩ (mkℝ (λ {x} Px → hoare-step {l = l} {t = t} (begin PlR) {_} Px))</a>
    <a id="3879" href="ValueSep.StrongHoareLogic.html#3191" class="InductiveConstructor Operator">mkℝ</a> <a id="3883" href="ValueSep.StrongHoareLogic.html#3902" class="Function">go</a>
    <a id="3890" class="Keyword">where</a>
      <a id="3902" href="ValueSep.StrongHoareLogic.html#3902" class="Function">go</a> <a id="3905" class="Symbol">:</a> <a id="3907" href="ValueSep.StrongHoareLogic.html#3774" class="Bound">P′</a> <a id="3910" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="3912" href="ValueSep.StrongHoareLogic.html#3771" class="Bound">R</a> <a id="3914" href="ValueSep.StrongHoareLogic.html#873" class="Function Operator">↑∘</a> <a id="3917" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="3919" href="ValueSep.StrongHoareLogic.html#3777" class="Bound">t</a> <a id="3921" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3923" href="ValueSep.StrongHoareLogic.html#3763" class="Bound">l</a> <a id="3925" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a>
      <a id="3933" href="ValueSep.StrongHoareLogic.html#3902" class="Function">go</a> <a id="3936" class="Symbol">{</a><a id="3937" href="ValueSep.StrongHoareLogic.html#3937" class="Bound">s</a><a id="3938" class="Symbol">}</a> <a id="3940" href="ValueSep.StrongHoareLogic.html#3940" class="Bound">P′s</a> <a id="3944" class="Keyword">with</a> <a id="3949" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="3951" href="ValueSep.StrongHoareLogic.html#3777" class="Bound">t</a> <a id="3953" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a> <a id="3955" href="ValueSep.StrongHoareLogic.html#3937" class="Bound">s</a> <a id="3957" class="Symbol">|</a> <a id="3959" class="Symbol">(</a><a id="3960" href="ValueSep.StrongHoareLogic.html#3206" class="Field Operator">begin</a> <a id="3966" href="ValueSep.StrongHoareLogic.html#3779" class="Bound">H</a><a id="3967" class="Symbol">)</a> <a id="3969" href="ValueSep.StrongHoareLogic.html#3940" class="Bound">P′s</a>
      <a id="3979" class="Symbol">...</a> <a id="3983" class="Symbol">|</a> <a id="3985" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="3990" class="Symbol">_</a> <a id="3992" class="Symbol">|</a> <a id="3994" href="ValueSep.StrongHoareLogic.html#962" class="InductiveConstructor">ret↑</a> <a id="3999" href="ValueSep.StrongHoareLogic.html#3999" class="Bound">Ps′</a> <a id="4003" class="Symbol">=</a> <a id="4005" class="Symbol">(</a><a id="4006" href="ValueSep.StrongHoareLogic.html#3206" class="Field Operator">begin</a> <a id="4012" href="ValueSep.StrongHoareLogic.html#3781" class="Bound">PlR</a><a id="4015" class="Symbol">)</a> <a id="4017" href="ValueSep.StrongHoareLogic.html#3999" class="Bound">Ps′</a>

  <a id="4024" class="Comment">-- step′ syntax</a>
  <a id="HoareReasoning._~⟨_∶-_⟩++_"></a><a id="4042" href="ValueSep.StrongHoareLogic.html#4042" class="Function Operator">_~⟨_∶-_⟩++_</a> <a id="4054" class="Symbol">:</a> <a id="4056" class="Symbol">∀</a> <a id="4058" href="ValueSep.StrongHoareLogic.html#4058" class="Bound">P′</a> <a id="4061" class="Symbol">→</a> <a id="4063" class="Symbol">(</a><a id="4064" href="ValueSep.StrongHoareLogic.html#4064" class="Bound">l</a> <a id="4066" class="Symbol">:</a> <a id="4068" href="ValueSep.Ledger.html#1101" class="Function">L</a><a id="4069" class="Symbol">)</a> <a id="4071" class="Symbol">→</a> <a id="4073" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">ℝ⟨</a> <a id="4076" href="ValueSep.StrongHoareLogic.html#4058" class="Bound">P′</a> <a id="4079" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a> <a id="4081" href="ValueSep.StrongHoareLogic.html#4064" class="Bound">l</a> <a id="4083" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟨</a> <a id="4085" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="4087" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a> <a id="4089" class="Symbol">→</a> <a id="4091" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">ℝ⟨</a> <a id="4094" href="ValueSep.StrongHoareLogic.html#524" class="Generalizable">P</a> <a id="4096" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a> <a id="4098" href="ValueSep.Ledger.html#1203" class="Generalizable">l′</a> <a id="4101" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟨</a> <a id="4103" href="ValueSep.StrongHoareLogic.html#546" class="Generalizable">R</a> <a id="4105" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a> <a id="4107" class="Symbol">→</a> <a id="4109" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">ℝ⟨</a> <a id="4112" href="ValueSep.StrongHoareLogic.html#4058" class="Bound">P′</a> <a id="4115" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a> <a id="4117" href="ValueSep.StrongHoareLogic.html#4064" class="Bound">l</a> <a id="4119" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="4122" href="ValueSep.Ledger.html#1203" class="Generalizable">l′</a> <a id="4125" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟨</a> <a id="4127" href="ValueSep.StrongHoareLogic.html#546" class="Generalizable">R</a> <a id="4129" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a>
  <a id="4133" href="ValueSep.StrongHoareLogic.html#4133" class="Bound">P′</a> <a id="4136" href="ValueSep.StrongHoareLogic.html#4042" class="Function Operator">~⟨</a> <a id="4139" href="ValueSep.StrongHoareLogic.html#4139" class="Bound">l</a> <a id="4141" href="ValueSep.StrongHoareLogic.html#4042" class="Function Operator">∶-</a> <a id="4144" href="ValueSep.StrongHoareLogic.html#4144" class="Bound">H</a> <a id="4146" href="ValueSep.StrongHoareLogic.html#4042" class="Function Operator">⟩++</a> <a id="4150" href="ValueSep.StrongHoareLogic.html#4150" class="Bound">PlR</a> <a id="4154" class="Symbol">=</a> <a id="4156" href="ValueSep.StrongHoareLogic.html#3191" class="InductiveConstructor Operator">mkℝ</a> <a id="4160" href="ValueSep.StrongHoareLogic.html#2514" class="Function">hoare-step′</a> <a id="4172" class="Symbol">{</a><a id="4173" class="Argument">l</a> <a id="4175" class="Symbol">=</a> <a id="4177" href="ValueSep.StrongHoareLogic.html#4139" class="Bound">l</a><a id="4178" class="Symbol">}</a> <a id="4180" class="Symbol">(</a><a id="4181" href="ValueSep.StrongHoareLogic.html#3206" class="Field Operator">begin</a> <a id="4187" href="ValueSep.StrongHoareLogic.html#4144" class="Bound">H</a><a id="4188" class="Symbol">)</a> <a id="4190" class="Symbol">(</a><a id="4191" href="ValueSep.StrongHoareLogic.html#3206" class="Field Operator">begin</a> <a id="4197" href="ValueSep.StrongHoareLogic.html#4150" class="Bound">PlR</a><a id="4200" class="Symbol">)</a>

  <a id="HoareReasoning._∎"></a><a id="4205" href="ValueSep.StrongHoareLogic.html#4205" class="Function Operator">_∎</a> <a id="4208" class="Symbol">:</a> <a id="4210" class="Symbol">∀</a> <a id="4212" href="ValueSep.StrongHoareLogic.html#4212" class="Bound">P</a> <a id="4214" class="Symbol">→</a> <a id="4216" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">ℝ⟨</a> <a id="4219" href="ValueSep.StrongHoareLogic.html#4212" class="Bound">P</a> <a id="4221" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a> <a id="4223" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="4226" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟨</a> <a id="4228" href="ValueSep.StrongHoareLogic.html#4212" class="Bound">P</a> <a id="4230" href="ValueSep.StrongHoareLogic.html#3114" class="Record Operator">⟩</a>
  <a id="4234" href="ValueSep.StrongHoareLogic.html#4234" class="Bound">p</a> <a id="4236" href="ValueSep.StrongHoareLogic.html#4205" class="Function Operator">∎</a> <a id="4238" class="Symbol">=</a> <a id="4240" href="ValueSep.StrongHoareLogic.html#3191" class="InductiveConstructor Operator">mkℝ</a> <a id="4244" href="ValueSep.StrongHoareLogic.html#1112" class="Function">hoare-base</a> <a id="4255" class="Symbol">{</a><a id="4256" class="Argument">P</a> <a id="4258" class="Symbol">=</a> <a id="4260" href="ValueSep.StrongHoareLogic.html#4234" class="Bound">p</a><a id="4261" class="Symbol">}</a>
</pre></body></html>