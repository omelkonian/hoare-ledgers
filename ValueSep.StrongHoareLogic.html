<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>ValueSep.StrongHoareLogic</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-------------------------</a>
<a id="27" class="Comment">-- ** Axiomatic semantics</a>

<a id="54" class="Keyword">open</a> <a id="59" class="Keyword">import</a> <a id="66" href="Prelude.Init.html" class="Module">Prelude.Init</a>
<a id="79" class="Keyword">open</a> <a id="84" href="Prelude.Init.html#9294" class="Module">Unary</a> <a id="90" class="Keyword">using</a> <a id="96" class="Symbol">()</a> <a id="99" class="Keyword">renaming</a> <a id="108" class="Symbol">(</a><a id="109" href="Relation.Unary.html#1742" class="Function Operator">_⊆_</a> <a id="113" class="Symbol">to</a> <a id="116" class="Function Operator">_⊆¹_</a><a id="120" class="Symbol">)</a>
<a id="122" class="Keyword">open</a> <a id="127" class="Keyword">import</a> <a id="134" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="150" class="Keyword">open</a> <a id="155" class="Keyword">import</a> <a id="162" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="176" class="Keyword">open</a> <a id="181" class="Keyword">import</a> <a id="188" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="206" class="Comment">-- open import Prelude.Maps</a>
<a id="234" class="Keyword">open</a> <a id="239" class="Keyword">import</a> <a id="246" href="ValueSep.Maps.html" class="Module">ValueSep.Maps</a>
<a id="260" class="Keyword">open</a> <a id="265" class="Keyword">import</a> <a id="272" href="Prelude.Semigroup.html" class="Module">Prelude.Semigroup</a>
<a id="290" class="Keyword">open</a> <a id="295" class="Keyword">import</a> <a id="302" href="Prelude.Monoid.html" class="Module">Prelude.Monoid</a>
<a id="317" class="Keyword">open</a> <a id="322" class="Keyword">import</a> <a id="329" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="352" class="Keyword">open</a> <a id="357" class="Keyword">import</a> <a id="364" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="376" class="Keyword">open</a> <a id="381" class="Keyword">import</a> <a id="388" href="Prelude.Monad.html" class="Module">Prelude.Monad</a>

<a id="403" class="Keyword">module</a> <a id="410" href="ValueSep.StrongHoareLogic.html" class="Module">ValueSep.StrongHoareLogic</a> <a id="436" class="Symbol">(</a><a id="437" href="ValueSep.StrongHoareLogic.html#437" class="Bound">Part</a> <a id="442" class="Symbol">:</a> <a id="444" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="447" class="Symbol">)</a> <a id="449" class="Symbol">⦃</a> <a id="451" href="ValueSep.StrongHoareLogic.html#451" class="Bound">_</a> <a id="453" class="Symbol">:</a> <a id="455" href="Prelude.DecEq.Core.html#97" class="Record">DecEq</a> <a id="461" href="ValueSep.StrongHoareLogic.html#437" class="Bound">Part</a> <a id="466" class="Symbol">⦄</a> <a id="468" class="Keyword">where</a>

<a id="475" class="Keyword">open</a> <a id="480" class="Keyword">import</a> <a id="487" href="ValueSep.Ledger.html" class="Module">ValueSep.Ledger</a> <a id="503" href="ValueSep.StrongHoareLogic.html#437" class="Bound">Part</a>

<a id="509" class="Comment">-- ** Shallow embedding of logic formulas/propositions.</a>
<a id="Assertion"></a><a id="565" href="ValueSep.StrongHoareLogic.html#565" class="Function">Assertion</a> <a id="575" class="Symbol">=</a> <a id="577" href="Prelude.Init.html#12104" class="Function">Pred₀</a> <a id="583" href="ValueSep.Ledger.html#676" class="Function">S</a>

<a id="586" class="Keyword">variable</a> <a id="595" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="597" href="ValueSep.StrongHoareLogic.html#597" class="Generalizable">P′</a> <a id="600" href="ValueSep.StrongHoareLogic.html#600" class="Generalizable">P₁</a> <a id="603" href="ValueSep.StrongHoareLogic.html#603" class="Generalizable">P₂</a> <a id="606" href="ValueSep.StrongHoareLogic.html#606" class="Generalizable">Q</a> <a id="608" href="ValueSep.StrongHoareLogic.html#608" class="Generalizable">Q′</a> <a id="611" href="ValueSep.StrongHoareLogic.html#611" class="Generalizable">Q₁</a> <a id="614" href="ValueSep.StrongHoareLogic.html#614" class="Generalizable">Q₂</a> <a id="617" href="ValueSep.StrongHoareLogic.html#617" class="Generalizable">R</a> <a id="619" class="Symbol">:</a> <a id="621" href="ValueSep.StrongHoareLogic.html#565" class="Function">Assertion</a>

<a id="emp"></a><a id="632" href="ValueSep.StrongHoareLogic.html#632" class="Function">emp</a> <a id="636" class="Symbol">:</a> <a id="638" href="ValueSep.StrongHoareLogic.html#565" class="Function">Assertion</a>
<a id="648" href="ValueSep.StrongHoareLogic.html#632" class="Function">emp</a> <a id="652" href="ValueSep.StrongHoareLogic.html#652" class="Bound">m</a> <a id="654" class="Symbol">=</a> <a id="656" class="Symbol">∀</a> <a id="658" href="ValueSep.StrongHoareLogic.html#658" class="Bound">k</a> <a id="660" class="Symbol">→</a> <a id="662" href="ValueSep.StrongHoareLogic.html#658" class="Bound">k</a> <a id="664" href="ValueSep.Maps.html#665" class="Function Operator">∉ᵈ</a> <a id="667" href="ValueSep.StrongHoareLogic.html#652" class="Bound">m</a>

<a id="_∗_"></a><a id="670" href="ValueSep.StrongHoareLogic.html#670" class="Function Operator">_∗_</a> <a id="674" class="Symbol">:</a> <a id="676" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="680" href="ValueSep.StrongHoareLogic.html#565" class="Function">Assertion</a>
<a id="690" class="Symbol">(</a><a id="691" href="ValueSep.StrongHoareLogic.html#691" class="Bound">P</a> <a id="693" href="ValueSep.StrongHoareLogic.html#670" class="Function Operator">∗</a> <a id="695" href="ValueSep.StrongHoareLogic.html#695" class="Bound">Q</a><a id="696" class="Symbol">)</a> <a id="698" href="ValueSep.StrongHoareLogic.html#698" class="Bound">s</a> <a id="700" class="Symbol">=</a> <a id="702" href="Data.Product.html#1369" class="Function">∃</a> <a id="704" class="Symbol">λ</a> <a id="706" href="ValueSep.StrongHoareLogic.html#706" class="Bound">s₁</a> <a id="709" class="Symbol">→</a> <a id="711" href="Data.Product.html#1369" class="Function">∃</a> <a id="713" class="Symbol">λ</a> <a id="715" href="ValueSep.StrongHoareLogic.html#715" class="Bound">s₂</a> <a id="718" class="Symbol">→</a> <a id="720" href="ValueSep.Maps.html#3522" class="Function Operator">⟨</a> <a id="722" href="ValueSep.StrongHoareLogic.html#706" class="Bound">s₁</a> <a id="725" href="ValueSep.Maps.html#3522" class="Function Operator">◇</a> <a id="727" href="ValueSep.StrongHoareLogic.html#715" class="Bound">s₂</a> <a id="730" href="ValueSep.Maps.html#3522" class="Function Operator">⟩≡</a> <a id="733" href="ValueSep.StrongHoareLogic.html#698" class="Bound">s</a> <a id="735" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="737" href="ValueSep.StrongHoareLogic.html#691" class="Bound">P</a> <a id="739" href="ValueSep.StrongHoareLogic.html#706" class="Bound">s₁</a> <a id="742" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="744" href="ValueSep.StrongHoareLogic.html#695" class="Bound">Q</a> <a id="746" href="ValueSep.StrongHoareLogic.html#715" class="Bound">s₂</a>

<a id="_↦_"></a><a id="750" href="ValueSep.StrongHoareLogic.html#750" class="Function Operator">_↦_</a> <a id="754" class="Symbol">:</a> <a id="756" href="ValueSep.StrongHoareLogic.html#437" class="Bound">Part</a> <a id="761" class="Symbol">→</a> <a id="763" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="765" class="Symbol">→</a> <a id="767" href="ValueSep.StrongHoareLogic.html#565" class="Function">Assertion</a>
<a id="777" href="ValueSep.StrongHoareLogic.html#777" class="Bound">p</a> <a id="779" href="ValueSep.StrongHoareLogic.html#750" class="Function Operator">↦</a> <a id="781" href="ValueSep.StrongHoareLogic.html#781" class="Bound">n</a> <a id="783" class="Symbol">=</a> <a id="785" href="ValueSep.Maps.html#2361" class="Function Operator">_[</a> <a id="788" href="ValueSep.StrongHoareLogic.html#777" class="Bound">p</a> <a id="790" href="ValueSep.Maps.html#2361" class="Function Operator">↦</a> <a id="792" href="ValueSep.StrongHoareLogic.html#781" class="Bound">n</a> <a id="794" href="ValueSep.Maps.html#2361" class="Function Operator">]</a>

<a id="797" class="Keyword">infixr</a> <a id="804" class="Number">10</a> <a id="807" href="ValueSep.StrongHoareLogic.html#670" class="Function Operator">_∗_</a>
<a id="811" class="Keyword">infix</a>  <a id="818" class="Number">11</a> <a id="821" href="ValueSep.StrongHoareLogic.html#750" class="Function Operator">_↦_</a>

<a id="826" class="Comment">-- ** Hoare triples.</a>
<a id="weak↑"></a><a id="847" href="ValueSep.StrongHoareLogic.html#847" class="Function">weak↑</a> <a id="strong↑"></a><a id="853" href="ValueSep.StrongHoareLogic.html#853" class="Function">strong↑</a> <a id="861" class="Symbol">:</a> <a id="863" href="Prelude.Init.html#12104" class="Function">Pred₀</a> <a id="869" href="ValueSep.Ledger.html#676" class="Function">S</a> <a id="871" class="Symbol">→</a> <a id="873" href="Prelude.Init.html#12104" class="Function">Pred₀</a> <a id="879" class="Symbol">(</a><a id="880" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="886" href="ValueSep.Ledger.html#676" class="Function">S</a><a id="887" class="Symbol">)</a>
<a id="889" href="ValueSep.StrongHoareLogic.html#847" class="Function">weak↑</a>   <a id="897" class="Symbol">=</a> <a id="899" href="Data.Maybe.Relation.Unary.All.html#943" class="Datatype">M.All.All</a>
<a id="909" href="ValueSep.StrongHoareLogic.html#853" class="Function">strong↑</a> <a id="917" class="Symbol">=</a> <a id="919" href="Data.Maybe.Relation.Unary.Any.html#830" class="Datatype">M.Any.Any</a>

<a id="930" class="Keyword">infixl</a> <a id="937" class="Number">4</a> <a id="939" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">_↑∘_</a>
<a id="_↑∘_"></a><a id="944" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">_↑∘_</a> <a id="949" class="Symbol">:</a> <a id="951" href="Prelude.Init.html#12104" class="Function">Pred₀</a> <a id="957" href="ValueSep.Ledger.html#676" class="Function">S</a> <a id="959" class="Symbol">→</a> <a id="961" class="Symbol">(</a><a id="962" href="ValueSep.Ledger.html#676" class="Function">S</a> <a id="964" class="Symbol">→</a> <a id="966" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="972" href="ValueSep.Ledger.html#676" class="Function">S</a><a id="973" class="Symbol">)</a> <a id="975" class="Symbol">→</a> <a id="977" href="Prelude.Init.html#12104" class="Function">Pred₀</a> <a id="983" href="ValueSep.Ledger.html#676" class="Function">S</a>
<a id="985" href="ValueSep.StrongHoareLogic.html#985" class="Bound">P</a> <a id="987" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">↑∘</a> <a id="990" href="ValueSep.StrongHoareLogic.html#990" class="Bound">f</a> <a id="992" class="Symbol">=</a> <a id="994" href="ValueSep.StrongHoareLogic.html#853" class="Function">strong↑</a> <a id="1002" href="ValueSep.StrongHoareLogic.html#985" class="Bound">P</a> <a id="1004" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1006" href="ValueSep.StrongHoareLogic.html#990" class="Bound">f</a>

<a id="lift↑"></a><a id="1009" href="ValueSep.StrongHoareLogic.html#1009" class="Function">lift↑</a> <a id="1015" class="Symbol">=</a> <a id="1017" href="ValueSep.StrongHoareLogic.html#853" class="Function">strong↑</a>
<a id="1025" class="Keyword">pattern</a> <a id="ret↑"></a><a id="1033" href="ValueSep.StrongHoareLogic.html#1033" class="InductiveConstructor">ret↑</a> <a id="1038" href="ValueSep.StrongHoareLogic.html#1053" class="Bound">x</a> <a id="1040" class="Symbol">=</a> <a id="1042" href="Data.Maybe.Relation.Unary.Any.html#900" class="InductiveConstructor">M.Any.just</a> <a id="1053" href="ValueSep.StrongHoareLogic.html#1053" class="Bound">x</a>

<a id="map↑"></a><a id="1056" href="ValueSep.StrongHoareLogic.html#1056" class="Function">map↑</a> <a id="1061" class="Symbol">:</a> <a id="1063" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="1065" href="Relation.Unary.html#1742" class="Function Operator">⊆¹</a> <a id="1068" href="ValueSep.StrongHoareLogic.html#606" class="Generalizable">Q</a> <a id="1070" class="Symbol">→</a> <a id="1072" href="ValueSep.StrongHoareLogic.html#1009" class="Function">lift↑</a> <a id="1078" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="1080" href="Relation.Unary.html#1742" class="Function Operator">⊆¹</a> <a id="1083" href="ValueSep.StrongHoareLogic.html#1009" class="Function">lift↑</a> <a id="1089" href="ValueSep.StrongHoareLogic.html#606" class="Generalizable">Q</a>
<a id="1091" href="ValueSep.StrongHoareLogic.html#1056" class="Function">map↑</a> <a id="1096" class="Symbol">=</a> <a id="1098" href="Data.Maybe.Relation.Unary.Any.html#1252" class="Function">M.Any.map</a>

<a id="⟨_⟩_⟨_⟩"></a><a id="1109" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨_⟩_⟨_⟩</a> <a id="1117" class="Symbol">:</a> <a id="1119" href="ValueSep.StrongHoareLogic.html#565" class="Function">Assertion</a> <a id="1129" class="Symbol">→</a> <a id="1131" href="ValueSep.Ledger.html#1101" class="Function">L</a> <a id="1133" class="Symbol">→</a> <a id="1135" href="ValueSep.StrongHoareLogic.html#565" class="Function">Assertion</a> <a id="1145" class="Symbol">→</a> <a id="1147" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="1151" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="1153" href="ValueSep.StrongHoareLogic.html#1153" class="Bound">P</a> <a id="1155" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a> <a id="1157" href="ValueSep.StrongHoareLogic.html#1157" class="Bound">l</a> <a id="1159" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="1161" href="ValueSep.StrongHoareLogic.html#1161" class="Bound">Q</a> <a id="1163" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a> <a id="1165" class="Symbol">=</a> <a id="1167" href="ValueSep.StrongHoareLogic.html#1153" class="Bound">P</a> <a id="1169" href="Prelude.General.html#1347" class="Function Operator">⊢</a> <a id="1171" href="ValueSep.StrongHoareLogic.html#1161" class="Bound">Q</a> <a id="1173" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">↑∘</a> <a id="1176" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="1178" href="ValueSep.StrongHoareLogic.html#1157" class="Bound">l</a> <a id="1180" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a>

<a id="hoare-base"></a><a id="1183" href="ValueSep.StrongHoareLogic.html#1183" class="Function">hoare-base</a> <a id="1194" class="Symbol">:</a>
  <a id="1198" href="Prelude.InferenceRules.html#47365" class="Function Operator">──────────────</a>
  <a id="1215" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="1217" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="1219" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a> <a id="1221" class="InductiveConstructor">[]</a> <a id="1224" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="1226" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="1228" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a>
<a id="1230" href="ValueSep.StrongHoareLogic.html#1183" class="Function">hoare-base</a> <a id="1241" class="Symbol">=</a> <a id="1243" href="ValueSep.StrongHoareLogic.html#1033" class="InductiveConstructor">ret↑</a>

<a id="1249" class="Keyword">module</a> <a id="1256" href="ValueSep.StrongHoareLogic.html#1256" class="Module">_</a> <a id="1258" class="Symbol">(</a><a id="1259" href="ValueSep.StrongHoareLogic.html#1259" class="Bound">f</a> <a id="1261" class="Symbol">:</a> <a id="1263" href="ValueSep.Ledger.html#676" class="Function">S</a> <a id="1265" class="Symbol">→</a> <a id="1267" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1273" href="ValueSep.Ledger.html#676" class="Function">S</a><a id="1274" class="Symbol">)</a> <a id="1276" class="Keyword">where</a>
  <a id="1284" href="ValueSep.StrongHoareLogic.html#1284" class="Function">lift∘&gt;&gt;=</a> <a id="1293" class="Symbol">:</a> <a id="1295" class="Symbol">∀</a> <a id="1297" class="Symbol">{</a><a id="1298" href="ValueSep.StrongHoareLogic.html#1298" class="Bound">ms</a><a id="1300" class="Symbol">}</a>
    <a id="1306" class="Symbol">→</a> <a id="1308" href="ValueSep.StrongHoareLogic.html#1009" class="Function">lift↑</a> <a id="1314" class="Symbol">(</a><a id="1315" href="ValueSep.StrongHoareLogic.html#1009" class="Function">lift↑</a> <a id="1321" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="1323" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1325" href="ValueSep.StrongHoareLogic.html#1259" class="Bound">f</a><a id="1326" class="Symbol">)</a> <a id="1328" href="ValueSep.StrongHoareLogic.html#1298" class="Bound">ms</a>
    <a id="1335" class="Symbol">→</a> <a id="1337" href="ValueSep.StrongHoareLogic.html#1009" class="Function">lift↑</a> <a id="1343" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="1345" class="Symbol">(</a><a id="1346" href="ValueSep.StrongHoareLogic.html#1298" class="Bound">ms</a> <a id="1349" href="Prelude.Monad.html#544" class="Field Operator">&gt;&gt;=</a> <a id="1353" href="ValueSep.StrongHoareLogic.html#1259" class="Bound">f</a><a id="1354" class="Symbol">)</a>
  <a id="1358" href="ValueSep.StrongHoareLogic.html#1284" class="Function">lift∘&gt;&gt;=</a> <a id="1367" class="Symbol">(</a><a id="1368" href="ValueSep.StrongHoareLogic.html#1033" class="InductiveConstructor">ret↑</a> <a id="1373" href="ValueSep.StrongHoareLogic.html#1373" class="Bound">p</a><a id="1374" class="Symbol">)</a> <a id="1376" class="Symbol">=</a> <a id="1378" href="ValueSep.StrongHoareLogic.html#1373" class="Bound">p</a>

  <a id="1383" href="ValueSep.StrongHoareLogic.html#1383" class="Function">lift∘&gt;&gt;=˘</a> <a id="1393" class="Symbol">:</a> <a id="1395" class="Symbol">∀</a> <a id="1397" class="Symbol">{</a><a id="1398" href="ValueSep.StrongHoareLogic.html#1398" class="Bound">ms</a> <a id="1401" class="Symbol">:</a> <a id="1403" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1409" href="ValueSep.Ledger.html#676" class="Function">S</a><a id="1410" class="Symbol">}</a>
    <a id="1416" class="Symbol">→</a> <a id="1418" href="ValueSep.StrongHoareLogic.html#1009" class="Function">lift↑</a> <a id="1424" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="1426" class="Symbol">(</a><a id="1427" href="ValueSep.StrongHoareLogic.html#1398" class="Bound">ms</a> <a id="1430" href="Prelude.Monad.html#544" class="Field Operator">&gt;&gt;=</a> <a id="1434" href="ValueSep.StrongHoareLogic.html#1259" class="Bound">f</a><a id="1435" class="Symbol">)</a>
    <a id="1441" class="Symbol">→</a> <a id="1443" href="ValueSep.StrongHoareLogic.html#1009" class="Function">lift↑</a> <a id="1449" class="Symbol">(</a><a id="1450" href="ValueSep.StrongHoareLogic.html#1009" class="Function">lift↑</a> <a id="1456" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="1458" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1460" href="ValueSep.StrongHoareLogic.html#1259" class="Bound">f</a><a id="1461" class="Symbol">)</a> <a id="1463" href="ValueSep.StrongHoareLogic.html#1398" class="Bound">ms</a>
  <a id="1468" href="ValueSep.StrongHoareLogic.html#1383" class="Function">lift∘&gt;&gt;=˘</a> <a id="1478" class="Symbol">{</a><a id="1479" class="Argument">ms</a> <a id="1482" class="Symbol">=</a> <a id="1484" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="1489" href="ValueSep.StrongHoareLogic.html#1489" class="Bound">s</a><a id="1490" class="Symbol">}</a> <a id="1492" href="ValueSep.StrongHoareLogic.html#1492" class="Bound">p</a> <a id="1494" class="Symbol">=</a> <a id="1496" href="ValueSep.StrongHoareLogic.html#1033" class="InductiveConstructor">ret↑</a> <a id="1501" href="ValueSep.StrongHoareLogic.html#1492" class="Bound">p</a>

  <a id="1506" href="ValueSep.StrongHoareLogic.html#1506" class="Function">lift∘=&lt;&lt;</a>  <a id="1516" class="Symbol">=</a> <a id="1518" href="ValueSep.StrongHoareLogic.html#1284" class="Function">lift∘&gt;&gt;=</a>
  <a id="1529" href="ValueSep.StrongHoareLogic.html#1529" class="Function">lift∘=&lt;&lt;˘</a> <a id="1539" class="Symbol">=</a> <a id="1541" href="ValueSep.StrongHoareLogic.html#1383" class="Function">lift∘&gt;&gt;=˘</a>

<a id="1552" class="Keyword">module</a> <a id="1559" href="ValueSep.StrongHoareLogic.html#1559" class="Module">_</a> <a id="1561" class="Symbol">(</a><a id="1562" href="ValueSep.StrongHoareLogic.html#1562" class="Bound">f</a> <a id="1564" href="ValueSep.StrongHoareLogic.html#1564" class="Bound">g</a> <a id="1566" class="Symbol">:</a> <a id="1568" href="ValueSep.Ledger.html#676" class="Function">S</a> <a id="1570" class="Symbol">→</a> <a id="1572" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1578" href="ValueSep.Ledger.html#676" class="Function">S</a><a id="1579" class="Symbol">)</a> <a id="1581" class="Keyword">where</a>
  <a id="1589" href="ValueSep.StrongHoareLogic.html#1589" class="Function">lift²∘&gt;=&gt;</a> <a id="1599" class="Symbol">:</a> <a id="1601" class="Symbol">(</a><a id="1602" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="1604" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">↑∘</a> <a id="1607" href="ValueSep.StrongHoareLogic.html#1564" class="Bound">g</a> <a id="1609" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">↑∘</a> <a id="1612" href="ValueSep.StrongHoareLogic.html#1562" class="Bound">f</a><a id="1613" class="Symbol">)</a> <a id="1615" href="Prelude.General.html#1347" class="Function Operator">⊢</a> <a id="1617" class="Symbol">(</a><a id="1618" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="1620" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">↑∘</a> <a id="1623" class="Symbol">(</a><a id="1624" href="ValueSep.StrongHoareLogic.html#1562" class="Bound">f</a> <a id="1626" href="Prelude.Monad.html#729" class="Function Operator">&gt;=&gt;</a> <a id="1630" href="ValueSep.StrongHoareLogic.html#1564" class="Bound">g</a><a id="1631" class="Symbol">))</a>
  <a id="1636" href="ValueSep.StrongHoareLogic.html#1589" class="Function">lift²∘&gt;=&gt;</a> <a id="1646" class="Symbol">=</a> <a id="1648" href="ValueSep.StrongHoareLogic.html#1506" class="Function">lift∘=&lt;&lt;</a> <a id="1657" class="Symbol">_</a>

  <a id="1662" href="ValueSep.StrongHoareLogic.html#1662" class="Function">lift²∘&gt;=&gt;˘</a> <a id="1673" class="Symbol">:</a> <a id="1675" class="Symbol">(</a><a id="1676" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="1678" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">↑∘</a> <a id="1681" class="Symbol">(</a><a id="1682" href="ValueSep.StrongHoareLogic.html#1562" class="Bound">f</a> <a id="1684" href="Prelude.Monad.html#729" class="Function Operator">&gt;=&gt;</a> <a id="1688" href="ValueSep.StrongHoareLogic.html#1564" class="Bound">g</a><a id="1689" class="Symbol">))</a> <a id="1692" href="Prelude.General.html#1347" class="Function Operator">⊢</a> <a id="1694" class="Symbol">(</a><a id="1695" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="1697" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">↑∘</a> <a id="1700" href="ValueSep.StrongHoareLogic.html#1564" class="Bound">g</a> <a id="1702" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">↑∘</a> <a id="1705" href="ValueSep.StrongHoareLogic.html#1562" class="Bound">f</a><a id="1706" class="Symbol">)</a>
  <a id="1710" href="ValueSep.StrongHoareLogic.html#1662" class="Function">lift²∘&gt;=&gt;˘</a> <a id="1721" class="Symbol">=</a> <a id="1723" href="ValueSep.StrongHoareLogic.html#1529" class="Function">lift∘=&lt;&lt;˘</a> <a id="1733" class="Symbol">_</a>

<a id="hoare-step"></a><a id="1736" href="ValueSep.StrongHoareLogic.html#1736" class="Function">hoare-step</a> <a id="1747" class="Symbol">:</a>
  <a id="1751" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="1753" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="1755" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a> <a id="1757" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="1759" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="1761" href="ValueSep.StrongHoareLogic.html#606" class="Generalizable">Q</a> <a id="1763" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a>
  <a id="1767" href="Prelude.InferenceRules.html#13928" class="Function Operator">──────────────────────────</a>
  <a id="1796" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="1798" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="1800" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">↑∘</a> <a id="1803" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="1805" href="ValueSep.Ledger.html#1186" class="Generalizable">t</a> <a id="1807" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a> <a id="1809" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a> <a id="1811" href="ValueSep.Ledger.html#1186" class="Generalizable">t</a> <a id="1813" class="InductiveConstructor Operator">∷</a> <a id="1815" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="1817" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="1819" href="ValueSep.StrongHoareLogic.html#606" class="Generalizable">Q</a> <a id="1821" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a>
<a id="1823" href="ValueSep.StrongHoareLogic.html#1736" class="Function">hoare-step</a> <a id="1834" class="Symbol">{</a><a id="1835" class="Argument">t</a> <a id="1837" class="Symbol">=</a> <a id="1839" href="ValueSep.StrongHoareLogic.html#1839" class="Bound">t</a><a id="1840" class="Symbol">}</a> <a id="1842" href="ValueSep.StrongHoareLogic.html#1842" class="Bound">PlQ</a> <a id="1846" class="Symbol">{</a><a id="1847" href="ValueSep.StrongHoareLogic.html#1847" class="Bound">s</a><a id="1848" class="Symbol">}</a> <a id="1850" class="Symbol">=</a> <a id="1852" href="ValueSep.StrongHoareLogic.html#1589" class="Function">lift²∘&gt;=&gt;</a> <a id="1862" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="1864" href="ValueSep.StrongHoareLogic.html#1839" class="Bound">t</a> <a id="1866" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a> <a id="1868" class="Symbol">_</a> <a id="1870" class="Symbol">{</a><a id="1871" class="Argument">x</a> <a id="1873" class="Symbol">=</a> <a id="1875" href="ValueSep.StrongHoareLogic.html#1847" class="Bound">s</a><a id="1876" class="Symbol">}</a> <a id="1878" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1880" href="ValueSep.StrongHoareLogic.html#1056" class="Function">map↑</a> <a id="1885" href="ValueSep.StrongHoareLogic.html#1842" class="Bound">PlQ</a>

<a id="consequence"></a><a id="1890" href="ValueSep.StrongHoareLogic.html#1890" class="Function">consequence</a> <a id="1902" class="Symbol">:</a>
  <a id="1906" href="Prelude.InferenceRules.html#56094" class="Function Operator">∙</a> <a id="1908" href="ValueSep.StrongHoareLogic.html#597" class="Generalizable">P′</a> <a id="1911" href="Prelude.General.html#1347" class="Function Operator">⊢</a> <a id="1913" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a>   <a id="1917" class="Comment">-- ^ weakening the pre-condition</a>
  <a id="1952" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="1954" href="ValueSep.StrongHoareLogic.html#606" class="Generalizable">Q</a>  <a id="1957" href="Prelude.General.html#1347" class="Function Operator">⊢</a> <a id="1959" href="ValueSep.StrongHoareLogic.html#608" class="Generalizable">Q′</a>  <a id="1963" class="Comment">-- ^ strengthening the post-condition</a>
  <a id="2003" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="2005" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2007" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a>  <a id="2010" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a> <a id="2012" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="2014" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2016" href="ValueSep.StrongHoareLogic.html#606" class="Generalizable">Q</a>  <a id="2019" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a>
    <a id="2025" href="Prelude.InferenceRules.html#14214" class="Function Operator">───────────────</a>
    <a id="2045" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2047" href="ValueSep.StrongHoareLogic.html#597" class="Generalizable">P′</a> <a id="2050" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a> <a id="2052" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="2054" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2056" href="ValueSep.StrongHoareLogic.html#608" class="Generalizable">Q′</a> <a id="2059" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a>
<a id="2061" href="ValueSep.StrongHoareLogic.html#1890" class="Function">consequence</a> <a id="2073" href="ValueSep.StrongHoareLogic.html#2073" class="Bound">⊢P</a> <a id="2076" href="ValueSep.StrongHoareLogic.html#2076" class="Bound">Q⊢</a> <a id="2079" href="ValueSep.StrongHoareLogic.html#2079" class="Bound">PlQ</a> <a id="2083" class="Symbol">=</a> <a id="2085" href="ValueSep.StrongHoareLogic.html#1056" class="Function">map↑</a> <a id="2090" href="ValueSep.StrongHoareLogic.html#2076" class="Bound">Q⊢</a> <a id="2093" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="2095" href="ValueSep.StrongHoareLogic.html#2079" class="Bound">PlQ</a> <a id="2099" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="2101" href="ValueSep.StrongHoareLogic.html#2073" class="Bound">⊢P</a>

<a id="2105" class="Comment">-- Utilities for Hoare triples.</a>
<a id="weaken"></a><a id="2137" href="ValueSep.StrongHoareLogic.html#2137" class="Function">weaken</a> <a id="2144" class="Symbol">:</a> <a id="2146" href="ValueSep.StrongHoareLogic.html#597" class="Generalizable">P′</a> <a id="2149" href="Prelude.General.html#1347" class="Function Operator">⊢</a> <a id="2151" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="2153" class="Symbol">→</a> <a id="2155" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2157" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="2159" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a> <a id="2161" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="2163" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2165" href="ValueSep.StrongHoareLogic.html#606" class="Generalizable">Q</a> <a id="2167" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a> <a id="2169" class="Symbol">→</a> <a id="2171" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2173" href="ValueSep.StrongHoareLogic.html#597" class="Generalizable">P′</a> <a id="2176" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a> <a id="2178" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="2180" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2182" href="ValueSep.StrongHoareLogic.html#606" class="Generalizable">Q</a> <a id="2184" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a>
<a id="2186" href="ValueSep.StrongHoareLogic.html#2137" class="Function">weaken</a> <a id="2193" class="Symbol">{</a><a id="2194" class="Argument">l</a> <a id="2196" class="Symbol">=</a> <a id="2198" href="ValueSep.StrongHoareLogic.html#2198" class="Bound">l</a><a id="2199" class="Symbol">}</a> <a id="2201" href="ValueSep.StrongHoareLogic.html#2201" class="Bound">H</a> <a id="2203" class="Symbol">=</a> <a id="2205" href="ValueSep.StrongHoareLogic.html#1890" class="Function">consequence</a> <a id="2217" class="Symbol">{</a><a id="2218" class="Argument">l</a> <a id="2220" class="Symbol">=</a> <a id="2222" href="ValueSep.StrongHoareLogic.html#2198" class="Bound">l</a><a id="2223" class="Symbol">}</a> <a id="2225" href="ValueSep.StrongHoareLogic.html#2201" class="Bound">H</a> <a id="2227" href="Function.Base.html#615" class="Function">id</a>

<a id="strengthen"></a><a id="2231" href="ValueSep.StrongHoareLogic.html#2231" class="Function">strengthen</a> <a id="2242" class="Symbol">:</a> <a id="2244" href="ValueSep.StrongHoareLogic.html#606" class="Generalizable">Q</a> <a id="2246" href="Prelude.General.html#1347" class="Function Operator">⊢</a> <a id="2248" href="ValueSep.StrongHoareLogic.html#608" class="Generalizable">Q′</a> <a id="2251" class="Symbol">→</a> <a id="2253" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2255" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="2257" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a> <a id="2259" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="2261" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2263" href="ValueSep.StrongHoareLogic.html#606" class="Generalizable">Q</a> <a id="2265" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a> <a id="2267" class="Symbol">→</a> <a id="2269" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2271" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="2273" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a> <a id="2275" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="2277" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2279" href="ValueSep.StrongHoareLogic.html#608" class="Generalizable">Q′</a> <a id="2282" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a>
<a id="2284" href="ValueSep.StrongHoareLogic.html#2231" class="Function">strengthen</a> <a id="2295" class="Symbol">{</a><a id="2296" class="Argument">l</a> <a id="2298" class="Symbol">=</a> <a id="2300" href="ValueSep.StrongHoareLogic.html#2300" class="Bound">l</a><a id="2301" class="Symbol">}</a> <a id="2303" href="ValueSep.StrongHoareLogic.html#2303" class="Bound">H</a> <a id="2305" class="Symbol">=</a> <a id="2307" href="ValueSep.StrongHoareLogic.html#1890" class="Function">consequence</a> <a id="2319" class="Symbol">{</a><a id="2320" class="Argument">l</a> <a id="2322" class="Symbol">=</a> <a id="2324" href="ValueSep.StrongHoareLogic.html#2300" class="Bound">l</a><a id="2325" class="Symbol">}</a> <a id="2327" href="Function.Base.html#615" class="Function">id</a> <a id="2330" href="ValueSep.StrongHoareLogic.html#2303" class="Bound">H</a>

<a id="axiom-base⋆"></a><a id="2333" href="ValueSep.StrongHoareLogic.html#2333" class="Function">axiom-base⋆</a> <a id="2345" class="Symbol">:</a> <a id="2347" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2349" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="2351" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">↑∘</a> <a id="2354" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2356" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="2358" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a> <a id="2360" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a> <a id="2362" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="2364" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2366" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="2368" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a>
<a id="2370" href="ValueSep.StrongHoareLogic.html#2333" class="Function">axiom-base⋆</a> <a id="2382" class="Symbol">{</a><a id="2383" class="Argument">P</a> <a id="2385" class="Symbol">=</a> <a id="2387" href="ValueSep.StrongHoareLogic.html#2387" class="Bound">P</a><a id="2388" class="Symbol">}</a> <a id="2390" class="Symbol">{</a><a id="2391" class="Argument">l</a> <a id="2393" class="Symbol">=</a> <a id="2395" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2397" class="Symbol">}</a> <a id="2399" class="Symbol">=</a> <a id="2401" href="ValueSep.StrongHoareLogic.html#2137" class="Function">weaken</a> <a id="2408" class="Symbol">{</a><a id="2409" class="Argument">P′</a> <a id="2412" class="Symbol">=</a> <a id="2414" href="ValueSep.StrongHoareLogic.html#2387" class="Bound">P</a> <a id="2416" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">↑∘</a> <a id="2419" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2421" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2424" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a><a id="2425" class="Symbol">}</a> <a id="2427" class="Symbol">{</a><a id="2428" class="Argument">l</a> <a id="2430" class="Symbol">=</a> <a id="2432" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2434" class="Symbol">}</a> <a id="2436" class="Symbol">(λ</a> <a id="2439" class="Keyword">where</a> <a id="2445" class="Symbol">(</a><a id="2446" href="ValueSep.StrongHoareLogic.html#1033" class="InductiveConstructor">ret↑</a> <a id="2451" href="ValueSep.StrongHoareLogic.html#2451" class="Bound">p</a><a id="2452" class="Symbol">)</a> <a id="2454" class="Symbol">→</a> <a id="2456" href="ValueSep.StrongHoareLogic.html#2451" class="Bound">p</a><a id="2457" class="Symbol">)</a> <a id="2459" href="ValueSep.StrongHoareLogic.html#1183" class="Function">hoare-base</a>
<a id="2470" href="ValueSep.StrongHoareLogic.html#2333" class="Function">axiom-base⋆</a> <a id="2482" class="Symbol">{</a><a id="2483" class="Argument">P</a> <a id="2485" class="Symbol">=</a> <a id="2487" href="ValueSep.StrongHoareLogic.html#2487" class="Bound">P</a><a id="2488" class="Symbol">}</a> <a id="2490" class="Symbol">{</a><a id="2491" class="Argument">l</a> <a id="2493" class="Symbol">=</a> <a id="2495" href="ValueSep.StrongHoareLogic.html#2495" class="Bound">t</a> <a id="2497" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2499" href="ValueSep.StrongHoareLogic.html#2499" class="Bound">l</a><a id="2500" class="Symbol">}</a> <a id="2502" class="Symbol">=</a> <a id="2504" href="ValueSep.StrongHoareLogic.html#1056" class="Function">map↑</a> <a id="2509" href="Function.Base.html#615" class="Function">id</a>

<a id="2513" class="Comment">-- Derived alternative formulation for step, using list concatenation.</a>

<a id="hoare-step′"></a><a id="2585" href="ValueSep.StrongHoareLogic.html#2585" class="Function">hoare-step′</a> <a id="2597" class="Symbol">:</a>
  <a id="2601" href="Prelude.InferenceRules.html#56094" class="Function Operator">∙</a> <a id="2603" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2605" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="2607" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a> <a id="2609" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a>  <a id="2612" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2614" href="ValueSep.StrongHoareLogic.html#606" class="Generalizable">Q</a> <a id="2616" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a>
  <a id="2620" href="Prelude.InferenceRules.html#56028" class="Function Operator">∙</a> <a id="2622" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2624" href="ValueSep.StrongHoareLogic.html#606" class="Generalizable">Q</a> <a id="2626" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a> <a id="2628" href="ValueSep.Ledger.html#1203" class="Generalizable">l′</a> <a id="2631" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2633" href="ValueSep.StrongHoareLogic.html#617" class="Generalizable">R</a> <a id="2635" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a>
    <a id="2641" href="Prelude.InferenceRules.html#14124" class="Function Operator">───────────────────</a>
    <a id="2665" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2667" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="2669" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a> <a id="2671" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="2673" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="2676" href="ValueSep.Ledger.html#1203" class="Generalizable">l′</a> <a id="2679" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="2681" href="ValueSep.StrongHoareLogic.html#617" class="Generalizable">R</a> <a id="2683" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a>
<a id="2685" href="ValueSep.StrongHoareLogic.html#2585" class="Function">hoare-step′</a> <a id="2697" class="Symbol">{</a><a id="2698" href="ValueSep.StrongHoareLogic.html#2698" class="Bound">P</a><a id="2699" class="Symbol">}{</a><a id="2701" href="ValueSep.StrongHoareLogic.html#2701" class="Bound">l</a><a id="2702" class="Symbol">}{</a><a id="2704" href="ValueSep.StrongHoareLogic.html#2704" class="Bound">Q</a><a id="2705" class="Symbol">}{</a><a id="2707" href="ValueSep.StrongHoareLogic.html#2707" class="Bound">l′</a><a id="2709" class="Symbol">}{</a><a id="2711" href="ValueSep.StrongHoareLogic.html#2711" class="Bound">R</a><a id="2712" class="Symbol">}</a> <a id="2714" href="ValueSep.StrongHoareLogic.html#2714" class="Bound">PlQ</a> <a id="2718" href="ValueSep.StrongHoareLogic.html#2718" class="Bound">QlR</a>
<a id="2722" class="Comment">--   {s} Ps rewrite comp {l}{l′} s</a>
<a id="2757" class="Comment">--   with ⟦ l ⟧ s | PlQ Ps</a>
<a id="2784" class="Comment">-- ... | .(just _) | ret↑ Qs′ = QlR Qs′</a>
  <a id="2826" class="Symbol">=</a> <a id="2828" href="Prelude.General.html#1705" class="Field Operator">begin</a>
    <a id="2838" href="ValueSep.StrongHoareLogic.html#2698" class="Bound">P</a>
  <a id="2842" href="Prelude.General.html#1886" class="Function Operator">⊢⟨</a> <a id="2845" href="ValueSep.StrongHoareLogic.html#2714" class="Bound">PlQ</a>  <a id="2850" href="Prelude.General.html#1886" class="Function Operator">⟩</a>
    <a id="2856" href="ValueSep.StrongHoareLogic.html#2704" class="Bound">Q</a> <a id="2858" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">↑∘</a> <a id="2861" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2863" href="ValueSep.StrongHoareLogic.html#2701" class="Bound">l</a> <a id="2865" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a>
  <a id="2869" href="Prelude.General.html#1886" class="Function Operator">⊢⟨</a> <a id="2872" href="ValueSep.StrongHoareLogic.html#1056" class="Function">map↑</a> <a id="2877" href="ValueSep.StrongHoareLogic.html#2718" class="Bound">QlR</a> <a id="2881" href="Prelude.General.html#1886" class="Function Operator">⟩</a>
    <a id="2887" href="ValueSep.StrongHoareLogic.html#2711" class="Bound">R</a> <a id="2889" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">↑∘</a> <a id="2892" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2894" href="ValueSep.StrongHoareLogic.html#2707" class="Bound">l′</a> <a id="2897" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a> <a id="2899" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">↑∘</a> <a id="2902" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2904" href="ValueSep.StrongHoareLogic.html#2701" class="Bound">l</a> <a id="2906" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a>
  <a id="2910" href="Prelude.General.html#1886" class="Function Operator">⊢⟨</a> <a id="2913" href="ValueSep.StrongHoareLogic.html#1589" class="Function">lift²∘&gt;=&gt;</a> <a id="2923" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2925" href="ValueSep.StrongHoareLogic.html#2701" class="Bound">l</a> <a id="2927" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a> <a id="2929" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2931" href="ValueSep.StrongHoareLogic.html#2707" class="Bound">l′</a> <a id="2934" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a>  <a id="2937" href="Prelude.General.html#1886" class="Function Operator">⟩</a>
    <a id="2943" href="ValueSep.StrongHoareLogic.html#2711" class="Bound">R</a> <a id="2945" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">↑∘</a> <a id="2948" class="Symbol">(</a><a id="2949" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2951" href="ValueSep.StrongHoareLogic.html#2701" class="Bound">l</a> <a id="2953" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a> <a id="2955" href="Prelude.Monad.html#729" class="Function Operator">&gt;=&gt;</a> <a id="2959" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="2961" href="ValueSep.StrongHoareLogic.html#2707" class="Bound">l′</a> <a id="2964" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a><a id="2965" class="Symbol">)</a>
  <a id="2969" href="Prelude.General.html#2292" class="Function Operator">≗˘⟨</a> <a id="2973" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="2978" class="Symbol">(</a><a id="2979" href="ValueSep.StrongHoareLogic.html#1009" class="Function">lift↑</a> <a id="2985" href="ValueSep.StrongHoareLogic.html#2711" class="Bound">R</a><a id="2986" class="Symbol">)</a> <a id="2988" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="2990" href="ValueSep.Ledger.html#3269" class="Function">comp</a> <a id="2995" class="Symbol">{</a><a id="2996" href="ValueSep.StrongHoareLogic.html#2701" class="Bound">l</a><a id="2997" class="Symbol">}{</a><a id="2999" href="ValueSep.StrongHoareLogic.html#2707" class="Bound">l′</a><a id="3001" class="Symbol">}</a> <a id="3003" href="Prelude.General.html#2292" class="Function Operator">⟩</a>
    <a id="3009" href="ValueSep.StrongHoareLogic.html#2711" class="Bound">R</a> <a id="3011" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">↑∘</a> <a id="3014" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="3016" href="ValueSep.StrongHoareLogic.html#2701" class="Bound">l</a> <a id="3018" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="3021" href="ValueSep.StrongHoareLogic.html#2707" class="Bound">l′</a> <a id="3024" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a>
  <a id="3028" href="Prelude.General.html#2382" class="Function Operator">∎</a> <a id="3030" class="Keyword">where</a> <a id="3036" class="Keyword">open</a> <a id="3041" href="Prelude.General.html#1534" class="Module">⊢-Reasoning</a>

<a id="3054" class="Comment">-- ** Reasoning syntax for Hoare triples.</a>
<a id="3096" class="Keyword">module</a> <a id="HoareReasoning"></a><a id="3103" href="ValueSep.StrongHoareLogic.html#3103" class="Module">HoareReasoning</a> <a id="3118" class="Keyword">where</a>
  <a id="3126" class="Comment">-- Reasoning newtype (for better type inference).</a>
  <a id="3178" class="Keyword">record</a> <a id="HoareReasoning.ℝ⟨_⟩_⟨_⟩"></a><a id="3185" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">ℝ⟨_⟩_⟨_⟩</a> <a id="3194" class="Symbol">(</a><a id="3195" href="ValueSep.StrongHoareLogic.html#3195" class="Bound">P</a> <a id="3197" class="Symbol">:</a> <a id="3199" href="ValueSep.StrongHoareLogic.html#565" class="Function">Assertion</a><a id="3208" class="Symbol">)</a> <a id="3210" class="Symbol">(</a><a id="3211" href="ValueSep.StrongHoareLogic.html#3211" class="Bound">l</a> <a id="3213" class="Symbol">:</a> <a id="3215" href="ValueSep.Ledger.html#1101" class="Function">L</a><a id="3216" class="Symbol">)</a> <a id="3218" class="Symbol">(</a><a id="3219" href="ValueSep.StrongHoareLogic.html#3219" class="Bound">Q</a> <a id="3221" class="Symbol">:</a> <a id="3223" href="ValueSep.StrongHoareLogic.html#565" class="Function">Assertion</a><a id="3232" class="Symbol">)</a> <a id="3234" class="Symbol">:</a> <a id="3236" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="3240" class="Keyword">where</a>
    <a id="3250" class="Keyword">constructor</a> <a id="HoareReasoning.mkℝ_"></a><a id="3262" href="ValueSep.StrongHoareLogic.html#3262" class="InductiveConstructor Operator">mkℝ_</a>
    <a id="3271" class="Keyword">field</a> <a id="HoareReasoning.ℝ⟨_⟩_⟨_⟩.begin_"></a><a id="3277" href="ValueSep.StrongHoareLogic.html#3277" class="Field Operator">begin_</a> <a id="3284" class="Symbol">:</a> <a id="3286" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="3288" href="ValueSep.StrongHoareLogic.html#3195" class="Bound">P</a> <a id="3290" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a> <a id="3292" href="ValueSep.StrongHoareLogic.html#3211" class="Bound">l</a> <a id="3294" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟨</a> <a id="3296" href="ValueSep.StrongHoareLogic.html#3219" class="Bound">Q</a> <a id="3298" href="ValueSep.StrongHoareLogic.html#1109" class="Function Operator">⟩</a>
    <a id="3304" class="Keyword">infix</a> <a id="3310" class="Number">-2</a> <a id="3313" href="ValueSep.StrongHoareLogic.html#3277" class="Field Operator">begin_</a>
  <a id="3322" class="Keyword">open</a> <a id="3327" href="ValueSep.StrongHoareLogic.html#3185" class="Module Operator">ℝ⟨_⟩_⟨_⟩</a> <a id="3336" class="Keyword">public</a>
  <a id="3345" class="Keyword">infix</a>  <a id="3352" class="Number">-2</a> <a id="3355" href="ValueSep.StrongHoareLogic.html#3262" class="InductiveConstructor Operator">mkℝ_</a>
  <a id="3362" class="Keyword">infixr</a> <a id="3369" class="Number">-1</a> <a id="3372" href="ValueSep.StrongHoareLogic.html#3448" class="Function Operator">_~⟪_⟩_</a> <a id="3379" href="ValueSep.StrongHoareLogic.html#3595" class="Function Operator">_~⟨_⟫_</a> <a id="3386" href="ValueSep.StrongHoareLogic.html#3737" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="3396" href="ValueSep.StrongHoareLogic.html#4113" class="Function Operator">_~⟨_∶-_⟩++_</a>
  <a id="3410" class="Keyword">infix</a>  <a id="3417" class="Number">0</a>  <a id="3420" href="ValueSep.StrongHoareLogic.html#4276" class="Function Operator">_∎</a>

  <a id="3426" class="Comment">-- weakening syntax</a>
  <a id="HoareReasoning._~⟪_⟩_"></a><a id="3448" href="ValueSep.StrongHoareLogic.html#3448" class="Function Operator">_~⟪_⟩_</a> <a id="3455" class="Symbol">:</a> <a id="3457" class="Symbol">∀</a> <a id="3459" href="ValueSep.StrongHoareLogic.html#3459" class="Bound">P′</a> <a id="3462" class="Symbol">→</a> <a id="3464" href="ValueSep.StrongHoareLogic.html#3459" class="Bound">P′</a> <a id="3467" href="Prelude.General.html#1347" class="Function Operator">⊢</a> <a id="3469" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="3471" class="Symbol">→</a> <a id="3473" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">ℝ⟨</a> <a id="3476" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="3478" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a> <a id="3480" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="3482" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟨</a> <a id="3484" href="ValueSep.StrongHoareLogic.html#617" class="Generalizable">R</a> <a id="3486" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a> <a id="3488" class="Symbol">→</a> <a id="3490" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">ℝ⟨</a> <a id="3493" href="ValueSep.StrongHoareLogic.html#3459" class="Bound">P′</a> <a id="3496" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a> <a id="3498" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="3500" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟨</a> <a id="3502" href="ValueSep.StrongHoareLogic.html#617" class="Generalizable">R</a> <a id="3504" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a>
  <a id="3508" href="ValueSep.StrongHoareLogic.html#3448" class="Function Operator">_~⟪_⟩_</a> <a id="3515" class="Symbol">{</a><a id="3516" class="Argument">l</a> <a id="3518" class="Symbol">=</a> <a id="3520" href="ValueSep.StrongHoareLogic.html#3520" class="Bound">l</a><a id="3521" class="Symbol">}</a> <a id="3523" class="Symbol">_</a> <a id="3525" href="ValueSep.StrongHoareLogic.html#3525" class="Bound">H</a> <a id="3527" href="ValueSep.StrongHoareLogic.html#3527" class="Bound">PlR</a> <a id="3531" class="Symbol">=</a> <a id="3533" href="ValueSep.StrongHoareLogic.html#3262" class="InductiveConstructor Operator">mkℝ</a> <a id="3537" href="ValueSep.StrongHoareLogic.html#2137" class="Function">weaken</a> <a id="3544" class="Symbol">{</a><a id="3545" class="Argument">l</a> <a id="3547" class="Symbol">=</a> <a id="3549" href="ValueSep.StrongHoareLogic.html#3520" class="Bound">l</a><a id="3550" class="Symbol">}</a> <a id="3552" href="ValueSep.StrongHoareLogic.html#3525" class="Bound">H</a> <a id="3554" class="Symbol">(</a><a id="3555" href="ValueSep.StrongHoareLogic.html#3277" class="Field Operator">begin</a> <a id="3561" href="ValueSep.StrongHoareLogic.html#3527" class="Bound">PlR</a><a id="3564" class="Symbol">)</a>

  <a id="3569" class="Comment">-- strengthening syntax</a>
  <a id="HoareReasoning._~⟨_⟫_"></a><a id="3595" href="ValueSep.StrongHoareLogic.html#3595" class="Function Operator">_~⟨_⟫_</a> <a id="3602" class="Symbol">:</a> <a id="3604" class="Symbol">∀</a> <a id="3606" href="ValueSep.StrongHoareLogic.html#3606" class="Bound">R′</a> <a id="3609" class="Symbol">→</a> <a id="3611" href="ValueSep.StrongHoareLogic.html#617" class="Generalizable">R</a> <a id="3613" href="Prelude.General.html#1347" class="Function Operator">⊢</a> <a id="3615" href="ValueSep.StrongHoareLogic.html#3606" class="Bound">R′</a> <a id="3618" class="Symbol">→</a> <a id="3620" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">ℝ⟨</a> <a id="3623" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="3625" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a> <a id="3627" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="3629" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟨</a> <a id="3631" href="ValueSep.StrongHoareLogic.html#617" class="Generalizable">R</a> <a id="3633" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a> <a id="3635" class="Symbol">→</a> <a id="3637" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">ℝ⟨</a> <a id="3640" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="3642" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a> <a id="3644" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="3646" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟨</a> <a id="3648" href="ValueSep.StrongHoareLogic.html#3606" class="Bound">R′</a> <a id="3651" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a>
  <a id="3655" href="ValueSep.StrongHoareLogic.html#3595" class="Function Operator">_~⟨_⟫_</a> <a id="3662" class="Symbol">{</a><a id="3663" class="Argument">l</a> <a id="3665" class="Symbol">=</a> <a id="3667" href="ValueSep.StrongHoareLogic.html#3667" class="Bound">l</a><a id="3668" class="Symbol">}</a> <a id="3670" class="Symbol">_</a> <a id="3672" href="ValueSep.StrongHoareLogic.html#3672" class="Bound">H</a> <a id="3674" href="ValueSep.StrongHoareLogic.html#3674" class="Bound">PlR</a> <a id="3678" class="Symbol">=</a> <a id="3680" href="ValueSep.StrongHoareLogic.html#3262" class="InductiveConstructor Operator">mkℝ</a> <a id="3684" href="ValueSep.StrongHoareLogic.html#2231" class="Function">strengthen</a> <a id="3695" class="Symbol">{</a><a id="3696" class="Argument">l</a> <a id="3698" class="Symbol">=</a> <a id="3700" href="ValueSep.StrongHoareLogic.html#3667" class="Bound">l</a><a id="3701" class="Symbol">}</a> <a id="3703" href="ValueSep.StrongHoareLogic.html#3672" class="Bound">H</a> <a id="3705" class="Symbol">(</a><a id="3706" href="ValueSep.StrongHoareLogic.html#3277" class="Field Operator">begin</a> <a id="3712" href="ValueSep.StrongHoareLogic.html#3674" class="Bound">PlR</a><a id="3715" class="Symbol">)</a>

  <a id="3720" class="Comment">-- step syntax</a>
  <a id="HoareReasoning._~⟨_∶-_⟩_"></a><a id="3737" href="ValueSep.StrongHoareLogic.html#3737" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="3747" class="Symbol">:</a> <a id="3749" class="Symbol">∀</a> <a id="3751" href="ValueSep.StrongHoareLogic.html#3751" class="Bound">P′</a> <a id="3754" href="ValueSep.StrongHoareLogic.html#3754" class="Bound">t</a> <a id="3756" class="Symbol">→</a> <a id="3758" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">ℝ⟨</a> <a id="3761" href="ValueSep.StrongHoareLogic.html#3751" class="Bound">P′</a> <a id="3764" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a> <a id="3766" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="3768" href="ValueSep.StrongHoareLogic.html#3754" class="Bound">t</a> <a id="3770" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="3772" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟨</a> <a id="3774" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="3776" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a> <a id="3778" class="Symbol">→</a> <a id="3780" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">ℝ⟨</a> <a id="3783" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="3785" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a> <a id="3787" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="3789" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟨</a> <a id="3791" href="ValueSep.StrongHoareLogic.html#617" class="Generalizable">R</a> <a id="3793" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a> <a id="3795" class="Symbol">→</a> <a id="3797" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">ℝ⟨</a> <a id="3800" href="ValueSep.StrongHoareLogic.html#3751" class="Bound">P′</a> <a id="3803" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a> <a id="3805" href="ValueSep.StrongHoareLogic.html#3754" class="Bound">t</a> <a id="3807" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3809" href="ValueSep.Ledger.html#1201" class="Generalizable">l</a> <a id="3811" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟨</a> <a id="3813" href="ValueSep.StrongHoareLogic.html#617" class="Generalizable">R</a> <a id="3815" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a>
  <a id="3819" href="ValueSep.StrongHoareLogic.html#3737" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="3829" class="Symbol">{</a><a id="3830" class="Argument">l</a> <a id="3832" class="Symbol">=</a> <a id="3834" href="ValueSep.StrongHoareLogic.html#3834" class="Bound">l</a><a id="3835" class="Symbol">}</a> <a id="3837" class="Symbol">{</a><a id="3838" class="Argument">R</a> <a id="3840" class="Symbol">=</a> <a id="3842" href="ValueSep.StrongHoareLogic.html#3842" class="Bound">R</a><a id="3843" class="Symbol">}</a> <a id="3845" href="ValueSep.StrongHoareLogic.html#3845" class="Bound">P′</a> <a id="3848" href="ValueSep.StrongHoareLogic.html#3848" class="Bound">t</a> <a id="3850" href="ValueSep.StrongHoareLogic.html#3850" class="Bound">H</a> <a id="3852" href="ValueSep.StrongHoareLogic.html#3852" class="Bound">PlR</a> <a id="3856" class="Symbol">=</a>
    <a id="3862" class="Comment">-- P′ ~⟪ begin H ⟩ (mkℝ (λ {x} Px → hoare-step {l = l} {t = t} (begin PlR) {_} Px))</a>
    <a id="3950" href="ValueSep.StrongHoareLogic.html#3262" class="InductiveConstructor Operator">mkℝ</a> <a id="3954" href="ValueSep.StrongHoareLogic.html#3973" class="Function">go</a>
    <a id="3961" class="Keyword">where</a>
      <a id="3973" href="ValueSep.StrongHoareLogic.html#3973" class="Function">go</a> <a id="3976" class="Symbol">:</a> <a id="3978" href="ValueSep.StrongHoareLogic.html#3845" class="Bound">P′</a> <a id="3981" href="Prelude.General.html#1347" class="Function Operator">⊢</a> <a id="3983" href="ValueSep.StrongHoareLogic.html#3842" class="Bound">R</a> <a id="3985" href="ValueSep.StrongHoareLogic.html#944" class="Function Operator">↑∘</a> <a id="3988" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="3990" href="ValueSep.StrongHoareLogic.html#3848" class="Bound">t</a> <a id="3992" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3994" href="ValueSep.StrongHoareLogic.html#3834" class="Bound">l</a> <a id="3996" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a>
      <a id="4004" href="ValueSep.StrongHoareLogic.html#3973" class="Function">go</a> <a id="4007" class="Symbol">{</a><a id="4008" href="ValueSep.StrongHoareLogic.html#4008" class="Bound">s</a><a id="4009" class="Symbol">}</a> <a id="4011" href="ValueSep.StrongHoareLogic.html#4011" class="Bound">P′s</a> <a id="4015" class="Keyword">with</a> <a id="4020" href="ValueSep.Ledger.html#1573" class="Field Operator">⟦</a> <a id="4022" href="ValueSep.StrongHoareLogic.html#3848" class="Bound">t</a> <a id="4024" href="ValueSep.Ledger.html#1573" class="Field Operator">⟧</a> <a id="4026" href="ValueSep.StrongHoareLogic.html#4008" class="Bound">s</a> <a id="4028" class="Symbol">|</a> <a id="4030" class="Symbol">(</a><a id="4031" href="ValueSep.StrongHoareLogic.html#3277" class="Field Operator">begin</a> <a id="4037" href="ValueSep.StrongHoareLogic.html#3850" class="Bound">H</a><a id="4038" class="Symbol">)</a> <a id="4040" href="ValueSep.StrongHoareLogic.html#4011" class="Bound">P′s</a>
      <a id="4050" class="Symbol">...</a> <a id="4054" class="Symbol">|</a> <a id="4056" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="4061" class="Symbol">_</a> <a id="4063" class="Symbol">|</a> <a id="4065" href="ValueSep.StrongHoareLogic.html#1033" class="InductiveConstructor">ret↑</a> <a id="4070" href="ValueSep.StrongHoareLogic.html#4070" class="Bound">Ps′</a> <a id="4074" class="Symbol">=</a> <a id="4076" class="Symbol">(</a><a id="4077" href="ValueSep.StrongHoareLogic.html#3277" class="Field Operator">begin</a> <a id="4083" href="ValueSep.StrongHoareLogic.html#3852" class="Bound">PlR</a><a id="4086" class="Symbol">)</a> <a id="4088" href="ValueSep.StrongHoareLogic.html#4070" class="Bound">Ps′</a>

  <a id="4095" class="Comment">-- step′ syntax</a>
  <a id="HoareReasoning._~⟨_∶-_⟩++_"></a><a id="4113" href="ValueSep.StrongHoareLogic.html#4113" class="Function Operator">_~⟨_∶-_⟩++_</a> <a id="4125" class="Symbol">:</a> <a id="4127" class="Symbol">∀</a> <a id="4129" href="ValueSep.StrongHoareLogic.html#4129" class="Bound">P′</a> <a id="4132" class="Symbol">→</a> <a id="4134" class="Symbol">(</a><a id="4135" href="ValueSep.StrongHoareLogic.html#4135" class="Bound">l</a> <a id="4137" class="Symbol">:</a> <a id="4139" href="ValueSep.Ledger.html#1101" class="Function">L</a><a id="4140" class="Symbol">)</a> <a id="4142" class="Symbol">→</a> <a id="4144" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">ℝ⟨</a> <a id="4147" href="ValueSep.StrongHoareLogic.html#4129" class="Bound">P′</a> <a id="4150" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a> <a id="4152" href="ValueSep.StrongHoareLogic.html#4135" class="Bound">l</a> <a id="4154" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟨</a> <a id="4156" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="4158" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a> <a id="4160" class="Symbol">→</a> <a id="4162" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">ℝ⟨</a> <a id="4165" href="ValueSep.StrongHoareLogic.html#595" class="Generalizable">P</a> <a id="4167" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a> <a id="4169" href="ValueSep.Ledger.html#1203" class="Generalizable">l′</a> <a id="4172" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟨</a> <a id="4174" href="ValueSep.StrongHoareLogic.html#617" class="Generalizable">R</a> <a id="4176" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a> <a id="4178" class="Symbol">→</a> <a id="4180" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">ℝ⟨</a> <a id="4183" href="ValueSep.StrongHoareLogic.html#4129" class="Bound">P′</a> <a id="4186" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a> <a id="4188" href="ValueSep.StrongHoareLogic.html#4135" class="Bound">l</a> <a id="4190" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="4193" href="ValueSep.Ledger.html#1203" class="Generalizable">l′</a> <a id="4196" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟨</a> <a id="4198" href="ValueSep.StrongHoareLogic.html#617" class="Generalizable">R</a> <a id="4200" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a>
  <a id="4204" href="ValueSep.StrongHoareLogic.html#4204" class="Bound">P′</a> <a id="4207" href="ValueSep.StrongHoareLogic.html#4113" class="Function Operator">~⟨</a> <a id="4210" href="ValueSep.StrongHoareLogic.html#4210" class="Bound">l</a> <a id="4212" href="ValueSep.StrongHoareLogic.html#4113" class="Function Operator">∶-</a> <a id="4215" href="ValueSep.StrongHoareLogic.html#4215" class="Bound">H</a> <a id="4217" href="ValueSep.StrongHoareLogic.html#4113" class="Function Operator">⟩++</a> <a id="4221" href="ValueSep.StrongHoareLogic.html#4221" class="Bound">PlR</a> <a id="4225" class="Symbol">=</a> <a id="4227" href="ValueSep.StrongHoareLogic.html#3262" class="InductiveConstructor Operator">mkℝ</a> <a id="4231" href="ValueSep.StrongHoareLogic.html#2585" class="Function">hoare-step′</a> <a id="4243" class="Symbol">{</a><a id="4244" class="Argument">l</a> <a id="4246" class="Symbol">=</a> <a id="4248" href="ValueSep.StrongHoareLogic.html#4210" class="Bound">l</a><a id="4249" class="Symbol">}</a> <a id="4251" class="Symbol">(</a><a id="4252" href="ValueSep.StrongHoareLogic.html#3277" class="Field Operator">begin</a> <a id="4258" href="ValueSep.StrongHoareLogic.html#4215" class="Bound">H</a><a id="4259" class="Symbol">)</a> <a id="4261" class="Symbol">(</a><a id="4262" href="ValueSep.StrongHoareLogic.html#3277" class="Field Operator">begin</a> <a id="4268" href="ValueSep.StrongHoareLogic.html#4221" class="Bound">PlR</a><a id="4271" class="Symbol">)</a>

  <a id="HoareReasoning._∎"></a><a id="4276" href="ValueSep.StrongHoareLogic.html#4276" class="Function Operator">_∎</a> <a id="4279" class="Symbol">:</a> <a id="4281" class="Symbol">∀</a> <a id="4283" href="ValueSep.StrongHoareLogic.html#4283" class="Bound">P</a> <a id="4285" class="Symbol">→</a> <a id="4287" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">ℝ⟨</a> <a id="4290" href="ValueSep.StrongHoareLogic.html#4283" class="Bound">P</a> <a id="4292" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a> <a id="4294" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="4297" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟨</a> <a id="4299" href="ValueSep.StrongHoareLogic.html#4283" class="Bound">P</a> <a id="4301" href="ValueSep.StrongHoareLogic.html#3185" class="Record Operator">⟩</a>
  <a id="4305" href="ValueSep.StrongHoareLogic.html#4305" class="Bound">p</a> <a id="4307" href="ValueSep.StrongHoareLogic.html#4276" class="Function Operator">∎</a> <a id="4309" class="Symbol">=</a> <a id="4311" href="ValueSep.StrongHoareLogic.html#3262" class="InductiveConstructor Operator">mkℝ</a> <a id="4315" href="ValueSep.StrongHoareLogic.html#1183" class="Function">hoare-base</a> <a id="4326" class="Symbol">{</a><a id="4327" class="Argument">P</a> <a id="4329" class="Symbol">=</a> <a id="4331" href="ValueSep.StrongHoareLogic.html#4305" class="Bound">p</a><a id="4332" class="Symbol">}</a>
</pre></body></html>