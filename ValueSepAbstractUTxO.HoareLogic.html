<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>ValueSepAbstractUTxO.HoareLogic</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-------------------------</a>
<a id="27" class="Comment">-- ** Axiomatic semantics</a>

<a id="54" class="Keyword">open</a> <a id="59" class="Keyword">import</a> <a id="66" href="Prelude.Init.html" class="Module">Prelude.Init</a>
<a id="79" class="Keyword">open</a> <a id="84" class="Keyword">import</a> <a id="91" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="107" class="Keyword">open</a> <a id="112" class="Keyword">import</a> <a id="119" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="133" class="Keyword">open</a> <a id="138" class="Keyword">import</a> <a id="145" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="163" class="Keyword">open</a> <a id="168" class="Keyword">import</a> <a id="175" href="Prelude.Semigroup.html" class="Module">Prelude.Semigroup</a>
<a id="193" class="Keyword">open</a> <a id="198" class="Keyword">import</a> <a id="205" href="Prelude.Monoid.html" class="Module">Prelude.Monoid</a>
<a id="220" class="Keyword">open</a> <a id="225" class="Keyword">import</a> <a id="232" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="255" class="Keyword">open</a> <a id="260" class="Keyword">import</a> <a id="267" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="279" class="Keyword">open</a> <a id="284" class="Keyword">import</a> <a id="291" href="Prelude.Monad.html" class="Module">Prelude.Monad</a>

<a id="306" class="Keyword">module</a> <a id="313" href="ValueSepAbstractUTxO.HoareLogic.html" class="Module">ValueSepAbstractUTxO.HoareLogic</a> <a id="345" class="Keyword">where</a>

<a id="352" class="Keyword">open</a> <a id="357" class="Keyword">import</a> <a id="364" href="Prelude.Bags.html" class="Module">Prelude.Bags</a>
<a id="377" class="Keyword">open</a> <a id="382" class="Keyword">import</a> <a id="389" href="ValueSepAbstractUTxO.UTxO.html" class="Module">ValueSepAbstractUTxO.UTxO</a>
<a id="415" class="Keyword">open</a> <a id="420" class="Keyword">import</a> <a id="427" href="ValueSepAbstractUTxO.Ledger.html" class="Module">ValueSepAbstractUTxO.Ledger</a>

<a id="456" class="Comment">-- ** Shallow embedding of logic formulas/propositions.</a>
<a id="Assertion"></a><a id="512" href="ValueSepAbstractUTxO.HoareLogic.html#512" class="Function">Assertion</a> <a id="522" class="Symbol">=</a> <a id="524" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="530" href="ValueSepAbstractUTxO.UTxO.html#2079" class="Function">S</a>

<a id="533" class="Keyword">variable</a> <a id="542" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="544" href="ValueSepAbstractUTxO.HoareLogic.html#544" class="Generalizable">P′</a> <a id="547" href="ValueSepAbstractUTxO.HoareLogic.html#547" class="Generalizable">P₁</a> <a id="550" href="ValueSepAbstractUTxO.HoareLogic.html#550" class="Generalizable">P₂</a> <a id="553" href="ValueSepAbstractUTxO.HoareLogic.html#553" class="Generalizable">Q</a> <a id="555" href="ValueSepAbstractUTxO.HoareLogic.html#555" class="Generalizable">Q′</a> <a id="558" href="ValueSepAbstractUTxO.HoareLogic.html#558" class="Generalizable">Q₁</a> <a id="561" href="ValueSepAbstractUTxO.HoareLogic.html#561" class="Generalizable">Q₂</a> <a id="564" href="ValueSepAbstractUTxO.HoareLogic.html#564" class="Generalizable">R</a> <a id="566" class="Symbol">:</a> <a id="568" href="ValueSepAbstractUTxO.HoareLogic.html#512" class="Function">Assertion</a>

<a id="579" class="Keyword">private</a> <a id="587" class="Keyword">variable</a> <a id="596" href="ValueSepAbstractUTxO.HoareLogic.html#596" class="Generalizable">K</a> <a id="598" href="ValueSepAbstractUTxO.HoareLogic.html#598" class="Generalizable">V₁</a> <a id="601" href="ValueSepAbstractUTxO.HoareLogic.html#601" class="Generalizable">V₂</a> <a id="604" class="Symbol">:</a> <a id="606" href="Agda.Primitive.html#326" class="Primitive">Set</a>

<a id="emp"></a><a id="611" href="ValueSepAbstractUTxO.HoareLogic.html#611" class="Function">emp</a> <a id="615" class="Symbol">:</a> <a id="617" href="ValueSepAbstractUTxO.HoareLogic.html#512" class="Function">Assertion</a>
<a id="627" href="ValueSepAbstractUTxO.HoareLogic.html#611" class="Function">emp</a> <a id="631" href="ValueSepAbstractUTxO.HoareLogic.html#631" class="Bound">m</a> <a id="633" class="Symbol">=</a> <a id="635" class="Symbol">∀</a> <a id="637" href="ValueSepAbstractUTxO.HoareLogic.html#637" class="Bound">k</a> <a id="639" class="Symbol">→</a> <a id="641" href="ValueSepAbstractUTxO.HoareLogic.html#637" class="Bound">k</a> <a id="643" href="Prelude.Bags.AsLists.html#1551" class="Function Operator">∉ˢ</a> <a id="646" href="ValueSepAbstractUTxO.HoareLogic.html#631" class="Bound">m</a>

<a id="_∗_"></a><a id="649" href="ValueSepAbstractUTxO.HoareLogic.html#649" class="Function Operator">_∗_</a> <a id="653" class="Symbol">:</a> <a id="655" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="659" href="ValueSepAbstractUTxO.HoareLogic.html#512" class="Function">Assertion</a>
<a id="669" class="Symbol">(</a><a id="670" href="ValueSepAbstractUTxO.HoareLogic.html#670" class="Bound">P</a> <a id="672" href="ValueSepAbstractUTxO.HoareLogic.html#649" class="Function Operator">∗</a> <a id="674" href="ValueSepAbstractUTxO.HoareLogic.html#674" class="Bound">Q</a><a id="675" class="Symbol">)</a> <a id="677" href="ValueSepAbstractUTxO.HoareLogic.html#677" class="Bound">s</a> <a id="679" class="Symbol">=</a> <a id="681" href="Data.Product.html#1369" class="Function">∃</a> <a id="683" class="Symbol">λ</a> <a id="685" href="ValueSepAbstractUTxO.HoareLogic.html#685" class="Bound">s₁</a> <a id="688" class="Symbol">→</a> <a id="690" href="Data.Product.html#1369" class="Function">∃</a> <a id="692" class="Symbol">λ</a> <a id="694" href="ValueSepAbstractUTxO.HoareLogic.html#694" class="Bound">s₂</a> <a id="697" class="Symbol">→</a> <a id="699" href="Prelude.Bags.AsLists.html#4431" class="Function Operator">⟨</a> <a id="701" href="ValueSepAbstractUTxO.HoareLogic.html#685" class="Bound">s₁</a> <a id="704" href="Prelude.Bags.AsLists.html#4431" class="Function Operator">◇</a> <a id="706" href="ValueSepAbstractUTxO.HoareLogic.html#694" class="Bound">s₂</a> <a id="709" href="Prelude.Bags.AsLists.html#4431" class="Function Operator">⟩≡</a> <a id="712" href="ValueSepAbstractUTxO.HoareLogic.html#677" class="Bound">s</a> <a id="714" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="716" href="ValueSepAbstractUTxO.HoareLogic.html#670" class="Bound">P</a> <a id="718" href="ValueSepAbstractUTxO.HoareLogic.html#685" class="Bound">s₁</a> <a id="721" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="723" href="ValueSepAbstractUTxO.HoareLogic.html#674" class="Bound">Q</a> <a id="725" href="ValueSepAbstractUTxO.HoareLogic.html#694" class="Bound">s₂</a>

<a id="_↦_"></a><a id="729" href="ValueSepAbstractUTxO.HoareLogic.html#729" class="Function Operator">_↦_</a> <a id="733" class="Symbol">:</a> <a id="735" href="ValueSepAbstractUTxO.UTxO.html#664" class="Function">Address</a> <a id="743" class="Symbol">→</a> <a id="745" href="ValueSepAbstractUTxO.UTxO.html#640" class="Function">Value</a> <a id="751" class="Symbol">→</a> <a id="753" href="ValueSepAbstractUTxO.HoareLogic.html#512" class="Function">Assertion</a>
<a id="763" href="ValueSepAbstractUTxO.HoareLogic.html#763" class="Bound">f</a> <a id="765" href="ValueSepAbstractUTxO.HoareLogic.html#729" class="Function Operator">↦</a> <a id="767" href="ValueSepAbstractUTxO.HoareLogic.html#767" class="Bound">v</a> <a id="769" class="Symbol">=</a> <a id="771" class="Symbol">(</a><a id="772" href="ValueSepAbstractUTxO.HoareLogic.html#763" class="Bound">f</a> <a id="774" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="776" href="ValueSepAbstractUTxO.HoareLogic.html#767" class="Bound">v</a><a id="777" class="Symbol">)</a> <a id="779" href="Prelude.Bags.AsLists.html#1546" class="Function Operator">∈ˢ_</a>

<a id="784" class="Keyword">infixr</a> <a id="791" class="Number">10</a> <a id="794" href="ValueSepAbstractUTxO.HoareLogic.html#649" class="Function Operator">_∗_</a>
<a id="798" class="Keyword">infix</a>  <a id="805" class="Number">11</a> <a id="808" href="ValueSepAbstractUTxO.HoareLogic.html#729" class="Function Operator">_↦_</a>

<a id="813" class="Comment">-- ** Hoare triples.</a>
<a id="weak↑"></a><a id="834" href="ValueSepAbstractUTxO.HoareLogic.html#834" class="Function">weak↑</a> <a id="strong↑"></a><a id="840" href="ValueSepAbstractUTxO.HoareLogic.html#840" class="Function">strong↑</a> <a id="848" class="Symbol">:</a> <a id="850" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="856" href="ValueSepAbstractUTxO.UTxO.html#2079" class="Function">S</a> <a id="858" class="Symbol">→</a> <a id="860" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="866" class="Symbol">(</a><a id="867" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="873" href="ValueSepAbstractUTxO.UTxO.html#2079" class="Function">S</a><a id="874" class="Symbol">)</a>
<a id="876" href="ValueSepAbstractUTxO.HoareLogic.html#834" class="Function">weak↑</a>   <a id="884" class="Symbol">=</a> <a id="886" href="Data.Maybe.Relation.Unary.All.html#943" class="Datatype">M.All.All</a>
<a id="896" href="ValueSepAbstractUTxO.HoareLogic.html#840" class="Function">strong↑</a> <a id="904" class="Symbol">=</a> <a id="906" href="Data.Maybe.Relation.Unary.Any.html#830" class="Datatype">M.Any.Any</a>

<a id="917" class="Keyword">infixl</a> <a id="924" class="Number">4</a> <a id="926" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">_↑∘_</a>
<a id="_↑∘_"></a><a id="931" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">_↑∘_</a> <a id="936" class="Symbol">:</a> <a id="938" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="944" href="ValueSepAbstractUTxO.UTxO.html#2079" class="Function">S</a> <a id="946" class="Symbol">→</a> <a id="948" class="Symbol">(</a><a id="949" href="ValueSepAbstractUTxO.UTxO.html#2079" class="Function">S</a> <a id="951" class="Symbol">→</a> <a id="953" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="959" href="ValueSepAbstractUTxO.UTxO.html#2079" class="Function">S</a><a id="960" class="Symbol">)</a> <a id="962" class="Symbol">→</a> <a id="964" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="970" href="ValueSepAbstractUTxO.UTxO.html#2079" class="Function">S</a>
<a id="972" href="ValueSepAbstractUTxO.HoareLogic.html#972" class="Bound">P</a> <a id="974" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">↑∘</a> <a id="977" href="ValueSepAbstractUTxO.HoareLogic.html#977" class="Bound">f</a> <a id="979" class="Symbol">=</a> <a id="981" href="ValueSepAbstractUTxO.HoareLogic.html#840" class="Function">strong↑</a> <a id="989" href="ValueSepAbstractUTxO.HoareLogic.html#972" class="Bound">P</a> <a id="991" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="993" href="ValueSepAbstractUTxO.HoareLogic.html#977" class="Bound">f</a>

<a id="lift↑"></a><a id="996" href="ValueSepAbstractUTxO.HoareLogic.html#996" class="Function">lift↑</a> <a id="1002" class="Symbol">=</a> <a id="1004" href="ValueSepAbstractUTxO.HoareLogic.html#840" class="Function">strong↑</a>
<a id="1012" class="Keyword">pattern</a> <a id="ret↑"></a><a id="1020" href="ValueSepAbstractUTxO.HoareLogic.html#1020" class="InductiveConstructor">ret↑</a> <a id="1025" href="ValueSepAbstractUTxO.HoareLogic.html#1040" class="Bound">x</a> <a id="1027" class="Symbol">=</a> <a id="1029" href="Data.Maybe.Relation.Unary.Any.html#900" class="InductiveConstructor">M.Any.just</a> <a id="1040" href="ValueSepAbstractUTxO.HoareLogic.html#1040" class="Bound">x</a>

<a id="map↑"></a><a id="1043" href="ValueSepAbstractUTxO.HoareLogic.html#1043" class="Function">map↑</a> <a id="1048" class="Symbol">:</a> <a id="1050" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="1052" href="Relation.Unary.html#1742" class="Function Operator">⊆¹</a> <a id="1055" href="ValueSepAbstractUTxO.HoareLogic.html#553" class="Generalizable">Q</a> <a id="1057" class="Symbol">→</a> <a id="1059" href="ValueSepAbstractUTxO.HoareLogic.html#996" class="Function">lift↑</a> <a id="1065" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="1067" href="Relation.Unary.html#1742" class="Function Operator">⊆¹</a> <a id="1070" href="ValueSepAbstractUTxO.HoareLogic.html#996" class="Function">lift↑</a> <a id="1076" href="ValueSepAbstractUTxO.HoareLogic.html#553" class="Generalizable">Q</a>
<a id="1078" href="ValueSepAbstractUTxO.HoareLogic.html#1043" class="Function">map↑</a> <a id="1083" class="Symbol">=</a> <a id="1085" href="Data.Maybe.Relation.Unary.Any.html#1252" class="Function">M.Any.map</a>

<a id="⟨_⟩_⟨_⟩"></a><a id="1096" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨_⟩_⟨_⟩</a> <a id="1104" class="Symbol">:</a> <a id="1106" href="ValueSepAbstractUTxO.HoareLogic.html#512" class="Function">Assertion</a> <a id="1116" class="Symbol">→</a> <a id="1118" href="ValueSepAbstractUTxO.UTxO.html#2013" class="Function">L</a> <a id="1120" class="Symbol">→</a> <a id="1122" href="ValueSepAbstractUTxO.HoareLogic.html#512" class="Function">Assertion</a> <a id="1132" class="Symbol">→</a> <a id="1134" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="1138" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="1140" href="ValueSepAbstractUTxO.HoareLogic.html#1140" class="Bound">P</a> <a id="1142" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="1144" href="ValueSepAbstractUTxO.HoareLogic.html#1144" class="Bound">l</a> <a id="1146" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="1148" href="ValueSepAbstractUTxO.HoareLogic.html#1148" class="Bound">Q</a> <a id="1150" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="1152" class="Symbol">=</a> <a id="1154" href="ValueSepAbstractUTxO.HoareLogic.html#1140" class="Bound">P</a> <a id="1156" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1158" href="ValueSepAbstractUTxO.HoareLogic.html#1148" class="Bound">Q</a> <a id="1160" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">↑∘</a> <a id="1163" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟦</a> <a id="1165" href="ValueSepAbstractUTxO.HoareLogic.html#1144" class="Bound">l</a> <a id="1167" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟧</a>

<a id="hoare-base"></a><a id="1170" href="ValueSepAbstractUTxO.HoareLogic.html#1170" class="Function">hoare-base</a> <a id="1181" class="Symbol">:</a>
  <a id="1185" href="Prelude.InferenceRules.html#47384" class="Function Operator">──────────────</a>
  <a id="1202" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="1204" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="1206" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="1208" class="InductiveConstructor">[]</a> <a id="1211" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="1213" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="1215" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a>
<a id="1217" href="ValueSepAbstractUTxO.HoareLogic.html#1170" class="Function">hoare-base</a> <a id="1228" class="Symbol">=</a> <a id="1230" href="ValueSepAbstractUTxO.HoareLogic.html#1020" class="InductiveConstructor">ret↑</a>

<a id="1236" class="Keyword">module</a> <a id="1243" href="ValueSepAbstractUTxO.HoareLogic.html#1243" class="Module">_</a> <a id="1245" class="Symbol">(</a><a id="1246" href="ValueSepAbstractUTxO.HoareLogic.html#1246" class="Bound">f</a> <a id="1248" class="Symbol">:</a> <a id="1250" href="ValueSepAbstractUTxO.UTxO.html#2079" class="Function">S</a> <a id="1252" class="Symbol">→</a> <a id="1254" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1260" href="ValueSepAbstractUTxO.UTxO.html#2079" class="Function">S</a><a id="1261" class="Symbol">)</a> <a id="1263" class="Keyword">where</a>
  <a id="1271" href="ValueSepAbstractUTxO.HoareLogic.html#1271" class="Function">lift∘&gt;&gt;=</a> <a id="1280" class="Symbol">:</a> <a id="1282" class="Symbol">∀</a> <a id="1284" class="Symbol">{</a><a id="1285" href="ValueSepAbstractUTxO.HoareLogic.html#1285" class="Bound">ms</a><a id="1287" class="Symbol">}</a>
    <a id="1293" class="Symbol">→</a> <a id="1295" href="ValueSepAbstractUTxO.HoareLogic.html#996" class="Function">lift↑</a> <a id="1301" class="Symbol">(</a><a id="1302" href="ValueSepAbstractUTxO.HoareLogic.html#996" class="Function">lift↑</a> <a id="1308" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="1310" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1312" href="ValueSepAbstractUTxO.HoareLogic.html#1246" class="Bound">f</a><a id="1313" class="Symbol">)</a> <a id="1315" href="ValueSepAbstractUTxO.HoareLogic.html#1285" class="Bound">ms</a>
    <a id="1322" class="Symbol">→</a> <a id="1324" href="ValueSepAbstractUTxO.HoareLogic.html#996" class="Function">lift↑</a> <a id="1330" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="1332" class="Symbol">(</a><a id="1333" href="ValueSepAbstractUTxO.HoareLogic.html#1285" class="Bound">ms</a> <a id="1336" href="Prelude.Monad.html#569" class="Field Operator">&gt;&gt;=</a> <a id="1340" href="ValueSepAbstractUTxO.HoareLogic.html#1246" class="Bound">f</a><a id="1341" class="Symbol">)</a>
  <a id="1345" href="ValueSepAbstractUTxO.HoareLogic.html#1271" class="Function">lift∘&gt;&gt;=</a> <a id="1354" class="Symbol">(</a><a id="1355" href="ValueSepAbstractUTxO.HoareLogic.html#1020" class="InductiveConstructor">ret↑</a> <a id="1360" href="ValueSepAbstractUTxO.HoareLogic.html#1360" class="Bound">p</a><a id="1361" class="Symbol">)</a> <a id="1363" class="Symbol">=</a> <a id="1365" href="ValueSepAbstractUTxO.HoareLogic.html#1360" class="Bound">p</a>

  <a id="1370" href="ValueSepAbstractUTxO.HoareLogic.html#1370" class="Function">lift∘&gt;&gt;=˘</a> <a id="1380" class="Symbol">:</a> <a id="1382" class="Symbol">∀</a> <a id="1384" class="Symbol">{</a><a id="1385" href="ValueSepAbstractUTxO.HoareLogic.html#1385" class="Bound">ms</a> <a id="1388" class="Symbol">:</a> <a id="1390" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1396" href="ValueSepAbstractUTxO.UTxO.html#2079" class="Function">S</a><a id="1397" class="Symbol">}</a>
    <a id="1403" class="Symbol">→</a> <a id="1405" href="ValueSepAbstractUTxO.HoareLogic.html#996" class="Function">lift↑</a> <a id="1411" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="1413" class="Symbol">(</a><a id="1414" href="ValueSepAbstractUTxO.HoareLogic.html#1385" class="Bound">ms</a> <a id="1417" href="Prelude.Monad.html#569" class="Field Operator">&gt;&gt;=</a> <a id="1421" href="ValueSepAbstractUTxO.HoareLogic.html#1246" class="Bound">f</a><a id="1422" class="Symbol">)</a>
    <a id="1428" class="Symbol">→</a> <a id="1430" href="ValueSepAbstractUTxO.HoareLogic.html#996" class="Function">lift↑</a> <a id="1436" class="Symbol">(</a><a id="1437" href="ValueSepAbstractUTxO.HoareLogic.html#996" class="Function">lift↑</a> <a id="1443" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="1445" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1447" href="ValueSepAbstractUTxO.HoareLogic.html#1246" class="Bound">f</a><a id="1448" class="Symbol">)</a> <a id="1450" href="ValueSepAbstractUTxO.HoareLogic.html#1385" class="Bound">ms</a>
  <a id="1455" href="ValueSepAbstractUTxO.HoareLogic.html#1370" class="Function">lift∘&gt;&gt;=˘</a> <a id="1465" class="Symbol">{</a><a id="1466" class="Argument">ms</a> <a id="1469" class="Symbol">=</a> <a id="1471" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="1476" href="ValueSepAbstractUTxO.HoareLogic.html#1476" class="Bound">s</a><a id="1477" class="Symbol">}</a> <a id="1479" href="ValueSepAbstractUTxO.HoareLogic.html#1479" class="Bound">p</a> <a id="1481" class="Symbol">=</a> <a id="1483" href="ValueSepAbstractUTxO.HoareLogic.html#1020" class="InductiveConstructor">ret↑</a> <a id="1488" href="ValueSepAbstractUTxO.HoareLogic.html#1479" class="Bound">p</a>

  <a id="1493" href="ValueSepAbstractUTxO.HoareLogic.html#1493" class="Function">lift∘=&lt;&lt;</a>  <a id="1503" class="Symbol">=</a> <a id="1505" href="ValueSepAbstractUTxO.HoareLogic.html#1271" class="Function">lift∘&gt;&gt;=</a>
  <a id="1516" href="ValueSepAbstractUTxO.HoareLogic.html#1516" class="Function">lift∘=&lt;&lt;˘</a> <a id="1526" class="Symbol">=</a> <a id="1528" href="ValueSepAbstractUTxO.HoareLogic.html#1370" class="Function">lift∘&gt;&gt;=˘</a>

<a id="1539" class="Keyword">module</a> <a id="1546" href="ValueSepAbstractUTxO.HoareLogic.html#1546" class="Module">_</a> <a id="1548" class="Symbol">(</a><a id="1549" href="ValueSepAbstractUTxO.HoareLogic.html#1549" class="Bound">f</a> <a id="1551" href="ValueSepAbstractUTxO.HoareLogic.html#1551" class="Bound">g</a> <a id="1553" class="Symbol">:</a> <a id="1555" href="ValueSepAbstractUTxO.UTxO.html#2079" class="Function">S</a> <a id="1557" class="Symbol">→</a> <a id="1559" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1565" href="ValueSepAbstractUTxO.UTxO.html#2079" class="Function">S</a><a id="1566" class="Symbol">)</a> <a id="1568" class="Keyword">where</a>
  <a id="1576" href="ValueSepAbstractUTxO.HoareLogic.html#1576" class="Function">lift²∘&gt;=&gt;</a> <a id="1586" class="Symbol">:</a> <a id="1588" class="Symbol">(</a><a id="1589" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="1591" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">↑∘</a> <a id="1594" href="ValueSepAbstractUTxO.HoareLogic.html#1551" class="Bound">g</a> <a id="1596" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">↑∘</a> <a id="1599" href="ValueSepAbstractUTxO.HoareLogic.html#1549" class="Bound">f</a><a id="1600" class="Symbol">)</a> <a id="1602" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1604" class="Symbol">(</a><a id="1605" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="1607" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">↑∘</a> <a id="1610" class="Symbol">(</a><a id="1611" href="ValueSepAbstractUTxO.HoareLogic.html#1549" class="Bound">f</a> <a id="1613" href="Prelude.Monad.html#754" class="Function Operator">&gt;=&gt;</a> <a id="1617" href="ValueSepAbstractUTxO.HoareLogic.html#1551" class="Bound">g</a><a id="1618" class="Symbol">))</a>
  <a id="1623" href="ValueSepAbstractUTxO.HoareLogic.html#1576" class="Function">lift²∘&gt;=&gt;</a> <a id="1633" class="Symbol">=</a> <a id="1635" href="ValueSepAbstractUTxO.HoareLogic.html#1493" class="Function">lift∘=&lt;&lt;</a> <a id="1644" class="Symbol">_</a>

  <a id="1649" href="ValueSepAbstractUTxO.HoareLogic.html#1649" class="Function">lift²∘&gt;=&gt;˘</a> <a id="1660" class="Symbol">:</a> <a id="1662" class="Symbol">(</a><a id="1663" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="1665" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">↑∘</a> <a id="1668" class="Symbol">(</a><a id="1669" href="ValueSepAbstractUTxO.HoareLogic.html#1549" class="Bound">f</a> <a id="1671" href="Prelude.Monad.html#754" class="Function Operator">&gt;=&gt;</a> <a id="1675" href="ValueSepAbstractUTxO.HoareLogic.html#1551" class="Bound">g</a><a id="1676" class="Symbol">))</a> <a id="1679" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1681" class="Symbol">(</a><a id="1682" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="1684" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">↑∘</a> <a id="1687" href="ValueSepAbstractUTxO.HoareLogic.html#1551" class="Bound">g</a> <a id="1689" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">↑∘</a> <a id="1692" href="ValueSepAbstractUTxO.HoareLogic.html#1549" class="Bound">f</a><a id="1693" class="Symbol">)</a>
  <a id="1697" href="ValueSepAbstractUTxO.HoareLogic.html#1649" class="Function">lift²∘&gt;=&gt;˘</a> <a id="1708" class="Symbol">=</a> <a id="1710" href="ValueSepAbstractUTxO.HoareLogic.html#1516" class="Function">lift∘=&lt;&lt;˘</a> <a id="1720" class="Symbol">_</a>

<a id="hoare-step"></a><a id="1723" href="ValueSepAbstractUTxO.HoareLogic.html#1723" class="Function">hoare-step</a> <a id="1734" class="Symbol">:</a>
  <a id="1738" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="1740" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="1742" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="1744" href="ValueSepAbstractUTxO.Ledger.html#622" class="Generalizable">l</a> <a id="1746" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="1748" href="ValueSepAbstractUTxO.HoareLogic.html#553" class="Generalizable">Q</a> <a id="1750" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a>
  <a id="1754" href="Prelude.InferenceRules.html#13944" class="Function Operator">──────────────────────────</a>
  <a id="1783" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="1785" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="1787" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">↑∘</a> <a id="1790" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟦</a> <a id="1792" href="ValueSepAbstractUTxO.Ledger.html#607" class="Generalizable">t</a> <a id="1794" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟧</a> <a id="1796" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="1798" href="ValueSepAbstractUTxO.Ledger.html#607" class="Generalizable">t</a> <a id="1800" class="InductiveConstructor Operator">∷</a> <a id="1802" href="ValueSepAbstractUTxO.Ledger.html#622" class="Generalizable">l</a> <a id="1804" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="1806" href="ValueSepAbstractUTxO.HoareLogic.html#553" class="Generalizable">Q</a> <a id="1808" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a>
<a id="1810" href="ValueSepAbstractUTxO.HoareLogic.html#1723" class="Function">hoare-step</a> <a id="1821" class="Symbol">{</a><a id="1822" class="Argument">t</a> <a id="1824" class="Symbol">=</a> <a id="1826" href="ValueSepAbstractUTxO.HoareLogic.html#1826" class="Bound">t</a><a id="1827" class="Symbol">}</a> <a id="1829" href="ValueSepAbstractUTxO.HoareLogic.html#1829" class="Bound">PlQ</a> <a id="1833" class="Symbol">{</a><a id="1834" href="ValueSepAbstractUTxO.HoareLogic.html#1834" class="Bound">s</a><a id="1835" class="Symbol">}</a> <a id="1837" class="Symbol">=</a> <a id="1839" href="ValueSepAbstractUTxO.HoareLogic.html#1576" class="Function">lift²∘&gt;=&gt;</a> <a id="1849" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟦</a> <a id="1851" href="ValueSepAbstractUTxO.HoareLogic.html#1826" class="Bound">t</a> <a id="1853" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟧</a> <a id="1855" class="Symbol">_</a> <a id="1857" class="Symbol">{</a><a id="1858" class="Argument">x</a> <a id="1860" class="Symbol">=</a> <a id="1862" href="ValueSepAbstractUTxO.HoareLogic.html#1834" class="Bound">s</a><a id="1863" class="Symbol">}</a> <a id="1865" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1867" href="ValueSepAbstractUTxO.HoareLogic.html#1043" class="Function">map↑</a> <a id="1872" href="ValueSepAbstractUTxO.HoareLogic.html#1829" class="Bound">PlQ</a>

<a id="consequence"></a><a id="1877" href="ValueSepAbstractUTxO.HoareLogic.html#1877" class="Function">consequence</a> <a id="1889" class="Symbol">:</a>
  <a id="1893" href="Prelude.InferenceRules.html#56118" class="Function Operator">∙</a> <a id="1895" href="ValueSepAbstractUTxO.HoareLogic.html#544" class="Generalizable">P′</a> <a id="1898" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1900" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a>   <a id="1904" class="Comment">-- ^ weakening the pre-condition</a>
  <a id="1939" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="1941" href="ValueSepAbstractUTxO.HoareLogic.html#553" class="Generalizable">Q</a>  <a id="1944" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1946" href="ValueSepAbstractUTxO.HoareLogic.html#555" class="Generalizable">Q′</a>  <a id="1950" class="Comment">-- ^ strengthening the post-condition</a>
  <a id="1990" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="1992" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="1994" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a>  <a id="1997" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="1999" href="ValueSepAbstractUTxO.Ledger.html#622" class="Generalizable">l</a> <a id="2001" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2003" href="ValueSepAbstractUTxO.HoareLogic.html#553" class="Generalizable">Q</a>  <a id="2006" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a>
    <a id="2012" href="Prelude.InferenceRules.html#14230" class="Function Operator">───────────────</a>
    <a id="2032" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2034" href="ValueSepAbstractUTxO.HoareLogic.html#544" class="Generalizable">P′</a> <a id="2037" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="2039" href="ValueSepAbstractUTxO.Ledger.html#622" class="Generalizable">l</a> <a id="2041" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2043" href="ValueSepAbstractUTxO.HoareLogic.html#555" class="Generalizable">Q′</a> <a id="2046" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a>
<a id="2048" href="ValueSepAbstractUTxO.HoareLogic.html#1877" class="Function">consequence</a> <a id="2060" href="ValueSepAbstractUTxO.HoareLogic.html#2060" class="Bound">⊢P</a> <a id="2063" href="ValueSepAbstractUTxO.HoareLogic.html#2063" class="Bound">Q⊢</a> <a id="2066" href="ValueSepAbstractUTxO.HoareLogic.html#2066" class="Bound">PlQ</a> <a id="2070" class="Symbol">=</a> <a id="2072" href="ValueSepAbstractUTxO.HoareLogic.html#1043" class="Function">map↑</a> <a id="2077" href="ValueSepAbstractUTxO.HoareLogic.html#2063" class="Bound">Q⊢</a> <a id="2080" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="2082" href="ValueSepAbstractUTxO.HoareLogic.html#2066" class="Bound">PlQ</a> <a id="2086" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="2088" href="ValueSepAbstractUTxO.HoareLogic.html#2060" class="Bound">⊢P</a>

<a id="2092" class="Comment">-- Utilities for Hoare triples.</a>
<a id="weaken"></a><a id="2124" href="ValueSepAbstractUTxO.HoareLogic.html#2124" class="Function">weaken</a> <a id="2131" class="Symbol">:</a> <a id="2133" href="ValueSepAbstractUTxO.HoareLogic.html#544" class="Generalizable">P′</a> <a id="2136" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="2138" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="2140" class="Symbol">→</a> <a id="2142" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2144" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="2146" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="2148" href="ValueSepAbstractUTxO.Ledger.html#622" class="Generalizable">l</a> <a id="2150" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2152" href="ValueSepAbstractUTxO.HoareLogic.html#553" class="Generalizable">Q</a> <a id="2154" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="2156" class="Symbol">→</a> <a id="2158" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2160" href="ValueSepAbstractUTxO.HoareLogic.html#544" class="Generalizable">P′</a> <a id="2163" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="2165" href="ValueSepAbstractUTxO.Ledger.html#622" class="Generalizable">l</a> <a id="2167" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2169" href="ValueSepAbstractUTxO.HoareLogic.html#553" class="Generalizable">Q</a> <a id="2171" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a>
<a id="2173" href="ValueSepAbstractUTxO.HoareLogic.html#2124" class="Function">weaken</a> <a id="2180" class="Symbol">{</a><a id="2181" class="Argument">l</a> <a id="2183" class="Symbol">=</a> <a id="2185" href="ValueSepAbstractUTxO.HoareLogic.html#2185" class="Bound">l</a><a id="2186" class="Symbol">}</a> <a id="2188" href="ValueSepAbstractUTxO.HoareLogic.html#2188" class="Bound">H</a> <a id="2190" class="Symbol">=</a> <a id="2192" href="ValueSepAbstractUTxO.HoareLogic.html#1877" class="Function">consequence</a> <a id="2204" class="Symbol">{</a><a id="2205" class="Argument">l</a> <a id="2207" class="Symbol">=</a> <a id="2209" href="ValueSepAbstractUTxO.HoareLogic.html#2185" class="Bound">l</a><a id="2210" class="Symbol">}</a> <a id="2212" href="ValueSepAbstractUTxO.HoareLogic.html#2188" class="Bound">H</a> <a id="2214" href="Function.Base.html#615" class="Function">id</a>

<a id="strengthen"></a><a id="2218" href="ValueSepAbstractUTxO.HoareLogic.html#2218" class="Function">strengthen</a> <a id="2229" class="Symbol">:</a> <a id="2231" href="ValueSepAbstractUTxO.HoareLogic.html#553" class="Generalizable">Q</a> <a id="2233" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="2235" href="ValueSepAbstractUTxO.HoareLogic.html#555" class="Generalizable">Q′</a> <a id="2238" class="Symbol">→</a> <a id="2240" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2242" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="2244" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="2246" href="ValueSepAbstractUTxO.Ledger.html#622" class="Generalizable">l</a> <a id="2248" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2250" href="ValueSepAbstractUTxO.HoareLogic.html#553" class="Generalizable">Q</a> <a id="2252" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="2254" class="Symbol">→</a> <a id="2256" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2258" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="2260" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="2262" href="ValueSepAbstractUTxO.Ledger.html#622" class="Generalizable">l</a> <a id="2264" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2266" href="ValueSepAbstractUTxO.HoareLogic.html#555" class="Generalizable">Q′</a> <a id="2269" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a>
<a id="2271" href="ValueSepAbstractUTxO.HoareLogic.html#2218" class="Function">strengthen</a> <a id="2282" class="Symbol">{</a><a id="2283" class="Argument">l</a> <a id="2285" class="Symbol">=</a> <a id="2287" href="ValueSepAbstractUTxO.HoareLogic.html#2287" class="Bound">l</a><a id="2288" class="Symbol">}</a> <a id="2290" href="ValueSepAbstractUTxO.HoareLogic.html#2290" class="Bound">H</a> <a id="2292" class="Symbol">=</a> <a id="2294" href="ValueSepAbstractUTxO.HoareLogic.html#1877" class="Function">consequence</a> <a id="2306" class="Symbol">{</a><a id="2307" class="Argument">l</a> <a id="2309" class="Symbol">=</a> <a id="2311" href="ValueSepAbstractUTxO.HoareLogic.html#2287" class="Bound">l</a><a id="2312" class="Symbol">}</a> <a id="2314" href="Function.Base.html#615" class="Function">id</a> <a id="2317" href="ValueSepAbstractUTxO.HoareLogic.html#2290" class="Bound">H</a>

<a id="axiom-base⋆"></a><a id="2320" href="ValueSepAbstractUTxO.HoareLogic.html#2320" class="Function">axiom-base⋆</a> <a id="2332" class="Symbol">:</a> <a id="2334" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2336" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="2338" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">↑∘</a> <a id="2341" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟦</a> <a id="2343" href="ValueSepAbstractUTxO.Ledger.html#622" class="Generalizable">l</a> <a id="2345" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟧</a> <a id="2347" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="2349" href="ValueSepAbstractUTxO.Ledger.html#622" class="Generalizable">l</a> <a id="2351" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2353" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="2355" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a>
<a id="2357" href="ValueSepAbstractUTxO.HoareLogic.html#2320" class="Function">axiom-base⋆</a> <a id="2369" class="Symbol">{</a><a id="2370" class="Argument">P</a> <a id="2372" class="Symbol">=</a> <a id="2374" href="ValueSepAbstractUTxO.HoareLogic.html#2374" class="Bound">P</a><a id="2375" class="Symbol">}</a> <a id="2377" class="Symbol">{</a><a id="2378" class="Argument">l</a> <a id="2380" class="Symbol">=</a> <a id="2382" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2384" class="Symbol">}</a> <a id="2386" class="Symbol">=</a> <a id="2388" href="ValueSepAbstractUTxO.HoareLogic.html#2124" class="Function">weaken</a> <a id="2395" class="Symbol">{</a><a id="2396" class="Argument">P′</a> <a id="2399" class="Symbol">=</a> <a id="2401" href="ValueSepAbstractUTxO.HoareLogic.html#2374" class="Bound">P</a> <a id="2403" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">↑∘</a> <a id="2406" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟦</a> <a id="2408" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2411" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟧</a><a id="2412" class="Symbol">}</a> <a id="2414" class="Symbol">{</a><a id="2415" class="Argument">l</a> <a id="2417" class="Symbol">=</a> <a id="2419" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2421" class="Symbol">}</a> <a id="2423" class="Symbol">(λ</a> <a id="2426" class="Keyword">where</a> <a id="2432" class="Symbol">(</a><a id="2433" href="ValueSepAbstractUTxO.HoareLogic.html#1020" class="InductiveConstructor">ret↑</a> <a id="2438" href="ValueSepAbstractUTxO.HoareLogic.html#2438" class="Bound">p</a><a id="2439" class="Symbol">)</a> <a id="2441" class="Symbol">→</a> <a id="2443" href="ValueSepAbstractUTxO.HoareLogic.html#2438" class="Bound">p</a><a id="2444" class="Symbol">)</a> <a id="2446" href="ValueSepAbstractUTxO.HoareLogic.html#1170" class="Function">hoare-base</a>
<a id="2457" href="ValueSepAbstractUTxO.HoareLogic.html#2320" class="Function">axiom-base⋆</a> <a id="2469" class="Symbol">{</a><a id="2470" class="Argument">P</a> <a id="2472" class="Symbol">=</a> <a id="2474" href="ValueSepAbstractUTxO.HoareLogic.html#2474" class="Bound">P</a><a id="2475" class="Symbol">}</a> <a id="2477" class="Symbol">{</a><a id="2478" class="Argument">l</a> <a id="2480" class="Symbol">=</a> <a id="2482" href="ValueSepAbstractUTxO.HoareLogic.html#2482" class="Bound">t</a> <a id="2484" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2486" href="ValueSepAbstractUTxO.HoareLogic.html#2486" class="Bound">l</a><a id="2487" class="Symbol">}</a> <a id="2489" class="Symbol">=</a> <a id="2491" href="ValueSepAbstractUTxO.HoareLogic.html#1043" class="Function">map↑</a> <a id="2496" href="Function.Base.html#615" class="Function">id</a>

<a id="2500" class="Comment">-- Derived alternative formulation for step, using list concatenation.</a>

<a id="hoare-step′"></a><a id="2572" href="ValueSepAbstractUTxO.HoareLogic.html#2572" class="Function">hoare-step′</a> <a id="2584" class="Symbol">:</a>
  <a id="2588" href="Prelude.InferenceRules.html#56118" class="Function Operator">∙</a> <a id="2590" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2592" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="2594" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="2596" href="ValueSepAbstractUTxO.Ledger.html#622" class="Generalizable">l</a>  <a id="2599" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2601" href="ValueSepAbstractUTxO.HoareLogic.html#553" class="Generalizable">Q</a> <a id="2603" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a>
  <a id="2607" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="2609" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2611" href="ValueSepAbstractUTxO.HoareLogic.html#553" class="Generalizable">Q</a> <a id="2613" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="2615" href="ValueSepAbstractUTxO.Ledger.html#624" class="Generalizable">l′</a> <a id="2618" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2620" href="ValueSepAbstractUTxO.HoareLogic.html#564" class="Generalizable">R</a> <a id="2622" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a>
    <a id="2628" href="Prelude.InferenceRules.html#14140" class="Function Operator">───────────────────</a>
    <a id="2652" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2654" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="2656" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="2658" href="ValueSepAbstractUTxO.Ledger.html#622" class="Generalizable">l</a> <a id="2660" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="2663" href="ValueSepAbstractUTxO.Ledger.html#624" class="Generalizable">l′</a> <a id="2666" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="2668" href="ValueSepAbstractUTxO.HoareLogic.html#564" class="Generalizable">R</a> <a id="2670" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a>
<a id="2672" href="ValueSepAbstractUTxO.HoareLogic.html#2572" class="Function">hoare-step′</a> <a id="2684" class="Symbol">{</a><a id="2685" href="ValueSepAbstractUTxO.HoareLogic.html#2685" class="Bound">P</a><a id="2686" class="Symbol">}{</a><a id="2688" href="ValueSepAbstractUTxO.HoareLogic.html#2688" class="Bound">l</a><a id="2689" class="Symbol">}{</a><a id="2691" href="ValueSepAbstractUTxO.HoareLogic.html#2691" class="Bound">Q</a><a id="2692" class="Symbol">}{</a><a id="2694" href="ValueSepAbstractUTxO.HoareLogic.html#2694" class="Bound">l′</a><a id="2696" class="Symbol">}{</a><a id="2698" href="ValueSepAbstractUTxO.HoareLogic.html#2698" class="Bound">R</a><a id="2699" class="Symbol">}</a> <a id="2701" href="ValueSepAbstractUTxO.HoareLogic.html#2701" class="Bound">PlQ</a> <a id="2705" href="ValueSepAbstractUTxO.HoareLogic.html#2705" class="Bound">QlR</a>
<a id="2709" class="Comment">--   {s} Ps rewrite comp {l}{l′} s</a>
<a id="2744" class="Comment">--   with ⟦ l ⟧ s | PlQ Ps</a>
<a id="2771" class="Comment">-- ... | .(just _) | ret↑ Qs′ = QlR Qs′</a>
  <a id="2813" class="Symbol">=</a> <a id="2815" href="Prelude.General.html#2038" class="Field Operator">begin</a>
    <a id="2825" href="ValueSepAbstractUTxO.HoareLogic.html#2685" class="Bound">P</a>
  <a id="2829" href="Prelude.General.html#2219" class="Function Operator">⊢⟨</a> <a id="2832" href="ValueSepAbstractUTxO.HoareLogic.html#2701" class="Bound">PlQ</a>  <a id="2837" href="Prelude.General.html#2219" class="Function Operator">⟩</a>
    <a id="2843" href="ValueSepAbstractUTxO.HoareLogic.html#2691" class="Bound">Q</a> <a id="2845" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">↑∘</a> <a id="2848" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟦</a> <a id="2850" href="ValueSepAbstractUTxO.HoareLogic.html#2688" class="Bound">l</a> <a id="2852" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟧</a>
  <a id="2856" href="Prelude.General.html#2219" class="Function Operator">⊢⟨</a> <a id="2859" href="ValueSepAbstractUTxO.HoareLogic.html#1043" class="Function">map↑</a> <a id="2864" href="ValueSepAbstractUTxO.HoareLogic.html#2705" class="Bound">QlR</a> <a id="2868" href="Prelude.General.html#2219" class="Function Operator">⟩</a>
    <a id="2874" href="ValueSepAbstractUTxO.HoareLogic.html#2698" class="Bound">R</a> <a id="2876" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">↑∘</a> <a id="2879" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟦</a> <a id="2881" href="ValueSepAbstractUTxO.HoareLogic.html#2694" class="Bound">l′</a> <a id="2884" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟧</a> <a id="2886" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">↑∘</a> <a id="2889" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟦</a> <a id="2891" href="ValueSepAbstractUTxO.HoareLogic.html#2688" class="Bound">l</a> <a id="2893" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟧</a>
  <a id="2897" href="Prelude.General.html#2219" class="Function Operator">⊢⟨</a> <a id="2900" href="ValueSepAbstractUTxO.HoareLogic.html#1576" class="Function">lift²∘&gt;=&gt;</a> <a id="2910" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟦</a> <a id="2912" href="ValueSepAbstractUTxO.HoareLogic.html#2688" class="Bound">l</a> <a id="2914" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟧</a> <a id="2916" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟦</a> <a id="2918" href="ValueSepAbstractUTxO.HoareLogic.html#2694" class="Bound">l′</a> <a id="2921" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟧</a>  <a id="2924" href="Prelude.General.html#2219" class="Function Operator">⟩</a>
    <a id="2930" href="ValueSepAbstractUTxO.HoareLogic.html#2698" class="Bound">R</a> <a id="2932" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">↑∘</a> <a id="2935" class="Symbol">(</a><a id="2936" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟦</a> <a id="2938" href="ValueSepAbstractUTxO.HoareLogic.html#2688" class="Bound">l</a> <a id="2940" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟧</a> <a id="2942" href="Prelude.Monad.html#754" class="Function Operator">&gt;=&gt;</a> <a id="2946" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟦</a> <a id="2948" href="ValueSepAbstractUTxO.HoareLogic.html#2694" class="Bound">l′</a> <a id="2951" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟧</a><a id="2952" class="Symbol">)</a>
  <a id="2956" href="Prelude.General.html#2625" class="Function Operator">≗˘⟨</a> <a id="2960" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="2965" class="Symbol">(</a><a id="2966" href="ValueSepAbstractUTxO.HoareLogic.html#996" class="Function">lift↑</a> <a id="2972" href="ValueSepAbstractUTxO.HoareLogic.html#2698" class="Bound">R</a><a id="2973" class="Symbol">)</a> <a id="2975" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="2977" href="ValueSepAbstractUTxO.Ledger.html#1892" class="Function">comp</a> <a id="2982" class="Symbol">{</a><a id="2983" href="ValueSepAbstractUTxO.HoareLogic.html#2688" class="Bound">l</a><a id="2984" class="Symbol">}{</a><a id="2986" href="ValueSepAbstractUTxO.HoareLogic.html#2694" class="Bound">l′</a><a id="2988" class="Symbol">}</a> <a id="2990" href="Prelude.General.html#2625" class="Function Operator">⟩</a>
    <a id="2996" href="ValueSepAbstractUTxO.HoareLogic.html#2698" class="Bound">R</a> <a id="2998" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">↑∘</a> <a id="3001" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟦</a> <a id="3003" href="ValueSepAbstractUTxO.HoareLogic.html#2688" class="Bound">l</a> <a id="3005" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="3008" href="ValueSepAbstractUTxO.HoareLogic.html#2694" class="Bound">l′</a> <a id="3011" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟧</a>
  <a id="3015" href="Prelude.General.html#2715" class="Function Operator">∎</a> <a id="3017" class="Keyword">where</a> <a id="3023" class="Keyword">open</a> <a id="3028" href="Prelude.General.html#1867" class="Module">⊢-Reasoning</a>

<a id="3041" class="Comment">-- ** Reasoning syntax for Hoare triples.</a>
<a id="3083" class="Keyword">module</a> <a id="HoareReasoning"></a><a id="3090" href="ValueSepAbstractUTxO.HoareLogic.html#3090" class="Module">HoareReasoning</a> <a id="3105" class="Keyword">where</a>
  <a id="3113" class="Comment">-- Reasoning newtype (for better type inference).</a>
  <a id="3165" class="Keyword">record</a> <a id="HoareReasoning.ℝ⟨_⟩_⟨_⟩"></a><a id="3172" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">ℝ⟨_⟩_⟨_⟩</a> <a id="3181" class="Symbol">(</a><a id="3182" href="ValueSepAbstractUTxO.HoareLogic.html#3182" class="Bound">P</a> <a id="3184" class="Symbol">:</a> <a id="3186" href="ValueSepAbstractUTxO.HoareLogic.html#512" class="Function">Assertion</a><a id="3195" class="Symbol">)</a> <a id="3197" class="Symbol">(</a><a id="3198" href="ValueSepAbstractUTxO.HoareLogic.html#3198" class="Bound">l</a> <a id="3200" class="Symbol">:</a> <a id="3202" href="ValueSepAbstractUTxO.UTxO.html#2013" class="Function">L</a><a id="3203" class="Symbol">)</a> <a id="3205" class="Symbol">(</a><a id="3206" href="ValueSepAbstractUTxO.HoareLogic.html#3206" class="Bound">Q</a> <a id="3208" class="Symbol">:</a> <a id="3210" href="ValueSepAbstractUTxO.HoareLogic.html#512" class="Function">Assertion</a><a id="3219" class="Symbol">)</a> <a id="3221" class="Symbol">:</a> <a id="3223" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="3227" class="Keyword">where</a>
    <a id="3237" class="Keyword">constructor</a> <a id="HoareReasoning.mkℝ_"></a><a id="3249" href="ValueSepAbstractUTxO.HoareLogic.html#3249" class="InductiveConstructor Operator">mkℝ_</a>
    <a id="3258" class="Keyword">field</a> <a id="HoareReasoning.ℝ⟨_⟩_⟨_⟩.begin_"></a><a id="3264" href="ValueSepAbstractUTxO.HoareLogic.html#3264" class="Field Operator">begin_</a> <a id="3271" class="Symbol">:</a> <a id="3273" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="3275" href="ValueSepAbstractUTxO.HoareLogic.html#3182" class="Bound">P</a> <a id="3277" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="3279" href="ValueSepAbstractUTxO.HoareLogic.html#3198" class="Bound">l</a> <a id="3281" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="3283" href="ValueSepAbstractUTxO.HoareLogic.html#3206" class="Bound">Q</a> <a id="3285" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a>
    <a id="3291" class="Keyword">infix</a> <a id="3297" class="Number">-2</a> <a id="3300" href="ValueSepAbstractUTxO.HoareLogic.html#3264" class="Field Operator">begin_</a>
  <a id="3309" class="Keyword">open</a> <a id="3314" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Module Operator">ℝ⟨_⟩_⟨_⟩</a> <a id="3323" class="Keyword">public</a>
  <a id="3332" class="Keyword">infix</a>  <a id="3339" class="Number">-2</a> <a id="3342" href="ValueSepAbstractUTxO.HoareLogic.html#3249" class="InductiveConstructor Operator">mkℝ_</a>
  <a id="3349" class="Keyword">infixr</a> <a id="3356" class="Number">-1</a> <a id="3359" href="ValueSepAbstractUTxO.HoareLogic.html#3435" class="Function Operator">_~⟪_⟩_</a> <a id="3366" href="ValueSepAbstractUTxO.HoareLogic.html#3582" class="Function Operator">_~⟨_⟫_</a> <a id="3373" href="ValueSepAbstractUTxO.HoareLogic.html#3710" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="3383" href="ValueSepAbstractUTxO.HoareLogic.html#3994" class="Function Operator">_~⟨_∶-_⟩++_</a>
  <a id="3397" class="Keyword">infix</a>  <a id="3404" class="Number">0</a>  <a id="3407" href="ValueSepAbstractUTxO.HoareLogic.html#4157" class="Function Operator">_∎</a>

  <a id="3413" class="Comment">-- weakening syntax</a>
  <a id="HoareReasoning._~⟪_⟩_"></a><a id="3435" href="ValueSepAbstractUTxO.HoareLogic.html#3435" class="Function Operator">_~⟪_⟩_</a> <a id="3442" class="Symbol">:</a> <a id="3444" class="Symbol">∀</a> <a id="3446" href="ValueSepAbstractUTxO.HoareLogic.html#3446" class="Bound">P′</a> <a id="3449" class="Symbol">→</a> <a id="3451" href="ValueSepAbstractUTxO.HoareLogic.html#3446" class="Bound">P′</a> <a id="3454" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="3456" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="3458" class="Symbol">→</a> <a id="3460" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">ℝ⟨</a> <a id="3463" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="3465" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟩</a> <a id="3467" href="ValueSepAbstractUTxO.Ledger.html#622" class="Generalizable">l</a> <a id="3469" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟨</a> <a id="3471" href="ValueSepAbstractUTxO.HoareLogic.html#564" class="Generalizable">R</a> <a id="3473" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟩</a> <a id="3475" class="Symbol">→</a> <a id="3477" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">ℝ⟨</a> <a id="3480" href="ValueSepAbstractUTxO.HoareLogic.html#3446" class="Bound">P′</a> <a id="3483" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟩</a> <a id="3485" href="ValueSepAbstractUTxO.Ledger.html#622" class="Generalizable">l</a> <a id="3487" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟨</a> <a id="3489" href="ValueSepAbstractUTxO.HoareLogic.html#564" class="Generalizable">R</a> <a id="3491" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟩</a>
  <a id="3495" href="ValueSepAbstractUTxO.HoareLogic.html#3435" class="Function Operator">_~⟪_⟩_</a> <a id="3502" class="Symbol">{</a><a id="3503" class="Argument">l</a> <a id="3505" class="Symbol">=</a> <a id="3507" href="ValueSepAbstractUTxO.HoareLogic.html#3507" class="Bound">l</a><a id="3508" class="Symbol">}</a> <a id="3510" class="Symbol">_</a> <a id="3512" href="ValueSepAbstractUTxO.HoareLogic.html#3512" class="Bound">H</a> <a id="3514" href="ValueSepAbstractUTxO.HoareLogic.html#3514" class="Bound">PlR</a> <a id="3518" class="Symbol">=</a> <a id="3520" href="ValueSepAbstractUTxO.HoareLogic.html#3249" class="InductiveConstructor Operator">mkℝ</a> <a id="3524" href="ValueSepAbstractUTxO.HoareLogic.html#2124" class="Function">weaken</a> <a id="3531" class="Symbol">{</a><a id="3532" class="Argument">l</a> <a id="3534" class="Symbol">=</a> <a id="3536" href="ValueSepAbstractUTxO.HoareLogic.html#3507" class="Bound">l</a><a id="3537" class="Symbol">}</a> <a id="3539" href="ValueSepAbstractUTxO.HoareLogic.html#3512" class="Bound">H</a> <a id="3541" class="Symbol">(</a><a id="3542" href="ValueSepAbstractUTxO.HoareLogic.html#3264" class="Field Operator">begin</a> <a id="3548" href="ValueSepAbstractUTxO.HoareLogic.html#3514" class="Bound">PlR</a><a id="3551" class="Symbol">)</a>

  <a id="3556" class="Comment">-- strengthening syntax</a>
  <a id="HoareReasoning._~⟨_⟫_"></a><a id="3582" href="ValueSepAbstractUTxO.HoareLogic.html#3582" class="Function Operator">_~⟨_⟫_</a> <a id="3589" class="Symbol">:</a> <a id="3591" class="Symbol">∀</a> <a id="3593" href="ValueSepAbstractUTxO.HoareLogic.html#3593" class="Bound">R′</a> <a id="3596" class="Symbol">→</a> <a id="3598" href="ValueSepAbstractUTxO.HoareLogic.html#564" class="Generalizable">R</a> <a id="3600" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="3602" href="ValueSepAbstractUTxO.HoareLogic.html#3593" class="Bound">R′</a> <a id="3605" class="Symbol">→</a> <a id="3607" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="3609" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="3611" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="3613" href="ValueSepAbstractUTxO.Ledger.html#622" class="Generalizable">l</a> <a id="3615" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="3617" href="ValueSepAbstractUTxO.HoareLogic.html#564" class="Generalizable">R</a> <a id="3619" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="3621" class="Symbol">→</a> <a id="3623" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="3625" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="3627" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a> <a id="3629" href="ValueSepAbstractUTxO.Ledger.html#622" class="Generalizable">l</a> <a id="3631" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟨</a> <a id="3633" href="ValueSepAbstractUTxO.HoareLogic.html#3593" class="Bound">R′</a> <a id="3636" href="ValueSepAbstractUTxO.HoareLogic.html#1096" class="Function Operator">⟩</a>
  <a id="3640" href="ValueSepAbstractUTxO.HoareLogic.html#3582" class="Function Operator">_~⟨_⟫_</a> <a id="3647" class="Symbol">{</a><a id="3648" class="Argument">l</a> <a id="3650" class="Symbol">=</a> <a id="3652" href="ValueSepAbstractUTxO.HoareLogic.html#3652" class="Bound">l</a><a id="3653" class="Symbol">}</a> <a id="3655" class="Symbol">_</a> <a id="3657" href="ValueSepAbstractUTxO.HoareLogic.html#3657" class="Bound">H</a> <a id="3659" href="ValueSepAbstractUTxO.HoareLogic.html#3659" class="Bound">PlR</a> <a id="3663" class="Symbol">=</a> <a id="3665" href="ValueSepAbstractUTxO.HoareLogic.html#2218" class="Function">strengthen</a> <a id="3676" class="Symbol">{</a><a id="3677" class="Argument">l</a> <a id="3679" class="Symbol">=</a> <a id="3681" href="ValueSepAbstractUTxO.HoareLogic.html#3652" class="Bound">l</a><a id="3682" class="Symbol">}</a> <a id="3684" href="ValueSepAbstractUTxO.HoareLogic.html#3657" class="Bound">H</a> <a id="3686" href="ValueSepAbstractUTxO.HoareLogic.html#3659" class="Bound">PlR</a>

  <a id="3693" class="Comment">-- step syntax</a>
  <a id="HoareReasoning._~⟨_∶-_⟩_"></a><a id="3710" href="ValueSepAbstractUTxO.HoareLogic.html#3710" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="3720" class="Symbol">:</a> <a id="3722" class="Symbol">∀</a> <a id="3724" href="ValueSepAbstractUTxO.HoareLogic.html#3724" class="Bound">P′</a> <a id="3727" href="ValueSepAbstractUTxO.HoareLogic.html#3727" class="Bound">t</a> <a id="3729" class="Symbol">→</a> <a id="3731" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">ℝ⟨</a> <a id="3734" href="ValueSepAbstractUTxO.HoareLogic.html#3724" class="Bound">P′</a> <a id="3737" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟩</a> <a id="3739" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="3741" href="ValueSepAbstractUTxO.HoareLogic.html#3727" class="Bound">t</a> <a id="3743" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="3745" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟨</a> <a id="3747" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="3749" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟩</a> <a id="3751" class="Symbol">→</a> <a id="3753" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">ℝ⟨</a> <a id="3756" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="3758" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟩</a> <a id="3760" href="ValueSepAbstractUTxO.Ledger.html#622" class="Generalizable">l</a> <a id="3762" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟨</a> <a id="3764" href="ValueSepAbstractUTxO.HoareLogic.html#564" class="Generalizable">R</a> <a id="3766" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟩</a> <a id="3768" class="Symbol">→</a> <a id="3770" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">ℝ⟨</a> <a id="3773" href="ValueSepAbstractUTxO.HoareLogic.html#3724" class="Bound">P′</a> <a id="3776" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟩</a> <a id="3778" href="ValueSepAbstractUTxO.HoareLogic.html#3727" class="Bound">t</a> <a id="3780" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3782" href="ValueSepAbstractUTxO.Ledger.html#622" class="Generalizable">l</a> <a id="3784" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟨</a> <a id="3786" href="ValueSepAbstractUTxO.HoareLogic.html#564" class="Generalizable">R</a> <a id="3788" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟩</a>
  <a id="3792" href="ValueSepAbstractUTxO.HoareLogic.html#3710" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="3802" class="Symbol">{</a><a id="3803" class="Argument">l</a> <a id="3805" class="Symbol">=</a> <a id="3807" href="ValueSepAbstractUTxO.HoareLogic.html#3807" class="Bound">l</a><a id="3808" class="Symbol">}</a> <a id="3810" class="Symbol">{</a><a id="3811" class="Argument">R</a> <a id="3813" class="Symbol">=</a> <a id="3815" href="ValueSepAbstractUTxO.HoareLogic.html#3815" class="Bound">R</a><a id="3816" class="Symbol">}</a> <a id="3818" href="ValueSepAbstractUTxO.HoareLogic.html#3818" class="Bound">P′</a> <a id="3821" href="ValueSepAbstractUTxO.HoareLogic.html#3821" class="Bound">t</a> <a id="3823" href="ValueSepAbstractUTxO.HoareLogic.html#3823" class="Bound">H</a> <a id="3825" href="ValueSepAbstractUTxO.HoareLogic.html#3825" class="Bound">PlR</a> <a id="3829" class="Symbol">=</a> <a id="3831" href="ValueSepAbstractUTxO.HoareLogic.html#3249" class="InductiveConstructor Operator">mkℝ</a> <a id="3835" href="ValueSepAbstractUTxO.HoareLogic.html#3854" class="Function">go</a>
    <a id="3842" class="Keyword">where</a>
      <a id="3854" href="ValueSepAbstractUTxO.HoareLogic.html#3854" class="Function">go</a> <a id="3857" class="Symbol">:</a> <a id="3859" href="ValueSepAbstractUTxO.HoareLogic.html#3818" class="Bound">P′</a> <a id="3862" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="3864" href="ValueSepAbstractUTxO.HoareLogic.html#3815" class="Bound">R</a> <a id="3866" href="ValueSepAbstractUTxO.HoareLogic.html#931" class="Function Operator">↑∘</a> <a id="3869" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟦</a> <a id="3871" href="ValueSepAbstractUTxO.HoareLogic.html#3821" class="Bound">t</a> <a id="3873" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3875" href="ValueSepAbstractUTxO.HoareLogic.html#3807" class="Bound">l</a> <a id="3877" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟧</a>
      <a id="3885" href="ValueSepAbstractUTxO.HoareLogic.html#3854" class="Function">go</a> <a id="3888" class="Symbol">{</a><a id="3889" href="ValueSepAbstractUTxO.HoareLogic.html#3889" class="Bound">s</a><a id="3890" class="Symbol">}</a> <a id="3892" href="ValueSepAbstractUTxO.HoareLogic.html#3892" class="Bound">P′s</a> <a id="3896" class="Keyword">with</a> <a id="3901" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟦</a> <a id="3903" href="ValueSepAbstractUTxO.HoareLogic.html#3821" class="Bound">t</a> <a id="3905" href="ValueSepAbstractUTxO.Ledger.html#994" class="Field Operator">⟧</a> <a id="3907" href="ValueSepAbstractUTxO.HoareLogic.html#3889" class="Bound">s</a> <a id="3909" class="Symbol">|</a> <a id="3911" class="Symbol">(</a><a id="3912" href="ValueSepAbstractUTxO.HoareLogic.html#3264" class="Field Operator">begin</a> <a id="3918" href="ValueSepAbstractUTxO.HoareLogic.html#3823" class="Bound">H</a><a id="3919" class="Symbol">)</a> <a id="3921" href="ValueSepAbstractUTxO.HoareLogic.html#3892" class="Bound">P′s</a>
      <a id="3931" class="Symbol">...</a> <a id="3935" class="Symbol">|</a> <a id="3937" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="3942" class="Symbol">_</a> <a id="3944" class="Symbol">|</a> <a id="3946" href="ValueSepAbstractUTxO.HoareLogic.html#1020" class="InductiveConstructor">ret↑</a> <a id="3951" href="ValueSepAbstractUTxO.HoareLogic.html#3951" class="Bound">Ps′</a> <a id="3955" class="Symbol">=</a> <a id="3957" class="Symbol">(</a><a id="3958" href="ValueSepAbstractUTxO.HoareLogic.html#3264" class="Field Operator">begin</a> <a id="3964" href="ValueSepAbstractUTxO.HoareLogic.html#3825" class="Bound">PlR</a><a id="3967" class="Symbol">)</a> <a id="3969" href="ValueSepAbstractUTxO.HoareLogic.html#3951" class="Bound">Ps′</a>

  <a id="3976" class="Comment">-- step′ syntax</a>
  <a id="HoareReasoning._~⟨_∶-_⟩++_"></a><a id="3994" href="ValueSepAbstractUTxO.HoareLogic.html#3994" class="Function Operator">_~⟨_∶-_⟩++_</a> <a id="4006" class="Symbol">:</a> <a id="4008" class="Symbol">∀</a> <a id="4010" href="ValueSepAbstractUTxO.HoareLogic.html#4010" class="Bound">P′</a> <a id="4013" class="Symbol">→</a> <a id="4015" class="Symbol">(</a><a id="4016" href="ValueSepAbstractUTxO.HoareLogic.html#4016" class="Bound">l</a> <a id="4018" class="Symbol">:</a> <a id="4020" href="ValueSepAbstractUTxO.UTxO.html#2013" class="Function">L</a><a id="4021" class="Symbol">)</a> <a id="4023" class="Symbol">→</a> <a id="4025" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">ℝ⟨</a> <a id="4028" href="ValueSepAbstractUTxO.HoareLogic.html#4010" class="Bound">P′</a> <a id="4031" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟩</a> <a id="4033" href="ValueSepAbstractUTxO.HoareLogic.html#4016" class="Bound">l</a> <a id="4035" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟨</a> <a id="4037" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="4039" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟩</a> <a id="4041" class="Symbol">→</a> <a id="4043" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">ℝ⟨</a> <a id="4046" href="ValueSepAbstractUTxO.HoareLogic.html#542" class="Generalizable">P</a> <a id="4048" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟩</a> <a id="4050" href="ValueSepAbstractUTxO.Ledger.html#624" class="Generalizable">l′</a> <a id="4053" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟨</a> <a id="4055" href="ValueSepAbstractUTxO.HoareLogic.html#564" class="Generalizable">R</a> <a id="4057" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟩</a> <a id="4059" class="Symbol">→</a> <a id="4061" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">ℝ⟨</a> <a id="4064" href="ValueSepAbstractUTxO.HoareLogic.html#4010" class="Bound">P′</a> <a id="4067" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟩</a> <a id="4069" href="ValueSepAbstractUTxO.HoareLogic.html#4016" class="Bound">l</a> <a id="4071" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="4074" href="ValueSepAbstractUTxO.Ledger.html#624" class="Generalizable">l′</a> <a id="4077" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟨</a> <a id="4079" href="ValueSepAbstractUTxO.HoareLogic.html#564" class="Generalizable">R</a> <a id="4081" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟩</a>
  <a id="4085" href="ValueSepAbstractUTxO.HoareLogic.html#4085" class="Bound">P′</a> <a id="4088" href="ValueSepAbstractUTxO.HoareLogic.html#3994" class="Function Operator">~⟨</a> <a id="4091" href="ValueSepAbstractUTxO.HoareLogic.html#4091" class="Bound">l</a> <a id="4093" href="ValueSepAbstractUTxO.HoareLogic.html#3994" class="Function Operator">∶-</a> <a id="4096" href="ValueSepAbstractUTxO.HoareLogic.html#4096" class="Bound">H</a> <a id="4098" href="ValueSepAbstractUTxO.HoareLogic.html#3994" class="Function Operator">⟩++</a> <a id="4102" href="ValueSepAbstractUTxO.HoareLogic.html#4102" class="Bound">PlR</a> <a id="4106" class="Symbol">=</a> <a id="4108" href="ValueSepAbstractUTxO.HoareLogic.html#3249" class="InductiveConstructor Operator">mkℝ</a> <a id="4112" href="ValueSepAbstractUTxO.HoareLogic.html#2572" class="Function">hoare-step′</a> <a id="4124" class="Symbol">{</a><a id="4125" class="Argument">l</a> <a id="4127" class="Symbol">=</a> <a id="4129" href="ValueSepAbstractUTxO.HoareLogic.html#4091" class="Bound">l</a><a id="4130" class="Symbol">}</a> <a id="4132" class="Symbol">(</a><a id="4133" href="ValueSepAbstractUTxO.HoareLogic.html#3264" class="Field Operator">begin</a> <a id="4139" href="ValueSepAbstractUTxO.HoareLogic.html#4096" class="Bound">H</a><a id="4140" class="Symbol">)</a> <a id="4142" class="Symbol">(</a><a id="4143" href="ValueSepAbstractUTxO.HoareLogic.html#3264" class="Field Operator">begin</a> <a id="4149" href="ValueSepAbstractUTxO.HoareLogic.html#4102" class="Bound">PlR</a><a id="4152" class="Symbol">)</a>

  <a id="HoareReasoning._∎"></a><a id="4157" href="ValueSepAbstractUTxO.HoareLogic.html#4157" class="Function Operator">_∎</a> <a id="4160" class="Symbol">:</a> <a id="4162" class="Symbol">∀</a> <a id="4164" href="ValueSepAbstractUTxO.HoareLogic.html#4164" class="Bound">P</a> <a id="4166" class="Symbol">→</a> <a id="4168" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">ℝ⟨</a> <a id="4171" href="ValueSepAbstractUTxO.HoareLogic.html#4164" class="Bound">P</a> <a id="4173" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟩</a> <a id="4175" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="4178" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟨</a> <a id="4180" href="ValueSepAbstractUTxO.HoareLogic.html#4164" class="Bound">P</a> <a id="4182" href="ValueSepAbstractUTxO.HoareLogic.html#3172" class="Record Operator">⟩</a>
  <a id="4186" href="ValueSepAbstractUTxO.HoareLogic.html#4186" class="Bound">p</a> <a id="4188" href="ValueSepAbstractUTxO.HoareLogic.html#4157" class="Function Operator">∎</a> <a id="4190" class="Symbol">=</a> <a id="4192" href="ValueSepAbstractUTxO.HoareLogic.html#3249" class="InductiveConstructor Operator">mkℝ</a> <a id="4196" href="ValueSepAbstractUTxO.HoareLogic.html#1170" class="Function">hoare-base</a> <a id="4207" class="Symbol">{</a><a id="4208" class="Argument">P</a> <a id="4210" class="Symbol">=</a> <a id="4212" href="ValueSepAbstractUTxO.HoareLogic.html#4186" class="Bound">p</a><a id="4213" class="Symbol">}</a>
</pre></body></html>