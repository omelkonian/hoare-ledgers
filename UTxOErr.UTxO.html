<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>UTxOErr.UTxO</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/hoare-ledgers/tree/master/UTxOErr/UTxO.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">----------------------------------------------</a>
<a id="48" class="Comment">-- ** Basic definition for UTxO-based ledgers.</a>

<a id="96" class="Keyword">module</a> <a id="103" href="UTxOErr.UTxO.html" class="Module">UTxOErr.UTxO</a> <a id="116" class="Keyword">where</a>

<a id="123" class="Keyword">open</a> <a id="128" class="Keyword">import</a> <a id="135" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="147" class="Symbol">;</a> <a id="149" class="Keyword">open</a> <a id="154" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="164" class="Keyword">open</a> <a id="169" href="Prelude.Init.html#7118" class="Module">L.Mem</a>
<a id="175" class="Keyword">open</a> <a id="180" class="Keyword">import</a> <a id="187" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="203" class="Keyword">open</a> <a id="208" class="Keyword">import</a> <a id="215" href="Prelude.Maybes.html" class="Module">Prelude.Maybes</a>
<a id="230" class="Keyword">open</a> <a id="235" class="Keyword">import</a> <a id="242" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="256" class="Keyword">open</a> <a id="261" class="Keyword">import</a> <a id="268" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="286" class="Keyword">open</a> <a id="291" class="Keyword">import</a> <a id="298" href="Prelude.ToN.html" class="Module">Prelude.ToN</a>
<a id="310" class="Keyword">open</a> <a id="315" class="Keyword">import</a> <a id="322" href="Prelude.Lists.html" class="Module">Prelude.Lists</a> <a id="336" class="Keyword">hiding</a> <a id="343" class="Symbol">(</a><a id="344" href="Prelude.Lists.Indexed.html#663" class="Function Operator">_⁉_</a><a id="347" class="Symbol">;</a> <a id="349" href="Prelude.Lists.Indexed.html#600" class="Function Operator">_‼_</a><a id="352" class="Symbol">;</a> <a id="354" href="Prelude.Lists.Mappings.html#697" class="Function">map↦</a><a id="358" class="Symbol">)</a>
<a id="360" class="Keyword">open</a> <a id="365" class="Keyword">import</a> <a id="372" href="Prelude.Lists.Dec.html" class="Module">Prelude.Lists.Dec</a>
<a id="390" class="Keyword">open</a> <a id="395" class="Keyword">import</a> <a id="402" href="Prelude.Lists.WithK.html" class="Module">Prelude.Lists.WithK</a>
<a id="422" class="Keyword">open</a> <a id="427" class="Keyword">import</a> <a id="434" href="Prelude.Functor.html" class="Module">Prelude.Functor</a>
<a id="450" class="Keyword">open</a> <a id="455" class="Keyword">import</a> <a id="462" href="Prelude.Applicative.html" class="Module">Prelude.Applicative</a>
<a id="482" class="Keyword">open</a> <a id="487" class="Keyword">import</a> <a id="494" href="Prelude.FromList.html" class="Module">Prelude.FromList</a>
<a id="511" class="Keyword">open</a> <a id="516" class="Keyword">import</a> <a id="523" href="Prelude.Membership.html" class="Module">Prelude.Membership</a> <a id="542" class="Keyword">using</a> <a id="548" class="Symbol">(</a><a id="549" href="Prelude.Membership.html#455" class="Field Operator">_∈?_</a><a id="553" class="Symbol">;</a> <a id="555" href="Prelude.Membership.html#613" class="Function Operator">_∉?_</a><a id="559" class="Symbol">)</a>
<a id="561" class="Keyword">open</a> <a id="566" class="Keyword">import</a> <a id="573" href="Prelude.Irrelevance.html" class="Module">Prelude.Irrelevance</a>

<a id="594" class="Comment">-- open import UTxOErr.Maps</a>
<a id="622" class="Keyword">open</a> <a id="627" class="Keyword">import</a> <a id="634" href="Prelude.Maps.html" class="Module">Prelude.Maps</a>

<a id="648" class="Keyword">open</a> <a id="653" class="Keyword">import</a> <a id="660" href="Common.html" class="Module">Common</a> <a id="667" class="Keyword">public</a>

<a id="675" class="Keyword">record</a> <a id="TxOutputRef"></a><a id="682" href="UTxOErr.UTxO.html#682" class="Record">TxOutputRef</a> <a id="694" class="Symbol">:</a> <a id="696" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="701" class="Keyword">where</a>
  <a id="709" class="Keyword">constructor</a> <a id="_indexed-at_"></a><a id="721" href="UTxOErr.UTxO.html#721" class="InductiveConstructor Operator">_indexed-at_</a>
  <a id="736" class="Keyword">field</a> <a id="TxOutputRef.txId"></a><a id="742" href="UTxOErr.UTxO.html#742" class="Field">txId</a>  <a id="748" class="Symbol">:</a> <a id="750" href="Common.html#388" class="Function">HashId</a>
        <a id="TxOutputRef.index"></a><a id="765" href="UTxOErr.UTxO.html#765" class="Field">index</a> <a id="771" class="Symbol">:</a> <a id="773" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
<a id="775" class="Keyword">open</a> <a id="780" href="UTxOErr.UTxO.html#682" class="Module">TxOutputRef</a> <a id="792" class="Keyword">public</a>
<a id="799" class="Keyword">unquoteDecl</a> <a id="DecEq-TxOR"></a><a id="811" href="UTxOErr.UTxO.html#811" class="Function">DecEq-TxOR</a> <a id="822" class="Symbol">=</a> <a id="824" href="Prelude.Generics.Deriving.html#1365" class="Macro">DERIVE</a> <a id="831" href="Prelude.DecEq.Core.html#148" class="Record">DecEq</a> <a id="837" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="839" class="Keyword">quote</a> <a id="845" href="UTxOErr.UTxO.html#682" class="Record">TxOutputRef</a> <a id="857" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="859" href="UTxOErr.UTxO.html#811" class="Function">DecEq-TxOR</a> <a id="870" href="Data.List.Base.html#5034" class="Function Operator">]</a>

<a id="873" class="Keyword">open</a> <a id="878" href="Common.html#1247" class="Module">CommonInfo</a> <a id="889" href="UTxOErr.UTxO.html#682" class="Record">TxOutputRef</a> <a id="901" class="Keyword">public</a>

<a id="909" class="Comment">-- The state of a ledger maps output references locked by a validator to a value.</a>

<a id="S"></a><a id="992" href="UTxOErr.UTxO.html#992" class="Function">S</a> <a id="994" class="Symbol">:</a> <a id="996" href="Agda.Primitive.html#320" class="Primitive">Type</a>
<a id="1001" href="UTxOErr.UTxO.html#992" class="Function">S</a> <a id="1003" class="Symbol">=</a> <a id="1005" href="Prelude.Maps.AsSets.html#550" class="Record">Map⟨</a> <a id="1010" href="UTxOErr.UTxO.html#682" class="Record">TxOutputRef</a> <a id="1022" href="Prelude.Maps.AsSets.html#550" class="Record">↦</a> <a id="1024" href="Common.html#593" class="Record">TxOutput</a> <a id="1033" href="Prelude.Maps.AsSets.html#550" class="Record">⟩</a>

<a id="mkUtxo"></a><a id="1036" href="UTxOErr.UTxO.html#1036" class="Function">mkUtxo</a> <a id="1043" class="Symbol">:</a> <a id="1045" class="Symbol">∀</a> <a id="1047" class="Symbol">{</a><a id="1048" href="UTxOErr.UTxO.html#1048" class="Bound">out</a><a id="1051" class="Symbol">}</a> <a id="1053" href="UTxOErr.UTxO.html#1053" class="Bound">tx</a> <a id="1056" class="Symbol">→</a> <a id="1058" href="UTxOErr.UTxO.html#1048" class="Bound">out</a> <a id="1062" href="Data.List.Membership.Setoid.html#896" class="Function Operator">L.Mem.∈</a> <a id="1070" href="Common.html#1511" class="Field">outputs</a> <a id="1078" href="UTxOErr.UTxO.html#1053" class="Bound">tx</a> <a id="1081" class="Symbol">→</a> <a id="1083" href="UTxOErr.UTxO.html#682" class="Record">TxOutputRef</a> <a id="1095" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1097" href="Common.html#593" class="Record">TxOutput</a>
<a id="1106" href="UTxOErr.UTxO.html#1036" class="Function">mkUtxo</a> <a id="1113" class="Symbol">{</a><a id="1114" href="UTxOErr.UTxO.html#1114" class="Bound">out</a><a id="1117" class="Symbol">}</a> <a id="1119" href="UTxOErr.UTxO.html#1119" class="Bound">tx</a> <a id="1122" href="UTxOErr.UTxO.html#1122" class="Bound">out∈</a> <a id="1127" class="Symbol">=</a> <a id="1129" class="Symbol">(</a><a id="1130" href="UTxOErr.UTxO.html#1119" class="Bound">tx</a> <a id="1133" href="Common.html#427" class="Postulate Operator">♯</a><a id="1134" class="Symbol">)</a> <a id="1136" href="UTxOErr.UTxO.html#721" class="InductiveConstructor Operator">indexed-at</a> <a id="1147" href="Prelude.ToN.html#139" class="Field">toℕ</a> <a id="1151" class="Symbol">(</a><a id="1152" href="Data.List.Relation.Unary.Any.html#1826" class="Function">L.Any.index</a> <a id="1164" href="UTxOErr.UTxO.html#1122" class="Bound">out∈</a><a id="1168" class="Symbol">)</a> <a id="1170" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1172" href="UTxOErr.UTxO.html#1114" class="Bound">out</a>

<a id="utxoTx"></a><a id="1177" href="UTxOErr.UTxO.html#1177" class="Function">utxoTx</a> <a id="1184" class="Symbol">:</a> <a id="1186" href="Common.html#1452" class="Record">Tx</a> <a id="1189" class="Symbol">→</a> <a id="1191" href="UTxOErr.UTxO.html#992" class="Function">S</a>
<a id="1193" href="UTxOErr.UTxO.html#1177" class="Function">utxoTx</a> <a id="1200" href="UTxOErr.UTxO.html#1200" class="Bound">tx</a> <a id="1203" class="Symbol">=</a> <a id="1205" href="Prelude.FromList.html#197" class="Field">fromList</a> <a id="1214" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="1216" href="Data.List.Membership.Setoid.html#1137" class="Function">L.Mem.mapWith∈</a> <a id="1231" class="Symbol">(</a><a id="1232" href="UTxOErr.UTxO.html#1200" class="Bound">tx</a> <a id="1235" class="Symbol">.</a><a id="1236" href="Common.html#1511" class="Field">outputs</a><a id="1243" class="Symbol">)</a> <a id="1245" class="Symbol">(</a><a id="1246" href="UTxOErr.UTxO.html#1036" class="Function">mkUtxo</a> <a id="1253" href="UTxOErr.UTxO.html#1200" class="Bound">tx</a><a id="1255" class="Symbol">)</a>

<a id="1258" class="Comment">-- open L.SubL renaming (_⊆_ to _⊑_)</a>

<a id="1296" class="Keyword">module</a> <a id="1303" href="UTxOErr.UTxO.html#1303" class="Module">_</a> <a id="1305" class="Symbol">{</a><a id="1306" href="UTxOErr.UTxO.html#1306" class="Bound">K</a> <a id="1308" href="UTxOErr.UTxO.html#1308" class="Bound">V</a> <a id="1310" class="Symbol">:</a> <a id="1312" href="Agda.Primitive.html#320" class="Primitive">Type</a><a id="1316" class="Symbol">}</a> <a id="1318" class="Symbol">⦃</a> <a id="1320" href="UTxOErr.UTxO.html#1320" class="Bound">_</a> <a id="1322" class="Symbol">:</a> <a id="1324" href="Prelude.DecEq.Core.html#148" class="Record">DecEq</a> <a id="1330" href="UTxOErr.UTxO.html#1306" class="Bound">K</a> <a id="1332" class="Symbol">⦄</a> <a id="1334" class="Symbol">⦃</a> <a id="1336" href="UTxOErr.UTxO.html#1336" class="Bound">_</a> <a id="1338" class="Symbol">:</a> <a id="1340" href="Prelude.DecEq.Core.html#148" class="Record">DecEq</a> <a id="1346" href="UTxOErr.UTxO.html#1308" class="Bound">V</a> <a id="1348" class="Symbol">⦄</a> <a id="1350" class="Keyword">where</a>
  <a id="1358" class="Keyword">open</a> <a id="1363" class="Keyword">import</a> <a id="1370" href="Prelude.ToList.html" class="Module">Prelude.ToList</a>
  <a id="1387" class="Keyword">import</a> <a id="1394" href="Prelude.Sets.html" class="Module">Prelude.Sets</a> <a id="1407" class="Symbol">as</a> <a id="1410" class="Module">S</a>
  <a id="1414" class="Keyword">import</a> <a id="1421" href="Prelude.Bags.html" class="Module">Prelude.Bags</a> <a id="1434" class="Symbol">as</a> <a id="1437" class="Module">B</a>

  <a id="1442" href="UTxOErr.UTxO.html#1442" class="Function Operator">_‼_</a> <a id="1446" class="Symbol">:</a> <a id="1448" class="Symbol">{</a><a id="1449" href="UTxOErr.UTxO.html#1449" class="Bound">k</a> <a id="1451" class="Symbol">:</a> <a id="1453" href="UTxOErr.UTxO.html#1306" class="Bound">K</a><a id="1454" class="Symbol">}</a> <a id="1456" class="Symbol">(</a><a id="1457" href="UTxOErr.UTxO.html#1457" class="Bound">m</a> <a id="1459" class="Symbol">:</a> <a id="1461" href="Prelude.Maps.AsSets.html#550" class="Record">Map⟨</a> <a id="1466" href="UTxOErr.UTxO.html#1306" class="Bound">K</a> <a id="1468" href="Prelude.Maps.AsSets.html#550" class="Record">↦</a> <a id="1470" href="UTxOErr.UTxO.html#1308" class="Bound">V</a> <a id="1472" href="Prelude.Maps.AsSets.html#550" class="Record">⟩</a><a id="1473" class="Symbol">)</a> <a id="1475" class="Symbol">→</a> <a id="1477" href="UTxOErr.UTxO.html#1449" class="Bound">k</a> <a id="1479" href="Prelude.Maps.AsSets.html#1627" class="Function Operator">∈ᵈ</a> <a id="1482" href="UTxOErr.UTxO.html#1457" class="Bound">m</a> <a id="1484" class="Symbol">→</a> <a id="1486" href="UTxOErr.UTxO.html#1308" class="Bound">V</a>
  <a id="1490" href="UTxOErr.UTxO.html#1490" class="Bound">m</a> <a id="1492" href="UTxOErr.UTxO.html#1442" class="Function Operator">‼</a> <a id="1494" href="UTxOErr.UTxO.html#1494" class="Bound">k∈</a> <a id="1497" class="Symbol">=</a> <a id="1499" href="Prelude.Maybes.html#2522" class="Function">destruct-Is-just</a> <a id="1516" class="Symbol">(</a><a id="1517" href="Prelude.Maps.AsSets.html#4597" class="Function">∈ᵈ⇒⁉</a> <a id="1522" href="UTxOErr.UTxO.html#1490" class="Bound">m</a> <a id="1524" href="UTxOErr.UTxO.html#1494" class="Bound">k∈</a><a id="1526" class="Symbol">)</a> <a id="1528" class="Symbol">.</a><a id="1529" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>

  <a id="1538" href="UTxOErr.UTxO.html#1538" class="Function Operator">_─ᵏˢ_</a> <a id="1544" class="Symbol">:</a> <a id="1546" href="Prelude.Maps.AsSets.html#550" class="Record">Map⟨</a> <a id="1551" href="UTxOErr.UTxO.html#1306" class="Bound">K</a> <a id="1553" href="Prelude.Maps.AsSets.html#550" class="Record">↦</a> <a id="1555" href="UTxOErr.UTxO.html#1308" class="Bound">V</a> <a id="1557" href="Prelude.Maps.AsSets.html#550" class="Record">⟩</a> <a id="1559" class="Symbol">→</a> <a id="1561" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1566" href="UTxOErr.UTxO.html#1306" class="Bound">K</a> <a id="1568" class="Symbol">→</a> <a id="1570" href="Prelude.Maps.AsSets.html#550" class="Record">Map⟨</a> <a id="1575" href="UTxOErr.UTxO.html#1306" class="Bound">K</a> <a id="1577" href="Prelude.Maps.AsSets.html#550" class="Record">↦</a> <a id="1579" href="UTxOErr.UTxO.html#1308" class="Bound">V</a> <a id="1581" href="Prelude.Maps.AsSets.html#550" class="Record">⟩</a>
  <a id="1585" href="UTxOErr.UTxO.html#1585" class="Bound">m</a> <a id="1587" href="UTxOErr.UTxO.html#1538" class="Function Operator">─ᵏˢ</a> <a id="1591" href="UTxOErr.UTxO.html#1591" class="Bound">ks</a> <a id="1594" class="Symbol">=</a> <a id="1596" href="Prelude.Maps.AsSets.html#3369" class="Function">filterK</a> <a id="1604" class="Symbol">(</a><a id="1605" href="Prelude.Membership.html#613" class="Function Operator">_∉?</a> <a id="1609" href="UTxOErr.UTxO.html#1591" class="Bound">ks</a><a id="1611" class="Symbol">)</a> <a id="1613" href="UTxOErr.UTxO.html#1585" class="Bound">m</a>

  <a id="1618" href="UTxOErr.UTxO.html#1618" class="Function">keys</a> <a id="1623" class="Symbol">:</a> <a id="1625" href="Prelude.Maps.AsSets.html#550" class="Record">Map⟨</a> <a id="1630" href="UTxOErr.UTxO.html#1306" class="Bound">K</a> <a id="1632" href="Prelude.Maps.AsSets.html#550" class="Record">↦</a> <a id="1634" href="UTxOErr.UTxO.html#1308" class="Bound">V</a> <a id="1636" href="Prelude.Maps.AsSets.html#550" class="Record">⟩</a> <a id="1638" class="Symbol">→</a> <a id="1640" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1645" href="UTxOErr.UTxO.html#1306" class="Bound">K</a>
  <a id="1649" href="UTxOErr.UTxO.html#1618" class="Function">keys</a> <a id="1654" class="Symbol">=</a> <a id="1656" href="Data.List.Base.html#1553" class="Function">map</a> <a id="1660" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="1666" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1668" href="Prelude.ToList.html#193" class="Field">toList</a>

  <a id="1678" href="UTxOErr.UTxO.html#1678" class="Function">keysˢ</a> <a id="1684" class="Symbol">:</a> <a id="1686" href="Prelude.Maps.AsSets.html#550" class="Record">Map⟨</a> <a id="1691" href="UTxOErr.UTxO.html#1306" class="Bound">K</a> <a id="1693" href="Prelude.Maps.AsSets.html#550" class="Record">↦</a> <a id="1695" href="UTxOErr.UTxO.html#1308" class="Bound">V</a> <a id="1697" href="Prelude.Maps.AsSets.html#550" class="Record">⟩</a> <a id="1699" class="Symbol">→</a> <a id="1701" href="Prelude.Bags.AsLists.html#820" class="Record">B.Bag⟨</a> <a id="1708" href="UTxOErr.UTxO.html#1306" class="Bound">K</a> <a id="1710" href="Prelude.Bags.AsLists.html#820" class="Record">⟩</a>
  <a id="1714" href="UTxOErr.UTxO.html#1678" class="Function">keysˢ</a> <a id="1720" class="Symbol">=</a> <a id="1722" href="Prelude.FromList.html#197" class="Field">fromList</a> <a id="1731" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1733" href="UTxOErr.UTxO.html#1618" class="Function">keys</a>

  <a id="1741" href="UTxOErr.UTxO.html#1741" class="Function">values⊑</a> <a id="1749" class="Symbol">:</a> <a id="1751" class="Symbol">(</a><a id="1752" href="UTxOErr.UTxO.html#1752" class="Bound">m</a> <a id="1754" class="Symbol">:</a> <a id="1756" href="Prelude.Maps.AsSets.html#550" class="Record">Map⟨</a> <a id="1761" href="UTxOErr.UTxO.html#1306" class="Bound">K</a> <a id="1763" href="Prelude.Maps.AsSets.html#550" class="Record">↦</a> <a id="1765" href="UTxOErr.UTxO.html#1308" class="Bound">V</a> <a id="1767" href="Prelude.Maps.AsSets.html#550" class="Record">⟩</a><a id="1768" class="Symbol">)</a> <a id="1770" class="Symbol">→</a> <a id="1772" href="Data.Product.html#1378" class="Function">∃</a> <a id="1774" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="1776" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="1780" class="Symbol">(</a><a id="1781" href="Prelude.Maps.AsSets.html#1627" class="Function Operator">_∈ᵈ</a> <a id="1785" href="UTxOErr.UTxO.html#1752" class="Bound">m</a><a id="1786" class="Symbol">)</a> <a id="1788" class="Symbol">→</a> <a id="1790" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1795" href="UTxOErr.UTxO.html#1308" class="Bound">V</a>
  <a id="1799" href="UTxOErr.UTxO.html#1741" class="Function">values⊑</a> <a id="1807" href="UTxOErr.UTxO.html#1807" class="Bound">m</a> <a id="1809" class="Symbol">(</a><a id="1810" href="UTxOErr.UTxO.html#1810" class="Bound">ks</a> <a id="1813" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1815" href="UTxOErr.UTxO.html#1815" class="Bound">ks⊆</a><a id="1818" class="Symbol">)</a> <a id="1820" class="Symbol">=</a> <a id="1822" href="Data.List.Membership.Setoid.html#1137" class="Function">mapWith∈</a> <a id="1831" href="UTxOErr.UTxO.html#1810" class="Bound">ks</a> <a id="1834" class="Symbol">((</a><a id="1836" href="UTxOErr.UTxO.html#1807" class="Bound">m</a> <a id="1838" href="UTxOErr.UTxO.html#1442" class="Function Operator">‼_</a><a id="1840" class="Symbol">)</a> <a id="1842" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1844" href="Data.List.Relation.Unary.All.html#5775" class="Function">L.All.lookup</a> <a id="1857" href="UTxOErr.UTxO.html#1815" class="Bound">ks⊆</a><a id="1860" class="Symbol">)</a>

  <a id="1865" href="UTxOErr.UTxO.html#1865" class="Function">values</a> <a id="1872" href="UTxOErr.UTxO.html#1872" class="Function">values′</a> <a id="1880" class="Symbol">:</a> <a id="1882" href="Prelude.Maps.AsSets.html#550" class="Record">Map⟨</a> <a id="1887" href="UTxOErr.UTxO.html#1306" class="Bound">K</a> <a id="1889" href="Prelude.Maps.AsSets.html#550" class="Record">↦</a> <a id="1891" href="UTxOErr.UTxO.html#1308" class="Bound">V</a> <a id="1893" href="Prelude.Maps.AsSets.html#550" class="Record">⟩</a> <a id="1895" class="Symbol">→</a> <a id="1897" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1902" href="UTxOErr.UTxO.html#1308" class="Bound">V</a>
  <a id="1906" href="UTxOErr.UTxO.html#1865" class="Function">values</a> <a id="1913" class="Symbol">=</a> <a id="1915" href="Data.List.Base.html#1553" class="Function">map</a> <a id="1919" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="1925" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1927" href="Prelude.ToList.html#193" class="Field">toList</a>
  <a id="1936" href="UTxOErr.UTxO.html#1872" class="Function">values′</a> <a id="1944" href="UTxOErr.UTxO.html#1944" class="Bound">m</a> <a id="1946" class="Symbol">=</a> <a id="1948" href="UTxOErr.UTxO.html#1741" class="Function">values⊑</a> <a id="1956" href="UTxOErr.UTxO.html#1944" class="Bound">m</a> <a id="1958" class="Symbol">(</a><a id="1959" href="UTxOErr.UTxO.html#1618" class="Function">keys</a> <a id="1964" href="UTxOErr.UTxO.html#1944" class="Bound">m</a> <a id="1966" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1968" href="Data.List.Relation.Unary.All.html#3734" class="Function">L.All.tabulate</a> <a id="1983" href="Function.Base.html#624" class="Function">id</a><a id="1985" class="Symbol">)</a>

  <a id="1990" href="UTxOErr.UTxO.html#1990" class="Function">values⊑ˢ</a> <a id="1999" class="Symbol">:</a> <a id="2001" class="Symbol">(</a><a id="2002" href="UTxOErr.UTxO.html#2002" class="Bound">m</a> <a id="2004" class="Symbol">:</a> <a id="2006" href="Prelude.Maps.AsSets.html#550" class="Record">Map⟨</a> <a id="2011" href="UTxOErr.UTxO.html#1306" class="Bound">K</a> <a id="2013" href="Prelude.Maps.AsSets.html#550" class="Record">↦</a> <a id="2015" href="UTxOErr.UTxO.html#1308" class="Bound">V</a> <a id="2017" href="Prelude.Maps.AsSets.html#550" class="Record">⟩</a><a id="2018" class="Symbol">)</a> <a id="2020" class="Symbol">→</a> <a id="2022" href="Data.Product.html#1378" class="Function">∃</a> <a id="2024" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="2026" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="2030" class="Symbol">(</a><a id="2031" href="Prelude.Maps.AsSets.html#1627" class="Function Operator">_∈ᵈ</a> <a id="2035" href="UTxOErr.UTxO.html#2002" class="Bound">m</a><a id="2036" class="Symbol">)</a> <a id="2038" class="Symbol">→</a> <a id="2040" href="Prelude.Bags.AsLists.html#820" class="Record">B.Bag⟨</a> <a id="2047" href="UTxOErr.UTxO.html#1308" class="Bound">V</a> <a id="2049" href="Prelude.Bags.AsLists.html#820" class="Record">⟩</a>
  <a id="2053" href="UTxOErr.UTxO.html#1990" class="Function">values⊑ˢ</a> <a id="2062" class="Symbol">=</a> <a id="2064" href="Prelude.FromList.html#197" class="Field">fromList</a> <a id="2073" href="Function.Base.html#1228" class="Function Operator">∘₂</a> <a id="2076" href="UTxOErr.UTxO.html#1741" class="Function">values⊑</a>

  <a id="2087" href="UTxOErr.UTxO.html#2087" class="Function">valuesˢ</a> <a id="2095" href="UTxOErr.UTxO.html#2095" class="Function">valuesˢ′</a> <a id="2104" class="Symbol">:</a> <a id="2106" href="Prelude.Maps.AsSets.html#550" class="Record">Map⟨</a> <a id="2111" href="UTxOErr.UTxO.html#1306" class="Bound">K</a> <a id="2113" href="Prelude.Maps.AsSets.html#550" class="Record">↦</a> <a id="2115" href="UTxOErr.UTxO.html#1308" class="Bound">V</a> <a id="2117" href="Prelude.Maps.AsSets.html#550" class="Record">⟩</a> <a id="2119" class="Symbol">→</a> <a id="2121" href="Prelude.Bags.AsLists.html#820" class="Record">B.Bag⟨</a> <a id="2128" href="UTxOErr.UTxO.html#1308" class="Bound">V</a> <a id="2130" href="Prelude.Bags.AsLists.html#820" class="Record">⟩</a>
  <a id="2134" href="UTxOErr.UTxO.html#2087" class="Function">valuesˢ</a> <a id="2142" class="Symbol">=</a> <a id="2144" href="Prelude.FromList.html#197" class="Field">fromList</a> <a id="2153" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="2155" href="Data.List.Base.html#1553" class="Function">map</a> <a id="2159" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="2165" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="2167" href="Prelude.ToList.html#193" class="Field">toList</a>
  <a id="2176" href="UTxOErr.UTxO.html#2095" class="Function">valuesˢ′</a> <a id="2185" href="UTxOErr.UTxO.html#2185" class="Bound">m</a> <a id="2187" class="Symbol">=</a> <a id="2189" href="UTxOErr.UTxO.html#1990" class="Function">values⊑ˢ</a> <a id="2198" href="UTxOErr.UTxO.html#2185" class="Bound">m</a> <a id="2200" class="Symbol">(</a><a id="2201" href="UTxOErr.UTxO.html#1618" class="Function">keys</a> <a id="2206" href="UTxOErr.UTxO.html#2185" class="Bound">m</a> <a id="2208" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2210" href="Data.List.Relation.Unary.All.html#3734" class="Function">L.All.tabulate</a> <a id="2225" href="Function.Base.html#624" class="Function">id</a><a id="2227" class="Symbol">)</a>

  <a id="2232" class="Keyword">private</a> <a id="2240" class="Keyword">variable</a>
    <a id="2253" href="UTxOErr.UTxO.html#2253" class="Generalizable">m</a> <a id="2255" href="UTxOErr.UTxO.html#2255" class="Generalizable">m′</a> <a id="2258" class="Symbol">:</a> <a id="2260" href="Prelude.Maps.AsSets.html#550" class="Record">Map⟨</a> <a id="2265" href="UTxOErr.UTxO.html#1306" class="Bound">K</a> <a id="2267" href="Prelude.Maps.AsSets.html#550" class="Record">↦</a> <a id="2269" href="UTxOErr.UTxO.html#1308" class="Bound">V</a> <a id="2271" href="Prelude.Maps.AsSets.html#550" class="Record">⟩</a>
    <a id="2277" href="UTxOErr.UTxO.html#2277" class="Generalizable">ks</a> <a id="2280" class="Symbol">:</a> <a id="2282" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2287" href="UTxOErr.UTxO.html#1306" class="Bound">K</a><a id="2288" class="Symbol">;</a> <a id="2290" href="UTxOErr.UTxO.html#2290" class="Generalizable">kvs</a> <a id="2294" class="Symbol">:</a> <a id="2296" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2301" class="Symbol">(</a><a id="2302" href="UTxOErr.UTxO.html#1306" class="Bound">K</a> <a id="2304" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="2306" href="UTxOErr.UTxO.html#1308" class="Bound">V</a><a id="2307" class="Symbol">)</a>
  <a id="2311" class="Keyword">postulate</a>
    <a id="2325" href="UTxOErr.UTxO.html#2325" class="Postulate">valuesˢ-∪</a> <a id="2335" class="Symbol">:</a> <a id="2337" href="UTxOErr.UTxO.html#2087" class="Function">valuesˢ</a> <a id="2345" class="Symbol">(</a><a id="2346" href="UTxOErr.UTxO.html#2253" class="Generalizable">m</a> <a id="2348" href="Prelude.Maps.AsSets.html#1469" class="Function Operator">∪</a> <a id="2350" href="UTxOErr.UTxO.html#2255" class="Generalizable">m′</a><a id="2352" class="Symbol">)</a> <a id="2354" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2356" href="UTxOErr.UTxO.html#2087" class="Function">valuesˢ</a> <a id="2364" href="UTxOErr.UTxO.html#2253" class="Generalizable">m</a> <a id="2366" href="Prelude.Bags.AsLists.html#2158" class="Function Operator">B.∪</a> <a id="2370" href="UTxOErr.UTxO.html#2087" class="Function">valuesˢ</a> <a id="2378" href="UTxOErr.UTxO.html#2255" class="Generalizable">m′</a>
    <a id="2385" href="UTxOErr.UTxO.html#2385" class="Postulate">valuesˢ∘fromList</a> <a id="2402" class="Symbol">:</a> <a id="2404" href="UTxOErr.UTxO.html#2087" class="Function">valuesˢ</a> <a id="2412" class="Symbol">(</a><a id="2413" href="Prelude.FromList.html#197" class="Field">fromList</a> <a id="2422" href="UTxOErr.UTxO.html#2290" class="Generalizable">kvs</a><a id="2425" class="Symbol">)</a> <a id="2427" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2429" href="Prelude.FromList.html#197" class="Field">fromList</a> <a id="2438" class="Symbol">(</a><a id="2439" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="2445" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="2449" href="UTxOErr.UTxO.html#2290" class="Generalizable">kvs</a><a id="2452" class="Symbol">)</a>
    <a id="2458" href="UTxOErr.UTxO.html#2458" class="Postulate">valuesˢ-─</a> <a id="2468" class="Symbol">:</a> <a id="2470" class="Symbol">∀</a> <a id="2472" href="UTxOErr.UTxO.html#2472" class="Bound">m</a> <a id="2474" class="Symbol">(</a><a id="2475" href="UTxOErr.UTxO.html#2475" class="Bound">p</a> <a id="2477" class="Symbol">:</a> <a id="2479" href="Data.Product.html#1378" class="Function">∃</a> <a id="2481" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="2483" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="2487" class="Symbol">(</a><a id="2488" href="Prelude.Maps.AsSets.html#1627" class="Function Operator">_∈ᵈ</a> <a id="2492" href="UTxOErr.UTxO.html#2472" class="Bound">m</a><a id="2493" class="Symbol">))</a> <a id="2496" class="Symbol">→</a>
      <a id="2504" href="UTxOErr.UTxO.html#2087" class="Function">valuesˢ</a> <a id="2512" class="Symbol">(</a><a id="2513" href="UTxOErr.UTxO.html#2472" class="Bound">m</a> <a id="2515" href="UTxOErr.UTxO.html#1538" class="Function Operator">─ᵏˢ</a> <a id="2519" href="UTxOErr.UTxO.html#2475" class="Bound">p</a> <a id="2521" class="Symbol">.</a><a id="2522" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="2527" class="Symbol">)</a> <a id="2529" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2531" href="UTxOErr.UTxO.html#2087" class="Function">valuesˢ</a> <a id="2539" href="UTxOErr.UTxO.html#2472" class="Bound">m</a> <a id="2541" href="Prelude.Bags.AsLists.html#2162" class="Function Operator">B.─</a> <a id="2545" href="UTxOErr.UTxO.html#1990" class="Function">values⊑ˢ</a> <a id="2554" href="UTxOErr.UTxO.html#2472" class="Bound">m</a> <a id="2556" href="UTxOErr.UTxO.html#2475" class="Bound">p</a>
    <a id="2562" href="UTxOErr.UTxO.html#2562" class="Postulate">values⊆⇒⊆[bag]</a> <a id="2577" class="Symbol">:</a> <a id="2579" class="Symbol">∀</a> <a id="2581" href="UTxOErr.UTxO.html#2581" class="Bound">m</a> <a id="2583" class="Symbol">(</a><a id="2584" href="UTxOErr.UTxO.html#2584" class="Bound">p</a> <a id="2586" class="Symbol">:</a> <a id="2588" href="Data.Product.html#1378" class="Function">∃</a> <a id="2590" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="2592" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="2596" class="Symbol">(</a><a id="2597" href="Prelude.Maps.AsSets.html#1627" class="Function Operator">_∈ᵈ</a> <a id="2601" href="UTxOErr.UTxO.html#2581" class="Bound">m</a><a id="2602" class="Symbol">))</a> <a id="2605" class="Symbol">→</a>
      <a id="2613" href="UTxOErr.UTxO.html#1741" class="Function">values⊑</a> <a id="2621" href="UTxOErr.UTxO.html#2581" class="Bound">m</a> <a id="2623" href="UTxOErr.UTxO.html#2584" class="Bound">p</a> <a id="2625" href="Prelude.Lists.Dec.html#10751" class="Function Operator">⊆[bag]</a> <a id="2632" href="UTxOErr.UTxO.html#1865" class="Function">values</a> <a id="2639" href="UTxOErr.UTxO.html#2581" class="Bound">m</a>

  <a id="2644" href="UTxOErr.UTxO.html#2644" class="Function">values⊆⇒⊆ˢ</a> <a id="2655" class="Symbol">:</a> <a id="2657" class="Symbol">∀</a> <a id="2659" href="UTxOErr.UTxO.html#2659" class="Bound">m</a> <a id="2661" class="Symbol">(</a><a id="2662" href="UTxOErr.UTxO.html#2662" class="Bound">p</a> <a id="2664" class="Symbol">:</a> <a id="2666" href="Data.Product.html#1378" class="Function">∃</a> <a id="2668" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="2670" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="2674" class="Symbol">(</a><a id="2675" href="Prelude.Maps.AsSets.html#1627" class="Function Operator">_∈ᵈ</a> <a id="2679" href="UTxOErr.UTxO.html#2659" class="Bound">m</a><a id="2680" class="Symbol">))</a> <a id="2683" class="Symbol">→</a> <a id="2685" href="UTxOErr.UTxO.html#1990" class="Function">values⊑ˢ</a> <a id="2694" href="UTxOErr.UTxO.html#2659" class="Bound">m</a> <a id="2696" href="UTxOErr.UTxO.html#2662" class="Bound">p</a> <a id="2698" href="Prelude.Bags.AsLists.html#3008" class="Function Operator">B.⊆ˢ</a> <a id="2703" href="UTxOErr.UTxO.html#2087" class="Function">valuesˢ</a> <a id="2711" href="UTxOErr.UTxO.html#2659" class="Bound">m</a>
  <a id="2715" href="UTxOErr.UTxO.html#2644" class="Function">values⊆⇒⊆ˢ</a> <a id="2726" class="Symbol">=</a> <a id="2728" href="UTxOErr.UTxO.html#2562" class="Postulate">values⊆⇒⊆[bag]</a>

<a id="2744" class="Comment">--   values⊑ : Map⟨ K ↦ V ⟩ → List K → List V</a>
<a id="2790" class="Comment">--   values⊑ m ks = map proj₂ $ filter ((_∈? ks) ∘ proj₁) $ toList m</a>

<a id="2860" class="Comment">--   values values′ : Map⟨ K ↦ V ⟩ → List V</a>
<a id="2904" class="Comment">--   values = map proj₂ ∘ toList</a>
<a id="2937" class="Comment">--   values′ m = values⊑ m (keys m)</a>

<a id="2974" class="Comment">--   values⊑ˢ : Map⟨ K ↦ V ⟩ → List K → B.Bag⟨ V ⟩</a>
<a id="3025" class="Comment">--   values⊑ˢ m ks = fromList $ map proj₂ $ filter ((_∈? ks) ∘ proj₁) $ toList m</a>

<a id="3107" class="Comment">--   valuesˢ valuesˢ′ : Map⟨ K ↦ V ⟩ → B.Bag⟨ V ⟩</a>
<a id="3157" class="Comment">--   valuesˢ = fromList ∘ map proj₂ ∘ toList</a>
<a id="3202" class="Comment">--   valuesˢ′ m = values⊑ˢ m (keys m)</a>

<a id="3241" class="Comment">--   private variable</a>
<a id="3263" class="Comment">--     m m′ : Map⟨ K ↦ V ⟩</a>
<a id="3290" class="Comment">--     ks : List K; kvs : List (K × V)</a>
<a id="3329" class="Comment">--   postulate</a>
<a id="3344" class="Comment">--     valuesˢ-∪ : valuesˢ (m ∪ m′) ≡ valuesˢ m B.∪ valuesˢ m′</a>
<a id="3407" class="Comment">--     valuesˢ∘fromList : valuesˢ (fromList kvs) ≡ fromList (proj₂ &lt;$&gt; kvs)</a>
<a id="3483" class="Comment">--     valuesˢ-─ : valuesˢ (m ─ᵏˢ ks) ≡ valuesˢ m B.─ values⊑ˢ m ks</a>
<a id="3551" class="Comment">--     values⊆⇒⊆[bag] : ∀ m ks → values⊑ m ks ⊆[bag] values m</a>

<a id="3614" class="Comment">--   values⊆⇒⊆ˢ : ∀ m ks → values⊑ˢ m ks B.⊆ˢ valuesˢ m</a>
<a id="3670" class="Comment">--   values⊆⇒⊆ˢ = values⊆⇒⊆[bag]</a>

<a id="3704" class="Keyword">record</a> <a id="IsValidTx"></a><a id="3711" href="UTxOErr.UTxO.html#3711" class="Record">IsValidTx</a> <a id="3721" class="Symbol">(</a><a id="3722" href="UTxOErr.UTxO.html#3722" class="Bound">tx</a> <a id="3725" class="Symbol">:</a> <a id="3727" href="Common.html#1452" class="Record">Tx</a><a id="3729" class="Symbol">)</a> <a id="3731" class="Symbol">(</a><a id="3732" href="UTxOErr.UTxO.html#3732" class="Bound">utxos</a> <a id="3738" class="Symbol">:</a> <a id="3740" href="UTxOErr.UTxO.html#992" class="Function">S</a><a id="3741" class="Symbol">)</a> <a id="3743" class="Symbol">:</a> <a id="3745" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="3750" class="Keyword">where</a>
  <a id="3758" class="Keyword">field</a>
    <a id="IsValidTx.noDoubleSpending"></a><a id="3768" href="UTxOErr.UTxO.html#3768" class="Field">noDoubleSpending</a> <a id="3785" class="Symbol">:</a>
      <a id="3793" href="Prelude.Irrelevance.List.Unique.html#1002" class="Function">·Unique</a> <a id="3801" class="Symbol">(</a><a id="3802" href="Common.html#2104" class="Function">outputRefs</a> <a id="3813" href="UTxOErr.UTxO.html#3722" class="Bound">tx</a><a id="3815" class="Symbol">)</a>

    <a id="IsValidTx.validOutputRefs"></a><a id="3822" href="UTxOErr.UTxO.html#3822" class="Field">validOutputRefs</a> <a id="3838" class="Symbol">:</a>
      <a id="3846" href="Common.html#3090" class="Function">∀[</a> <a id="3849" href="UTxOErr.UTxO.html#3849" class="Bound">ref</a> <a id="3853" href="Common.html#3090" class="Function">∈</a> <a id="3855" href="Common.html#2104" class="Function">outputRefs</a> <a id="3866" href="UTxOErr.UTxO.html#3722" class="Bound">tx</a> <a id="3869" href="Common.html#3090" class="Function">]</a>
        <a id="3879" class="Symbol">(</a><a id="3880" href="UTxOErr.UTxO.html#3849" class="Bound">ref</a> <a id="3884" href="Prelude.Maps.AsSets.html#1627" class="Function Operator">∈ᵈ</a> <a id="3887" href="UTxOErr.UTxO.html#3732" class="Bound">utxos</a><a id="3892" class="Symbol">)</a>

  <a id="IsValidTx.resolved"></a><a id="3897" href="UTxOErr.UTxO.html#3897" class="Function">resolved</a> <a id="3906" class="Symbol">:</a> <a id="3908" href="Common.html#2180" class="Function">Resolved</a> <a id="3917" href="UTxOErr.UTxO.html#3722" class="Bound">tx</a>
  <a id="3922" href="UTxOErr.UTxO.html#3897" class="Function">resolved</a> <a id="3931" class="Symbol">=</a> <a id="3933" class="Symbol">(</a><a id="3934" href="UTxOErr.UTxO.html#3732" class="Bound">utxos</a> <a id="3940" href="UTxOErr.UTxO.html#1442" class="Function Operator">‼_</a><a id="3942" class="Symbol">)</a> <a id="3944" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="3946" href="Data.List.Relation.Unary.All.html#5775" class="Function">L.All.lookup</a> <a id="3959" href="UTxOErr.UTxO.html#3822" class="Field">validOutputRefs</a>

  <a id="IsValidTx.txInfo"></a><a id="3978" href="UTxOErr.UTxO.html#3978" class="Function">txInfo</a> <a id="3985" class="Symbol">=</a> <a id="3987" href="Common.html#2893" class="Function">mkTxInfo</a> <a id="3996" href="UTxOErr.UTxO.html#3722" class="Bound">tx</a> <a id="3999" href="UTxOErr.UTxO.html#3897" class="Function">resolved</a>
  <a id="IsValidTx.resolvedInputs"></a><a id="4010" href="UTxOErr.UTxO.html#4010" class="Function">resolvedInputs</a> <a id="4025" class="Symbol">=</a> <a id="4027" href="Common.html#2367" class="Function">resolveInputs</a> <a id="4041" href="UTxOErr.UTxO.html#3722" class="Bound">tx</a> <a id="4044" href="UTxOErr.UTxO.html#3897" class="Function">resolved</a>

  <a id="4056" class="Keyword">field</a>
    <a id="IsValidTx.preservesValues"></a><a id="4066" href="UTxOErr.UTxO.html#4066" class="Field">preservesValues</a> <a id="4082" class="Symbol">:</a>
      <a id="4090" href="UTxOErr.UTxO.html#3722" class="Bound">tx</a> <a id="4093" class="Symbol">.</a><a id="4094" href="Common.html#1545" class="Field">forge</a> <a id="4100" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4102" href="Common.html#514" class="Function">∑</a> <a id="4104" href="UTxOErr.UTxO.html#4010" class="Function">resolvedInputs</a> <a id="4119" class="Symbol">(</a><a id="4120" href="Common.html#642" class="Field">value</a> <a id="4126" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="4128" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="4133" class="Symbol">)</a> <a id="4135" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4137" href="Common.html#514" class="Function">∑</a> <a id="4139" class="Symbol">(</a><a id="4140" href="UTxOErr.UTxO.html#3722" class="Bound">tx</a> <a id="4143" class="Symbol">.</a><a id="4144" href="Common.html#1511" class="Field">outputs</a><a id="4151" class="Symbol">)</a> <a id="4153" href="Common.html#642" class="Field">value</a>

    <a id="IsValidTx.allInputsValidate"></a><a id="4164" href="UTxOErr.UTxO.html#4164" class="Field">allInputsValidate</a> <a id="4182" class="Symbol">:</a>
      <a id="4190" href="Common.html#3090" class="Function">∀[</a> <a id="4193" href="UTxOErr.UTxO.html#4193" class="Bound">i</a> <a id="4195" href="Common.html#3090" class="Function">∈</a> <a id="4197" href="UTxOErr.UTxO.html#3722" class="Bound">tx</a> <a id="4200" class="Symbol">.</a><a id="4201" href="Common.html#1478" class="Field">inputs</a> <a id="4208" href="Common.html#3090" class="Function">]</a>
        <a id="4218" href="Data.Bool.Base.html#1460" class="Function">T</a> <a id="4220" class="Symbol">(</a><a id="4221" href="UTxOErr.UTxO.html#4193" class="Bound">i</a> <a id="4223" class="Symbol">.</a><a id="4224" href="Common.html#1360" class="Field">validator</a> <a id="4234" href="UTxOErr.UTxO.html#3978" class="Function">txInfo</a> <a id="4241" class="Symbol">(</a><a id="4242" href="UTxOErr.UTxO.html#4193" class="Bound">i</a> <a id="4244" class="Symbol">.</a><a id="4245" href="Common.html#1403" class="Field">redeemer</a><a id="4253" class="Symbol">))</a>

    <a id="IsValidTx.validateValidHashes"></a><a id="4261" href="UTxOErr.UTxO.html#4261" class="Field">validateValidHashes</a> <a id="4281" class="Symbol">:</a>
      <a id="4289" href="Common.html#3090" class="Function">∀[</a> <a id="4292" href="UTxOErr.UTxO.html#4292" class="Bound">(</a><a id="4293" href="UTxOErr.UTxO.html#4293" class="Bound">i</a> <a id="4295" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4297" href="UTxOErr.UTxO.html#4297" class="Bound">o</a><a id="4298" href="UTxOErr.UTxO.html#4292" class="Bound">)</a> <a id="4300" href="Common.html#3090" class="Function">∈</a> <a id="4302" href="UTxOErr.UTxO.html#4010" class="Function">resolvedInputs</a> <a id="4317" href="Common.html#3090" class="Function">]</a>
        <a id="4327" class="Symbol">(</a><a id="4328" href="UTxOErr.UTxO.html#4297" class="Bound">o</a> <a id="4330" class="Symbol">.</a><a id="4331" href="Common.html#667" class="Field">address</a> <a id="4339" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4341" href="UTxOErr.UTxO.html#4293" class="Bound">i</a> <a id="4343" class="Symbol">.</a><a id="4344" href="Common.html#1360" class="Field">validator</a> <a id="4354" href="Common.html#427" class="Postulate Operator">♯</a><a id="4355" class="Symbol">)</a>

<a id="4358" class="Keyword">open</a> <a id="4363" href="UTxOErr.UTxO.html#3711" class="Module">IsValidTx</a> <a id="4373" class="Keyword">public</a>

<a id="4381" class="Keyword">instance</a>
  <a id="·Valid"></a><a id="4392" href="UTxOErr.UTxO.html#4392" class="Function">·Valid</a> <a id="4399" class="Symbol">:</a> <a id="4401" class="Symbol">∀</a> <a id="4403" class="Symbol">{</a><a id="4404" href="UTxOErr.UTxO.html#4404" class="Bound">tx</a> <a id="4407" href="UTxOErr.UTxO.html#4407" class="Bound">s</a><a id="4408" class="Symbol">}</a> <a id="4410" class="Symbol">→</a> <a id="4412" href="Prelude.Irrelevance.Core.html#215" class="Record Operator">·</a> <a id="4414" href="UTxOErr.UTxO.html#3711" class="Record">IsValidTx</a> <a id="4424" href="UTxOErr.UTxO.html#4404" class="Bound">tx</a> <a id="4427" href="UTxOErr.UTxO.html#4407" class="Bound">s</a>
  <a id="4431" href="UTxOErr.UTxO.html#4392" class="Function">·Valid</a> <a id="4438" class="Symbol">{</a><a id="4439" class="Argument">s</a> <a id="4441" class="Symbol">=</a> <a id="4443" class="Symbol">_</a> <a id="4445" href="Prelude.Maps.AsSets.html#581" class="InductiveConstructor Operator">⊣</a> <a id="4447" href="UTxOErr.UTxO.html#4447" class="Bound">·uniq</a><a id="4452" class="Symbol">}</a> <a id="4454" class="Symbol">.</a><a id="4455" href="Prelude.Irrelevance.Core.html#254" class="Field">∀≡</a>
    <a id="4462" class="Symbol">(</a><a id="4463" class="Keyword">record</a> <a id="4470" class="Symbol">{</a> <a id="4472" href="UTxOErr.UTxO.html#3768" class="Field">noDoubleSpending</a> <a id="4489" class="Symbol">=</a> <a id="4491" href="UTxOErr.UTxO.html#4491" class="Bound">ndp</a>
            <a id="4507" class="Symbol">;</a> <a id="4509" href="UTxOErr.UTxO.html#3822" class="Field">validOutputRefs</a> <a id="4525" class="Symbol">=</a> <a id="4527" href="UTxOErr.UTxO.html#4527" class="Bound">vor</a>
            <a id="4543" class="Symbol">;</a> <a id="4545" href="UTxOErr.UTxO.html#4066" class="Field">preservesValues</a> <a id="4561" class="Symbol">=</a> <a id="4563" href="UTxOErr.UTxO.html#4563" class="Bound">pv</a>
            <a id="4578" class="Symbol">;</a> <a id="4580" href="UTxOErr.UTxO.html#4164" class="Field">allInputsValidate</a> <a id="4598" class="Symbol">=</a> <a id="4600" href="UTxOErr.UTxO.html#4600" class="Bound">aiv</a>
            <a id="4616" class="Symbol">;</a> <a id="4618" href="UTxOErr.UTxO.html#4261" class="Field">validateValidHashes</a> <a id="4638" class="Symbol">=</a> <a id="4640" href="UTxOErr.UTxO.html#4640" class="Bound">vvh</a>
            <a id="4656" class="Symbol">})</a>
    <a id="4663" class="Symbol">(</a><a id="4664" class="Keyword">record</a> <a id="4671" class="Symbol">{</a> <a id="4673" href="UTxOErr.UTxO.html#3768" class="Field">noDoubleSpending</a> <a id="4690" class="Symbol">=</a> <a id="4692" href="UTxOErr.UTxO.html#4692" class="Bound">ndp′</a>
            <a id="4709" class="Symbol">;</a> <a id="4711" href="UTxOErr.UTxO.html#3822" class="Field">validOutputRefs</a> <a id="4727" class="Symbol">=</a> <a id="4729" href="UTxOErr.UTxO.html#4729" class="Bound">vor′</a>
            <a id="4746" class="Symbol">;</a> <a id="4748" href="UTxOErr.UTxO.html#4066" class="Field">preservesValues</a> <a id="4764" class="Symbol">=</a> <a id="4766" href="UTxOErr.UTxO.html#4766" class="Bound">pv′</a>
            <a id="4782" class="Symbol">;</a> <a id="4784" href="UTxOErr.UTxO.html#4164" class="Field">allInputsValidate</a> <a id="4802" class="Symbol">=</a> <a id="4804" href="UTxOErr.UTxO.html#4804" class="Bound">aiv′</a>
            <a id="4821" class="Symbol">;</a> <a id="4823" href="UTxOErr.UTxO.html#4261" class="Field">validateValidHashes</a> <a id="4843" class="Symbol">=</a> <a id="4845" href="UTxOErr.UTxO.html#4845" class="Bound">vvh′</a>
            <a id="4862" class="Symbol">})</a>
    <a id="4869" class="Keyword">with</a> <a id="4874" href="UTxOErr.UTxO.html#4874" class="Bound">uniq</a> ← <a id="4881" href="Relation.Nullary.html#1847" class="Function">recompute</a> <a id="4891" href="Prelude.Decidable.Core.html#166" class="Field">dec</a> <a id="4895" href="UTxOErr.UTxO.html#4447" class="Bound">·uniq</a>
    <a id="4905" class="Keyword">rewrite</a> <a id="4913" href="Prelude.Irrelevance.Core.html#254" class="Field">∀≡</a> <a id="4916" href="UTxOErr.UTxO.html#4491" class="Bound">ndp</a> <a id="4920" href="UTxOErr.UTxO.html#4692" class="Bound">ndp′</a>
          <a id="4935" class="Symbol">|</a> <a id="4937" href="Data.List.Relation.Unary.All.html#6499" class="Function">L.All.irrelevant</a> <a id="4954" class="Symbol">(</a><a id="4955" href="Prelude.Lists.WithK.html#2778" class="Function">∈-irr</a> <a id="4961" href="UTxOErr.UTxO.html#4874" class="Bound">uniq</a><a id="4965" class="Symbol">)</a> <a id="4967" href="UTxOErr.UTxO.html#4527" class="Bound">vor</a> <a id="4971" href="UTxOErr.UTxO.html#4729" class="Bound">vor′</a>
          <a id="4986" class="Symbol">|</a> <a id="4988" href="Prelude.Irrelevance.Core.html#254" class="Field">∀≡</a> <a id="4991" href="UTxOErr.UTxO.html#4563" class="Bound">pv</a> <a id="4994" href="UTxOErr.UTxO.html#4766" class="Bound">pv′</a>
          <a id="5008" class="Symbol">|</a> <a id="5010" href="Data.List.Relation.Unary.All.html#6499" class="Function">L.All.irrelevant</a> <a id="5027" href="Data.Bool.Properties.html#15414" class="Function">B.T-irrelevant</a> <a id="5042" href="UTxOErr.UTxO.html#4600" class="Bound">aiv</a> <a id="5046" href="UTxOErr.UTxO.html#4804" class="Bound">aiv′</a>
          <a id="5061" class="Symbol">|</a> <a id="5063" href="Prelude.Irrelevance.Core.html#254" class="Field">∀≡</a> <a id="5066" href="UTxOErr.UTxO.html#4640" class="Bound">vvh</a> <a id="5070" href="UTxOErr.UTxO.html#4845" class="Bound">vvh′</a>
          <a id="5085" class="Symbol">=</a> <a id="5087" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="isValidTx?"></a><a id="5093" href="UTxOErr.UTxO.html#5093" class="Function">isValidTx?</a> <a id="5104" class="Symbol">:</a> <a id="5106" class="Symbol">∀</a> <a id="5108" href="UTxOErr.UTxO.html#5108" class="Bound">tx</a> <a id="5111" href="UTxOErr.UTxO.html#5111" class="Bound">s</a> <a id="5113" class="Symbol">→</a> <a id="5115" href="Relation.Nullary.html#1520" class="Record">Dec</a> <a id="5119" class="Symbol">(</a><a id="5120" href="UTxOErr.UTxO.html#3711" class="Record">IsValidTx</a> <a id="5130" href="UTxOErr.UTxO.html#5108" class="Bound">tx</a> <a id="5133" href="UTxOErr.UTxO.html#5111" class="Bound">s</a><a id="5134" class="Symbol">)</a>
<a id="5136" href="UTxOErr.UTxO.html#5093" class="Function">isValidTx?</a> <a id="5147" href="UTxOErr.UTxO.html#5147" class="Bound">tx</a> <a id="5150" href="UTxOErr.UTxO.html#5150" class="Bound">s</a><a id="5151" class="Symbol">@(_</a> <a id="5155" href="Prelude.Maps.AsSets.html#581" class="InductiveConstructor Operator">⊣</a> <a id="5157" href="UTxOErr.UTxO.html#5157" class="Bound">·uniq</a><a id="5162" class="Symbol">)</a>
  <a id="5166" class="Keyword">with</a> <a id="5171" href="UTxOErr.UTxO.html#5171" class="Bound">uniq</a> ← <a id="5178" href="Relation.Nullary.html#1847" class="Function">recompute</a> <a id="5188" href="Prelude.Decidable.Core.html#166" class="Field">dec</a> <a id="5192" href="UTxOErr.UTxO.html#5157" class="Bound">·uniq</a>
  <a id="5200" class="Keyword">with</a> <a id="5205" href="Prelude.Decidable.Core.html#166" class="Field">dec</a>
<a id="5209" class="Symbol">...</a> <a id="5213" class="Symbol">|</a> <a id="5215" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="5218" href="UTxOErr.UTxO.html#5218" class="Bound">¬p</a> <a id="5221" class="Symbol">=</a> <a id="5223" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="5226" class="Symbol">(</a><a id="5227" href="UTxOErr.UTxO.html#5218" class="Bound">¬p</a> <a id="5230" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="5232" href="UTxOErr.UTxO.html#3768" class="Field">noDoubleSpending</a><a id="5248" class="Symbol">)</a>
<a id="5250" class="Symbol">...</a> <a id="5254" class="Symbol">|</a> <a id="5256" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="5260" href="UTxOErr.UTxO.html#5260" class="Bound">ndp</a> <a id="5264" class="Keyword">with</a> <a id="5269" href="Prelude.Decidable.Core.html#166" class="Field">dec</a>
<a id="5273" class="Symbol">...</a> <a id="5277" class="Symbol">|</a> <a id="5279" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="5282" href="UTxOErr.UTxO.html#5282" class="Bound">¬p</a> <a id="5285" class="Symbol">=</a> <a id="5287" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="5290" class="Symbol">(</a><a id="5291" href="UTxOErr.UTxO.html#5282" class="Bound">¬p</a> <a id="5294" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="5296" href="UTxOErr.UTxO.html#3822" class="Field">validOutputRefs</a><a id="5311" class="Symbol">)</a>
<a id="5313" class="Symbol">...</a> <a id="5317" class="Symbol">|</a> <a id="5319" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="5323" href="UTxOErr.UTxO.html#5323" class="Bound">vor</a> <a id="5327" class="Keyword">with</a> <a id="5332" href="Prelude.Decidable.Core.html#166" class="Field">dec</a>
<a id="5336" class="Symbol">...</a> <a id="5340" class="Symbol">|</a> <a id="5342" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="5345" href="UTxOErr.UTxO.html#5345" class="Bound">¬p</a> <a id="5348" class="Symbol">=</a> <a id="5350" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="5353" href="UTxOErr.UTxO.html#5368" class="Function">absurd</a>
  <a id="5362" class="Keyword">where</a> <a id="5368" href="UTxOErr.UTxO.html#5368" class="Function">absurd</a> <a id="5375" class="Symbol">:</a> <a id="5377" href="Relation.Nullary.html#665" class="Function Operator">¬</a> <a id="5379" href="UTxOErr.UTxO.html#3711" class="Record">IsValidTx</a> <a id="5389" class="Bound">tx</a> <a id="5392" class="Bound">s</a>
        <a id="5402" href="UTxOErr.UTxO.html#5368" class="Function">absurd</a> <a id="5409" class="Symbol">(</a><a id="5410" class="Keyword">record</a> <a id="5417" class="Symbol">{</a><a id="5418" href="UTxOErr.UTxO.html#3822" class="Field">validOutputRefs</a> <a id="5434" class="Symbol">=</a> <a id="5436" href="UTxOErr.UTxO.html#5436" class="Bound">vor′</a><a id="5440" class="Symbol">;</a> <a id="5442" href="UTxOErr.UTxO.html#4066" class="Field">preservesValues</a> <a id="5458" class="Symbol">=</a> <a id="5460" href="UTxOErr.UTxO.html#5460" class="Bound">p</a><a id="5461" class="Symbol">})</a>
          <a id="5474" class="Keyword">rewrite</a> <a id="5482" href="Data.List.Relation.Unary.All.html#6499" class="Function">L.All.irrelevant</a> <a id="5499" class="Symbol">(</a><a id="5500" href="Prelude.Lists.WithK.html#2778" class="Function">∈-irr</a> <a id="5506" href="UTxOErr.UTxO.html#5171" class="Bound">uniq</a><a id="5510" class="Symbol">)</a> <a id="5512" class="Bound">vor</a> <a id="5516" href="UTxOErr.UTxO.html#5436" class="Bound">vor′</a> <a id="5521" class="Symbol">=</a> <a id="5523" href="UTxOErr.UTxO.html#5345" class="Bound">¬p</a> <a id="5526" href="UTxOErr.UTxO.html#5460" class="Bound">p</a>
<a id="5528" class="Symbol">...</a> <a id="5532" class="Symbol">|</a> <a id="5534" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="5538" href="UTxOErr.UTxO.html#5538" class="Bound">pv</a> <a id="5541" class="Keyword">with</a> <a id="5546" href="Prelude.Decidable.Core.html#166" class="Field">dec</a>
<a id="5550" class="Symbol">...</a> <a id="5554" class="Symbol">|</a> <a id="5556" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="5559" href="UTxOErr.UTxO.html#5559" class="Bound">¬p</a> <a id="5562" class="Symbol">=</a> <a id="5564" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="5567" href="UTxOErr.UTxO.html#5582" class="Function">absurd</a>
  <a id="5576" class="Keyword">where</a> <a id="5582" href="UTxOErr.UTxO.html#5582" class="Function">absurd</a> <a id="5589" class="Symbol">:</a> <a id="5591" href="Relation.Nullary.html#665" class="Function Operator">¬</a> <a id="5593" href="UTxOErr.UTxO.html#3711" class="Record">IsValidTx</a> <a id="5603" class="Bound">tx</a> <a id="5606" class="Bound">s</a>
        <a id="5616" href="UTxOErr.UTxO.html#5582" class="Function">absurd</a> <a id="5623" class="Symbol">(</a><a id="5624" class="Keyword">record</a> <a id="5631" class="Symbol">{</a><a id="5632" href="UTxOErr.UTxO.html#3822" class="Field">validOutputRefs</a> <a id="5648" class="Symbol">=</a> <a id="5650" href="UTxOErr.UTxO.html#5650" class="Bound">vor′</a><a id="5654" class="Symbol">;</a> <a id="5656" href="UTxOErr.UTxO.html#4164" class="Field">allInputsValidate</a> <a id="5674" class="Symbol">=</a> <a id="5676" href="UTxOErr.UTxO.html#5676" class="Bound">p</a><a id="5677" class="Symbol">})</a>
          <a id="5690" class="Keyword">rewrite</a> <a id="5698" href="Data.List.Relation.Unary.All.html#6499" class="Function">L.All.irrelevant</a> <a id="5715" class="Symbol">(</a><a id="5716" href="Prelude.Lists.WithK.html#2778" class="Function">∈-irr</a> <a id="5722" href="UTxOErr.UTxO.html#5171" class="Bound">uniq</a><a id="5726" class="Symbol">)</a> <a id="5728" class="Bound">vor</a> <a id="5732" href="UTxOErr.UTxO.html#5650" class="Bound">vor′</a> <a id="5737" class="Symbol">=</a> <a id="5739" href="UTxOErr.UTxO.html#5559" class="Bound">¬p</a> <a id="5742" href="UTxOErr.UTxO.html#5676" class="Bound">p</a>
<a id="5744" class="Symbol">...</a> <a id="5748" class="Symbol">|</a> <a id="5750" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="5754" href="UTxOErr.UTxO.html#5754" class="Bound">aiv</a> <a id="5758" class="Keyword">with</a> <a id="5763" href="Prelude.Decidable.Core.html#166" class="Field">dec</a>
<a id="5767" class="Symbol">...</a> <a id="5771" class="Symbol">|</a> <a id="5773" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="5776" href="UTxOErr.UTxO.html#5776" class="Bound">¬p</a> <a id="5779" class="Symbol">=</a> <a id="5781" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="5784" href="UTxOErr.UTxO.html#5799" class="Function">absurd</a>
  <a id="5793" class="Keyword">where</a> <a id="5799" href="UTxOErr.UTxO.html#5799" class="Function">absurd</a> <a id="5806" class="Symbol">:</a> <a id="5808" href="Relation.Nullary.html#665" class="Function Operator">¬</a> <a id="5810" href="UTxOErr.UTxO.html#3711" class="Record">IsValidTx</a> <a id="5820" class="Bound">tx</a> <a id="5823" class="Bound">s</a>
        <a id="5833" href="UTxOErr.UTxO.html#5799" class="Function">absurd</a> <a id="5840" class="Symbol">(</a><a id="5841" class="Keyword">record</a> <a id="5848" class="Symbol">{</a><a id="5849" href="UTxOErr.UTxO.html#3822" class="Field">validOutputRefs</a> <a id="5865" class="Symbol">=</a> <a id="5867" href="UTxOErr.UTxO.html#5867" class="Bound">vor′</a><a id="5871" class="Symbol">;</a> <a id="5873" href="UTxOErr.UTxO.html#4261" class="Field">validateValidHashes</a> <a id="5893" class="Symbol">=</a> <a id="5895" href="UTxOErr.UTxO.html#5895" class="Bound">p</a><a id="5896" class="Symbol">})</a>
          <a id="5909" class="Keyword">rewrite</a> <a id="5917" href="Data.List.Relation.Unary.All.html#6499" class="Function">L.All.irrelevant</a> <a id="5934" class="Symbol">(</a><a id="5935" href="Prelude.Lists.WithK.html#2778" class="Function">∈-irr</a> <a id="5941" href="UTxOErr.UTxO.html#5171" class="Bound">uniq</a><a id="5945" class="Symbol">)</a> <a id="5947" class="Bound">vor</a> <a id="5951" href="UTxOErr.UTxO.html#5867" class="Bound">vor′</a> <a id="5956" class="Symbol">=</a> <a id="5958" href="UTxOErr.UTxO.html#5776" class="Bound">¬p</a> <a id="5961" href="UTxOErr.UTxO.html#5895" class="Bound">p</a>
<a id="5963" class="Symbol">...</a> <a id="5967" class="Symbol">|</a> <a id="5969" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="5973" href="UTxOErr.UTxO.html#5973" class="Bound">vvh</a> <a id="5977" class="Symbol">=</a> <a id="5979" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="5983" class="Keyword">record</a>
  <a id="5992" class="Symbol">{</a> <a id="5994" href="UTxOErr.UTxO.html#3768" class="Field">noDoubleSpending</a> <a id="6011" class="Symbol">=</a> <a id="6013" class="Bound">ndp</a>
  <a id="6019" class="Symbol">;</a> <a id="6021" href="UTxOErr.UTxO.html#3822" class="Field">validOutputRefs</a> <a id="6037" class="Symbol">=</a> <a id="6039" class="Bound">vor</a>
  <a id="6045" class="Symbol">;</a> <a id="6047" href="UTxOErr.UTxO.html#4066" class="Field">preservesValues</a> <a id="6063" class="Symbol">=</a> <a id="6065" class="Bound">pv</a>
  <a id="6070" class="Symbol">;</a> <a id="6072" href="UTxOErr.UTxO.html#4164" class="Field">allInputsValidate</a> <a id="6090" class="Symbol">=</a> <a id="6092" class="Bound">aiv</a>
  <a id="6098" class="Symbol">;</a> <a id="6100" href="UTxOErr.UTxO.html#4261" class="Field">validateValidHashes</a> <a id="6120" class="Symbol">=</a> <a id="6122" href="UTxOErr.UTxO.html#5973" class="Bound">vvh</a> <a id="6126" class="Symbol">}</a>

<a id="isValidTx"></a><a id="6129" href="UTxOErr.UTxO.html#6129" class="Function">isValidTx</a> <a id="6139" class="Symbol">:</a> <a id="6141" href="Common.html#1452" class="Record">Tx</a> <a id="6144" class="Symbol">→</a> <a id="6146" href="UTxOErr.UTxO.html#992" class="Function">S</a> <a id="6148" class="Symbol">→</a> <a id="6150" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
<a id="6155" href="UTxOErr.UTxO.html#6129" class="Function">isValidTx</a> <a id="6165" href="UTxOErr.UTxO.html#6165" class="Bound">tx</a> <a id="6168" href="UTxOErr.UTxO.html#6168" class="Bound">s</a> <a id="6170" class="Symbol">=</a> <a id="6172" href="Relation.Nullary.Decidable.Core.html#1321" class="Function Operator">⌊</a> <a id="6174" href="UTxOErr.UTxO.html#5093" class="Function">isValidTx?</a> <a id="6185" href="UTxOErr.UTxO.html#6165" class="Bound">tx</a> <a id="6188" href="UTxOErr.UTxO.html#6168" class="Bound">s</a> <a id="6190" href="Relation.Nullary.Decidable.Core.html#1321" class="Function Operator">⌋</a>
</pre></body></html>