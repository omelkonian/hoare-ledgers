<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>ValueSepUTxO.HoareLogic</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-------------------------</a>
<a id="27" class="Comment">-- ** Axiomatic semantics</a>

<a id="54" class="Keyword">module</a> <a id="61" href="ValueSepUTxO.HoareLogic.html" class="Module">ValueSepUTxO.HoareLogic</a> <a id="85" class="Keyword">where</a>

<a id="92" class="Keyword">open</a> <a id="97" class="Keyword">import</a> <a id="104" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="116" class="Symbol">;</a> <a id="118" class="Keyword">open</a> <a id="123" href="Prelude.Init.html#397" class="Module">SetAsType</a>
<a id="133" class="Keyword">open</a> <a id="138" class="Keyword">import</a> <a id="145" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="161" class="Keyword">open</a> <a id="166" class="Keyword">import</a> <a id="173" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="187" class="Keyword">open</a> <a id="192" class="Keyword">import</a> <a id="199" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="217" class="Keyword">open</a> <a id="222" class="Keyword">import</a> <a id="229" href="Prelude.Semigroup.html" class="Module">Prelude.Semigroup</a>
<a id="247" class="Keyword">open</a> <a id="252" class="Keyword">import</a> <a id="259" href="Prelude.Monoid.html" class="Module">Prelude.Monoid</a>
<a id="274" class="Keyword">open</a> <a id="279" class="Keyword">import</a> <a id="286" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="309" class="Keyword">open</a> <a id="314" class="Keyword">import</a> <a id="321" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="333" class="Keyword">open</a> <a id="338" class="Keyword">import</a> <a id="345" href="Prelude.Functor.html" class="Module">Prelude.Functor</a>
<a id="361" class="Keyword">open</a> <a id="366" class="Keyword">import</a> <a id="373" href="Prelude.Bifunctor.html" class="Module">Prelude.Bifunctor</a>
<a id="391" class="Keyword">open</a> <a id="396" class="Keyword">import</a> <a id="403" href="Prelude.Monad.html" class="Module">Prelude.Monad</a>
<a id="417" class="Keyword">open</a> <a id="422" class="Keyword">import</a> <a id="429" href="Prelude.Apartness.html" class="Module">Prelude.Apartness</a>

<a id="448" class="Keyword">open</a> <a id="453" class="Keyword">import</a> <a id="460" href="ValueSepUTxO.Maps.html" class="Module">ValueSepUTxO.Maps</a>
<a id="478" class="Keyword">open</a> <a id="483" class="Keyword">import</a> <a id="490" href="ValueSepUTxO.UTxO.html" class="Module">ValueSepUTxO.UTxO</a>
<a id="508" class="Keyword">open</a> <a id="513" class="Keyword">import</a> <a id="520" href="ValueSepUTxO.Ledger.html" class="Module">ValueSepUTxO.Ledger</a>

<a id="541" class="Comment">-- ** Shallow embedding of logic formulas/propositions.</a>
<a id="Assertion"></a><a id="597" href="ValueSepUTxO.HoareLogic.html#597" class="Function">Assertion</a> <a id="607" class="Symbol">=</a> <a id="609" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="615" href="ValueSepUTxO.UTxO.html#1900" class="Function">S</a>

<a id="618" class="Keyword">variable</a> <a id="627" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="629" href="ValueSepUTxO.HoareLogic.html#629" class="Generalizable">P′</a> <a id="632" href="ValueSepUTxO.HoareLogic.html#632" class="Generalizable">P₁</a> <a id="635" href="ValueSepUTxO.HoareLogic.html#635" class="Generalizable">P₂</a> <a id="638" href="ValueSepUTxO.HoareLogic.html#638" class="Generalizable">Q</a> <a id="640" href="ValueSepUTxO.HoareLogic.html#640" class="Generalizable">Q′</a> <a id="643" href="ValueSepUTxO.HoareLogic.html#643" class="Generalizable">Q₁</a> <a id="646" href="ValueSepUTxO.HoareLogic.html#646" class="Generalizable">Q₂</a> <a id="649" href="ValueSepUTxO.HoareLogic.html#649" class="Generalizable">R</a> <a id="651" class="Symbol">:</a> <a id="653" href="ValueSepUTxO.HoareLogic.html#597" class="Function">Assertion</a>

<a id="664" class="Keyword">private</a> <a id="672" class="Keyword">variable</a> <a id="681" href="ValueSepUTxO.HoareLogic.html#681" class="Generalizable">K</a> <a id="683" href="ValueSepUTxO.HoareLogic.html#683" class="Generalizable">V₁</a> <a id="686" href="ValueSepUTxO.HoareLogic.html#686" class="Generalizable">V₂</a> <a id="689" class="Symbol">:</a> <a id="691" href="Agda.Primitive.html#326" class="Primitive">Type</a>

<a id="emp"></a><a id="697" href="ValueSepUTxO.HoareLogic.html#697" class="Function">emp</a> <a id="701" class="Symbol">:</a> <a id="703" href="ValueSepUTxO.HoareLogic.html#597" class="Function">Assertion</a>
<a id="713" href="ValueSepUTxO.HoareLogic.html#697" class="Function">emp</a> <a id="717" href="ValueSepUTxO.HoareLogic.html#717" class="Bound">m</a> <a id="719" class="Symbol">=</a> <a id="721" class="Symbol">∀</a> <a id="723" href="ValueSepUTxO.HoareLogic.html#723" class="Bound">k</a> <a id="725" class="Symbol">→</a> <a id="727" href="ValueSepUTxO.HoareLogic.html#723" class="Bound">k</a> <a id="729" href="ValueSepUTxO.Maps.html#706" class="Function Operator">∉ᵈ</a> <a id="732" href="ValueSepUTxO.HoareLogic.html#717" class="Bound">m</a>

<a id="_∗_"></a><a id="735" href="ValueSepUTxO.HoareLogic.html#735" class="Function Operator">_∗_</a> <a id="739" class="Symbol">:</a> <a id="741" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="745" href="ValueSepUTxO.HoareLogic.html#597" class="Function">Assertion</a>
<a id="755" class="Symbol">(</a><a id="756" href="ValueSepUTxO.HoareLogic.html#756" class="Bound">P</a> <a id="758" href="ValueSepUTxO.HoareLogic.html#735" class="Function Operator">∗</a> <a id="760" href="ValueSepUTxO.HoareLogic.html#760" class="Bound">Q</a><a id="761" class="Symbol">)</a> <a id="763" href="ValueSepUTxO.HoareLogic.html#763" class="Bound">s</a> <a id="765" class="Symbol">=</a> <a id="767" href="Data.Product.html#1369" class="Function">∃</a> <a id="769" class="Symbol">λ</a> <a id="771" href="ValueSepUTxO.HoareLogic.html#771" class="Bound">s₁</a> <a id="774" class="Symbol">→</a> <a id="776" href="Data.Product.html#1369" class="Function">∃</a> <a id="778" class="Symbol">λ</a> <a id="780" href="ValueSepUTxO.HoareLogic.html#780" class="Bound">s₂</a> <a id="783" class="Symbol">→</a> <a id="785" href="ValueSepUTxO.Maps.html#2312" class="Function Operator">⟨</a> <a id="787" href="ValueSepUTxO.HoareLogic.html#771" class="Bound">s₁</a> <a id="790" href="ValueSepUTxO.Maps.html#2312" class="Function Operator">⊎</a> <a id="792" href="ValueSepUTxO.HoareLogic.html#780" class="Bound">s₂</a> <a id="795" href="ValueSepUTxO.Maps.html#2312" class="Function Operator">⟩≡</a> <a id="798" href="ValueSepUTxO.HoareLogic.html#763" class="Bound">s</a> <a id="800" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="802" href="ValueSepUTxO.HoareLogic.html#756" class="Bound">P</a> <a id="804" href="ValueSepUTxO.HoareLogic.html#771" class="Bound">s₁</a> <a id="807" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="809" href="ValueSepUTxO.HoareLogic.html#760" class="Bound">Q</a> <a id="811" href="ValueSepUTxO.HoareLogic.html#780" class="Bound">s₂</a>

<a id="_↦_"></a><a id="815" href="ValueSepUTxO.HoareLogic.html#815" class="Function Operator">_↦_</a> <a id="819" class="Symbol">:</a> <a id="821" href="ValueSepUTxO.UTxO.html#569" class="Record">TxOutputRef</a> <a id="833" class="Symbol">→</a> <a id="835" href="ValueSepUTxO.UTxO.html#767" class="Record">TxOutput</a> <a id="844" class="Symbol">→</a> <a id="846" href="ValueSepUTxO.HoareLogic.html#597" class="Function">Assertion</a>
<a id="856" href="ValueSepUTxO.HoareLogic.html#856" class="Bound">or</a> <a id="859" href="ValueSepUTxO.HoareLogic.html#815" class="Function Operator">↦</a> <a id="861" href="ValueSepUTxO.HoareLogic.html#861" class="Bound">o</a> <a id="863" class="Symbol">=</a> <a id="865" href="ValueSepUTxO.Maps.html#2856" class="Function Operator">_[</a> <a id="868" href="ValueSepUTxO.HoareLogic.html#856" class="Bound">or</a> <a id="871" href="ValueSepUTxO.Maps.html#2856" class="Function Operator">↦</a> <a id="873" href="ValueSepUTxO.HoareLogic.html#861" class="Bound">o</a> <a id="875" href="ValueSepUTxO.Maps.html#2856" class="Function Operator">]</a>

<a id="878" class="Keyword">infixr</a> <a id="885" class="Number">10</a> <a id="888" href="ValueSepUTxO.HoareLogic.html#735" class="Function Operator">_∗_</a>
<a id="892" class="Keyword">infix</a>  <a id="899" class="Number">11</a> <a id="902" href="ValueSepUTxO.HoareLogic.html#815" class="Function Operator">_↦_</a>

<a id="907" class="Comment">-- ** Hoare triples.</a>
<a id="weak↑"></a><a id="928" href="ValueSepUTxO.HoareLogic.html#928" class="Function">weak↑</a> <a id="strong↑"></a><a id="934" href="ValueSepUTxO.HoareLogic.html#934" class="Function">strong↑</a> <a id="942" class="Symbol">:</a> <a id="944" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="950" href="ValueSepUTxO.UTxO.html#1900" class="Function">S</a> <a id="952" class="Symbol">→</a> <a id="954" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="960" class="Symbol">(</a><a id="961" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="967" href="ValueSepUTxO.UTxO.html#1900" class="Function">S</a><a id="968" class="Symbol">)</a>
<a id="970" href="ValueSepUTxO.HoareLogic.html#928" class="Function">weak↑</a>   <a id="978" class="Symbol">=</a> <a id="980" href="Data.Maybe.Relation.Unary.All.html#943" class="Datatype">M.All.All</a>
<a id="990" href="ValueSepUTxO.HoareLogic.html#934" class="Function">strong↑</a> <a id="998" class="Symbol">=</a> <a id="1000" href="Data.Maybe.Relation.Unary.Any.html#830" class="Datatype">M.Any.Any</a>

<a id="1011" class="Keyword">infixl</a> <a id="1018" class="Number">4</a> <a id="1020" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">_↑∘_</a>
<a id="_↑∘_"></a><a id="1025" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">_↑∘_</a> <a id="1030" class="Symbol">:</a> <a id="1032" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="1038" href="ValueSepUTxO.UTxO.html#1900" class="Function">S</a> <a id="1040" class="Symbol">→</a> <a id="1042" class="Symbol">(</a><a id="1043" href="ValueSepUTxO.UTxO.html#1900" class="Function">S</a> <a id="1045" class="Symbol">→</a> <a id="1047" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1053" href="ValueSepUTxO.UTxO.html#1900" class="Function">S</a><a id="1054" class="Symbol">)</a> <a id="1056" class="Symbol">→</a> <a id="1058" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="1064" href="ValueSepUTxO.UTxO.html#1900" class="Function">S</a>
<a id="1066" href="ValueSepUTxO.HoareLogic.html#1066" class="Bound">P</a> <a id="1068" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">↑∘</a> <a id="1071" href="ValueSepUTxO.HoareLogic.html#1071" class="Bound">f</a> <a id="1073" class="Symbol">=</a> <a id="1075" href="ValueSepUTxO.HoareLogic.html#934" class="Function">strong↑</a> <a id="1083" href="ValueSepUTxO.HoareLogic.html#1066" class="Bound">P</a> <a id="1085" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1087" href="ValueSepUTxO.HoareLogic.html#1071" class="Bound">f</a>

<a id="lift↑"></a><a id="1090" href="ValueSepUTxO.HoareLogic.html#1090" class="Function">lift↑</a> <a id="1096" class="Symbol">=</a> <a id="1098" href="ValueSepUTxO.HoareLogic.html#934" class="Function">strong↑</a>
<a id="1106" class="Keyword">pattern</a> <a id="ret↑"></a><a id="1114" href="ValueSepUTxO.HoareLogic.html#1114" class="InductiveConstructor">ret↑</a> <a id="1119" href="ValueSepUTxO.HoareLogic.html#1134" class="Bound">x</a> <a id="1121" class="Symbol">=</a> <a id="1123" href="Data.Maybe.Relation.Unary.Any.html#900" class="InductiveConstructor">M.Any.just</a> <a id="1134" href="ValueSepUTxO.HoareLogic.html#1134" class="Bound">x</a>

<a id="map↑"></a><a id="1137" href="ValueSepUTxO.HoareLogic.html#1137" class="Function">map↑</a> <a id="1142" class="Symbol">:</a> <a id="1144" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="1146" href="Relation.Unary.html#1742" class="Function Operator">⊆¹</a> <a id="1149" href="ValueSepUTxO.HoareLogic.html#638" class="Generalizable">Q</a> <a id="1151" class="Symbol">→</a> <a id="1153" href="ValueSepUTxO.HoareLogic.html#1090" class="Function">lift↑</a> <a id="1159" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="1161" href="Relation.Unary.html#1742" class="Function Operator">⊆¹</a> <a id="1164" href="ValueSepUTxO.HoareLogic.html#1090" class="Function">lift↑</a> <a id="1170" href="ValueSepUTxO.HoareLogic.html#638" class="Generalizable">Q</a>
<a id="1172" href="ValueSepUTxO.HoareLogic.html#1137" class="Function">map↑</a> <a id="1177" class="Symbol">=</a> <a id="1179" href="Data.Maybe.Relation.Unary.Any.html#1252" class="Function">M.Any.map</a>

<a id="⟨_⟩_⟨_⟩"></a><a id="1190" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨_⟩_⟨_⟩</a> <a id="1198" class="Symbol">:</a> <a id="1200" href="ValueSepUTxO.HoareLogic.html#597" class="Function">Assertion</a> <a id="1210" class="Symbol">→</a> <a id="1212" href="ValueSepUTxO.UTxO.html#1804" class="Function">L</a> <a id="1214" class="Symbol">→</a> <a id="1216" href="ValueSepUTxO.HoareLogic.html#597" class="Function">Assertion</a> <a id="1226" class="Symbol">→</a> <a id="1228" href="Agda.Primitive.html#326" class="Primitive">Type</a>
<a id="1233" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="1235" href="ValueSepUTxO.HoareLogic.html#1235" class="Bound">P</a> <a id="1237" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="1239" href="ValueSepUTxO.HoareLogic.html#1239" class="Bound">l</a> <a id="1241" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="1243" href="ValueSepUTxO.HoareLogic.html#1243" class="Bound">Q</a> <a id="1245" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="1247" class="Symbol">=</a> <a id="1249" href="ValueSepUTxO.HoareLogic.html#1235" class="Bound">P</a> <a id="1251" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1253" href="ValueSepUTxO.HoareLogic.html#1243" class="Bound">Q</a> <a id="1255" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">↑∘</a> <a id="1258" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟦</a> <a id="1260" href="ValueSepUTxO.HoareLogic.html#1239" class="Bound">l</a> <a id="1262" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟧</a>

<a id="hoare-base"></a><a id="1265" href="ValueSepUTxO.HoareLogic.html#1265" class="Function">hoare-base</a> <a id="1276" class="Symbol">:</a>
  <a id="1280" href="Prelude.InferenceRules.html#47384" class="Function Operator">──────────────</a>
  <a id="1297" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="1299" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="1301" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="1303" class="InductiveConstructor">[]</a> <a id="1306" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="1308" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="1310" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a>
<a id="1312" href="ValueSepUTxO.HoareLogic.html#1265" class="Function">hoare-base</a> <a id="1323" class="Symbol">=</a> <a id="1325" href="ValueSepUTxO.HoareLogic.html#1114" class="InductiveConstructor">ret↑</a>

<a id="1331" class="Keyword">module</a> <a id="1338" href="ValueSepUTxO.HoareLogic.html#1338" class="Module">_</a> <a id="1340" class="Symbol">(</a><a id="1341" href="ValueSepUTxO.HoareLogic.html#1341" class="Bound">f</a> <a id="1343" class="Symbol">:</a> <a id="1345" href="ValueSepUTxO.UTxO.html#1900" class="Function">S</a> <a id="1347" class="Symbol">→</a> <a id="1349" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1355" href="ValueSepUTxO.UTxO.html#1900" class="Function">S</a><a id="1356" class="Symbol">)</a> <a id="1358" class="Keyword">where</a>
  <a id="1366" href="ValueSepUTxO.HoareLogic.html#1366" class="Function">lift∘&gt;&gt;=</a> <a id="1375" class="Symbol">:</a> <a id="1377" class="Symbol">∀</a> <a id="1379" class="Symbol">{</a><a id="1380" href="ValueSepUTxO.HoareLogic.html#1380" class="Bound">ms</a><a id="1382" class="Symbol">}</a>
    <a id="1388" class="Symbol">→</a> <a id="1390" href="ValueSepUTxO.HoareLogic.html#1090" class="Function">lift↑</a> <a id="1396" class="Symbol">(</a><a id="1397" href="ValueSepUTxO.HoareLogic.html#1090" class="Function">lift↑</a> <a id="1403" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="1405" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1407" href="ValueSepUTxO.HoareLogic.html#1341" class="Bound">f</a><a id="1408" class="Symbol">)</a> <a id="1410" href="ValueSepUTxO.HoareLogic.html#1380" class="Bound">ms</a>
    <a id="1417" class="Symbol">→</a> <a id="1419" href="ValueSepUTxO.HoareLogic.html#1090" class="Function">lift↑</a> <a id="1425" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="1427" class="Symbol">(</a><a id="1428" href="ValueSepUTxO.HoareLogic.html#1380" class="Bound">ms</a> <a id="1431" href="Prelude.Monad.html#569" class="Field Operator">&gt;&gt;=</a> <a id="1435" href="ValueSepUTxO.HoareLogic.html#1341" class="Bound">f</a><a id="1436" class="Symbol">)</a>
  <a id="1440" href="ValueSepUTxO.HoareLogic.html#1366" class="Function">lift∘&gt;&gt;=</a> <a id="1449" class="Symbol">(</a><a id="1450" href="ValueSepUTxO.HoareLogic.html#1114" class="InductiveConstructor">ret↑</a> <a id="1455" href="ValueSepUTxO.HoareLogic.html#1455" class="Bound">p</a><a id="1456" class="Symbol">)</a> <a id="1458" class="Symbol">=</a> <a id="1460" href="ValueSepUTxO.HoareLogic.html#1455" class="Bound">p</a>

  <a id="1465" href="ValueSepUTxO.HoareLogic.html#1465" class="Function">lift∘&gt;&gt;=˘</a> <a id="1475" class="Symbol">:</a> <a id="1477" class="Symbol">∀</a> <a id="1479" class="Symbol">{</a><a id="1480" href="ValueSepUTxO.HoareLogic.html#1480" class="Bound">ms</a> <a id="1483" class="Symbol">:</a> <a id="1485" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1491" href="ValueSepUTxO.UTxO.html#1900" class="Function">S</a><a id="1492" class="Symbol">}</a>
    <a id="1498" class="Symbol">→</a> <a id="1500" href="ValueSepUTxO.HoareLogic.html#1090" class="Function">lift↑</a> <a id="1506" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="1508" class="Symbol">(</a><a id="1509" href="ValueSepUTxO.HoareLogic.html#1480" class="Bound">ms</a> <a id="1512" href="Prelude.Monad.html#569" class="Field Operator">&gt;&gt;=</a> <a id="1516" href="ValueSepUTxO.HoareLogic.html#1341" class="Bound">f</a><a id="1517" class="Symbol">)</a>
    <a id="1523" class="Symbol">→</a> <a id="1525" href="ValueSepUTxO.HoareLogic.html#1090" class="Function">lift↑</a> <a id="1531" class="Symbol">(</a><a id="1532" href="ValueSepUTxO.HoareLogic.html#1090" class="Function">lift↑</a> <a id="1538" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="1540" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1542" href="ValueSepUTxO.HoareLogic.html#1341" class="Bound">f</a><a id="1543" class="Symbol">)</a> <a id="1545" href="ValueSepUTxO.HoareLogic.html#1480" class="Bound">ms</a>
  <a id="1550" href="ValueSepUTxO.HoareLogic.html#1465" class="Function">lift∘&gt;&gt;=˘</a> <a id="1560" class="Symbol">{</a><a id="1561" class="Argument">ms</a> <a id="1564" class="Symbol">=</a> <a id="1566" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="1571" href="ValueSepUTxO.HoareLogic.html#1571" class="Bound">s</a><a id="1572" class="Symbol">}</a> <a id="1574" href="ValueSepUTxO.HoareLogic.html#1574" class="Bound">p</a> <a id="1576" class="Symbol">=</a> <a id="1578" href="ValueSepUTxO.HoareLogic.html#1114" class="InductiveConstructor">ret↑</a> <a id="1583" href="ValueSepUTxO.HoareLogic.html#1574" class="Bound">p</a>

  <a id="1588" href="ValueSepUTxO.HoareLogic.html#1588" class="Function">lift∘=&lt;&lt;</a>  <a id="1598" class="Symbol">=</a> <a id="1600" href="ValueSepUTxO.HoareLogic.html#1366" class="Function">lift∘&gt;&gt;=</a>
  <a id="1611" href="ValueSepUTxO.HoareLogic.html#1611" class="Function">lift∘=&lt;&lt;˘</a> <a id="1621" class="Symbol">=</a> <a id="1623" href="ValueSepUTxO.HoareLogic.html#1465" class="Function">lift∘&gt;&gt;=˘</a>

<a id="1634" class="Keyword">module</a> <a id="1641" href="ValueSepUTxO.HoareLogic.html#1641" class="Module">_</a> <a id="1643" class="Symbol">(</a><a id="1644" href="ValueSepUTxO.HoareLogic.html#1644" class="Bound">f</a> <a id="1646" href="ValueSepUTxO.HoareLogic.html#1646" class="Bound">g</a> <a id="1648" class="Symbol">:</a> <a id="1650" href="ValueSepUTxO.UTxO.html#1900" class="Function">S</a> <a id="1652" class="Symbol">→</a> <a id="1654" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1660" href="ValueSepUTxO.UTxO.html#1900" class="Function">S</a><a id="1661" class="Symbol">)</a> <a id="1663" class="Keyword">where</a>
  <a id="1671" href="ValueSepUTxO.HoareLogic.html#1671" class="Function">lift²∘&gt;=&gt;</a> <a id="1681" class="Symbol">:</a> <a id="1683" class="Symbol">(</a><a id="1684" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="1686" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">↑∘</a> <a id="1689" href="ValueSepUTxO.HoareLogic.html#1646" class="Bound">g</a> <a id="1691" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">↑∘</a> <a id="1694" href="ValueSepUTxO.HoareLogic.html#1644" class="Bound">f</a><a id="1695" class="Symbol">)</a> <a id="1697" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1699" class="Symbol">(</a><a id="1700" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="1702" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">↑∘</a> <a id="1705" class="Symbol">(</a><a id="1706" href="ValueSepUTxO.HoareLogic.html#1644" class="Bound">f</a> <a id="1708" href="Prelude.Monad.html#754" class="Function Operator">&gt;=&gt;</a> <a id="1712" href="ValueSepUTxO.HoareLogic.html#1646" class="Bound">g</a><a id="1713" class="Symbol">))</a>
  <a id="1718" href="ValueSepUTxO.HoareLogic.html#1671" class="Function">lift²∘&gt;=&gt;</a> <a id="1728" class="Symbol">=</a> <a id="1730" href="ValueSepUTxO.HoareLogic.html#1588" class="Function">lift∘=&lt;&lt;</a> <a id="1739" class="Symbol">_</a>

  <a id="1744" href="ValueSepUTxO.HoareLogic.html#1744" class="Function">lift²∘&gt;=&gt;˘</a> <a id="1755" class="Symbol">:</a> <a id="1757" class="Symbol">(</a><a id="1758" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="1760" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">↑∘</a> <a id="1763" class="Symbol">(</a><a id="1764" href="ValueSepUTxO.HoareLogic.html#1644" class="Bound">f</a> <a id="1766" href="Prelude.Monad.html#754" class="Function Operator">&gt;=&gt;</a> <a id="1770" href="ValueSepUTxO.HoareLogic.html#1646" class="Bound">g</a><a id="1771" class="Symbol">))</a> <a id="1774" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1776" class="Symbol">(</a><a id="1777" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="1779" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">↑∘</a> <a id="1782" href="ValueSepUTxO.HoareLogic.html#1646" class="Bound">g</a> <a id="1784" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">↑∘</a> <a id="1787" href="ValueSepUTxO.HoareLogic.html#1644" class="Bound">f</a><a id="1788" class="Symbol">)</a>
  <a id="1792" href="ValueSepUTxO.HoareLogic.html#1744" class="Function">lift²∘&gt;=&gt;˘</a> <a id="1803" class="Symbol">=</a> <a id="1805" href="ValueSepUTxO.HoareLogic.html#1611" class="Function">lift∘=&lt;&lt;˘</a> <a id="1815" class="Symbol">_</a>

<a id="hoare-step"></a><a id="1818" href="ValueSepUTxO.HoareLogic.html#1818" class="Function">hoare-step</a> <a id="1829" class="Symbol">:</a>
  <a id="1833" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="1835" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="1837" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="1839" href="ValueSepUTxO.Ledger.html#627" class="Generalizable">l</a> <a id="1841" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="1843" href="ValueSepUTxO.HoareLogic.html#638" class="Generalizable">Q</a> <a id="1845" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a>
  <a id="1849" href="Prelude.InferenceRules.html#13944" class="Function Operator">──────────────────────────</a>
  <a id="1878" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="1880" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="1882" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">↑∘</a> <a id="1885" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟦</a> <a id="1887" href="ValueSepUTxO.Ledger.html#612" class="Generalizable">t</a> <a id="1889" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟧</a> <a id="1891" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="1893" href="ValueSepUTxO.Ledger.html#612" class="Generalizable">t</a> <a id="1895" class="InductiveConstructor Operator">∷</a> <a id="1897" href="ValueSepUTxO.Ledger.html#627" class="Generalizable">l</a> <a id="1899" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="1901" href="ValueSepUTxO.HoareLogic.html#638" class="Generalizable">Q</a> <a id="1903" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a>
<a id="1905" href="ValueSepUTxO.HoareLogic.html#1818" class="Function">hoare-step</a> <a id="1916" class="Symbol">{</a><a id="1917" class="Argument">t</a> <a id="1919" class="Symbol">=</a> <a id="1921" href="ValueSepUTxO.HoareLogic.html#1921" class="Bound">t</a><a id="1922" class="Symbol">}</a> <a id="1924" href="ValueSepUTxO.HoareLogic.html#1924" class="Bound">PlQ</a> <a id="1928" class="Symbol">{</a><a id="1929" href="ValueSepUTxO.HoareLogic.html#1929" class="Bound">s</a><a id="1930" class="Symbol">}</a> <a id="1932" class="Symbol">=</a> <a id="1934" href="ValueSepUTxO.HoareLogic.html#1671" class="Function">lift²∘&gt;=&gt;</a> <a id="1944" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟦</a> <a id="1946" href="ValueSepUTxO.HoareLogic.html#1921" class="Bound">t</a> <a id="1948" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟧</a> <a id="1950" class="Symbol">_</a> <a id="1952" class="Symbol">{</a><a id="1953" class="Argument">x</a> <a id="1955" class="Symbol">=</a> <a id="1957" href="ValueSepUTxO.HoareLogic.html#1929" class="Bound">s</a><a id="1958" class="Symbol">}</a> <a id="1960" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1962" href="ValueSepUTxO.HoareLogic.html#1137" class="Function">map↑</a> <a id="1967" href="ValueSepUTxO.HoareLogic.html#1924" class="Bound">PlQ</a>

<a id="consequence"></a><a id="1972" href="ValueSepUTxO.HoareLogic.html#1972" class="Function">consequence</a> <a id="1984" class="Symbol">:</a>
  <a id="1988" href="Prelude.InferenceRules.html#56118" class="Function Operator">∙</a> <a id="1990" href="ValueSepUTxO.HoareLogic.html#629" class="Generalizable">P′</a> <a id="1993" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1995" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a>   <a id="1999" class="Comment">-- ^ weakening the pre-condition</a>
  <a id="2034" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="2036" href="ValueSepUTxO.HoareLogic.html#638" class="Generalizable">Q</a>  <a id="2039" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="2041" href="ValueSepUTxO.HoareLogic.html#640" class="Generalizable">Q′</a>  <a id="2045" class="Comment">-- ^ strengthening the post-condition</a>
  <a id="2085" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="2087" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2089" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a>  <a id="2092" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="2094" href="ValueSepUTxO.Ledger.html#627" class="Generalizable">l</a> <a id="2096" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2098" href="ValueSepUTxO.HoareLogic.html#638" class="Generalizable">Q</a>  <a id="2101" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a>
    <a id="2107" href="Prelude.InferenceRules.html#14230" class="Function Operator">───────────────</a>
    <a id="2127" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2129" href="ValueSepUTxO.HoareLogic.html#629" class="Generalizable">P′</a> <a id="2132" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="2134" href="ValueSepUTxO.Ledger.html#627" class="Generalizable">l</a> <a id="2136" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2138" href="ValueSepUTxO.HoareLogic.html#640" class="Generalizable">Q′</a> <a id="2141" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a>
<a id="2143" href="ValueSepUTxO.HoareLogic.html#1972" class="Function">consequence</a> <a id="2155" href="ValueSepUTxO.HoareLogic.html#2155" class="Bound">⊢P</a> <a id="2158" href="ValueSepUTxO.HoareLogic.html#2158" class="Bound">Q⊢</a> <a id="2161" href="ValueSepUTxO.HoareLogic.html#2161" class="Bound">PlQ</a> <a id="2165" class="Symbol">=</a> <a id="2167" href="ValueSepUTxO.HoareLogic.html#1137" class="Function">map↑</a> <a id="2172" href="ValueSepUTxO.HoareLogic.html#2158" class="Bound">Q⊢</a> <a id="2175" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="2177" href="ValueSepUTxO.HoareLogic.html#2161" class="Bound">PlQ</a> <a id="2181" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="2183" href="ValueSepUTxO.HoareLogic.html#2155" class="Bound">⊢P</a>

<a id="2187" class="Comment">-- Utilities for Hoare triples.</a>
<a id="weaken"></a><a id="2219" href="ValueSepUTxO.HoareLogic.html#2219" class="Function">weaken</a> <a id="2226" class="Symbol">:</a> <a id="2228" href="ValueSepUTxO.HoareLogic.html#629" class="Generalizable">P′</a> <a id="2231" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="2233" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="2235" class="Symbol">→</a> <a id="2237" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2239" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="2241" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="2243" href="ValueSepUTxO.Ledger.html#627" class="Generalizable">l</a> <a id="2245" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2247" href="ValueSepUTxO.HoareLogic.html#638" class="Generalizable">Q</a> <a id="2249" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="2251" class="Symbol">→</a> <a id="2253" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2255" href="ValueSepUTxO.HoareLogic.html#629" class="Generalizable">P′</a> <a id="2258" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="2260" href="ValueSepUTxO.Ledger.html#627" class="Generalizable">l</a> <a id="2262" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2264" href="ValueSepUTxO.HoareLogic.html#638" class="Generalizable">Q</a> <a id="2266" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a>
<a id="2268" href="ValueSepUTxO.HoareLogic.html#2219" class="Function">weaken</a> <a id="2275" class="Symbol">{</a><a id="2276" class="Argument">l</a> <a id="2278" class="Symbol">=</a> <a id="2280" href="ValueSepUTxO.HoareLogic.html#2280" class="Bound">l</a><a id="2281" class="Symbol">}</a> <a id="2283" href="ValueSepUTxO.HoareLogic.html#2283" class="Bound">H</a> <a id="2285" class="Symbol">=</a> <a id="2287" href="ValueSepUTxO.HoareLogic.html#1972" class="Function">consequence</a> <a id="2299" class="Symbol">{</a><a id="2300" class="Argument">l</a> <a id="2302" class="Symbol">=</a> <a id="2304" href="ValueSepUTxO.HoareLogic.html#2280" class="Bound">l</a><a id="2305" class="Symbol">}</a> <a id="2307" href="ValueSepUTxO.HoareLogic.html#2283" class="Bound">H</a> <a id="2309" href="Function.Base.html#615" class="Function">id</a>

<a id="strengthen"></a><a id="2313" href="ValueSepUTxO.HoareLogic.html#2313" class="Function">strengthen</a> <a id="2324" class="Symbol">:</a> <a id="2326" href="ValueSepUTxO.HoareLogic.html#638" class="Generalizable">Q</a> <a id="2328" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="2330" href="ValueSepUTxO.HoareLogic.html#640" class="Generalizable">Q′</a> <a id="2333" class="Symbol">→</a> <a id="2335" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2337" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="2339" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="2341" href="ValueSepUTxO.Ledger.html#627" class="Generalizable">l</a> <a id="2343" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2345" href="ValueSepUTxO.HoareLogic.html#638" class="Generalizable">Q</a> <a id="2347" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="2349" class="Symbol">→</a> <a id="2351" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2353" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="2355" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="2357" href="ValueSepUTxO.Ledger.html#627" class="Generalizable">l</a> <a id="2359" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2361" href="ValueSepUTxO.HoareLogic.html#640" class="Generalizable">Q′</a> <a id="2364" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a>
<a id="2366" href="ValueSepUTxO.HoareLogic.html#2313" class="Function">strengthen</a> <a id="2377" class="Symbol">{</a><a id="2378" class="Argument">l</a> <a id="2380" class="Symbol">=</a> <a id="2382" href="ValueSepUTxO.HoareLogic.html#2382" class="Bound">l</a><a id="2383" class="Symbol">}</a> <a id="2385" href="ValueSepUTxO.HoareLogic.html#2385" class="Bound">H</a> <a id="2387" class="Symbol">=</a> <a id="2389" href="ValueSepUTxO.HoareLogic.html#1972" class="Function">consequence</a> <a id="2401" class="Symbol">{</a><a id="2402" class="Argument">l</a> <a id="2404" class="Symbol">=</a> <a id="2406" href="ValueSepUTxO.HoareLogic.html#2382" class="Bound">l</a><a id="2407" class="Symbol">}</a> <a id="2409" href="Function.Base.html#615" class="Function">id</a> <a id="2412" href="ValueSepUTxO.HoareLogic.html#2385" class="Bound">H</a>

<a id="axiom-base⋆"></a><a id="2415" href="ValueSepUTxO.HoareLogic.html#2415" class="Function">axiom-base⋆</a> <a id="2427" class="Symbol">:</a> <a id="2429" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2431" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="2433" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">↑∘</a> <a id="2436" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟦</a> <a id="2438" href="ValueSepUTxO.Ledger.html#627" class="Generalizable">l</a> <a id="2440" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟧</a> <a id="2442" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="2444" href="ValueSepUTxO.Ledger.html#627" class="Generalizable">l</a> <a id="2446" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2448" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="2450" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a>
<a id="2452" href="ValueSepUTxO.HoareLogic.html#2415" class="Function">axiom-base⋆</a> <a id="2464" class="Symbol">{</a><a id="2465" class="Argument">P</a> <a id="2467" class="Symbol">=</a> <a id="2469" href="ValueSepUTxO.HoareLogic.html#2469" class="Bound">P</a><a id="2470" class="Symbol">}</a> <a id="2472" class="Symbol">{</a><a id="2473" class="Argument">l</a> <a id="2475" class="Symbol">=</a> <a id="2477" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2479" class="Symbol">}</a> <a id="2481" class="Symbol">=</a> <a id="2483" href="ValueSepUTxO.HoareLogic.html#2219" class="Function">weaken</a> <a id="2490" class="Symbol">{</a><a id="2491" class="Argument">P′</a> <a id="2494" class="Symbol">=</a> <a id="2496" href="ValueSepUTxO.HoareLogic.html#2469" class="Bound">P</a> <a id="2498" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">↑∘</a> <a id="2501" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟦</a> <a id="2503" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2506" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟧</a><a id="2507" class="Symbol">}</a> <a id="2509" class="Symbol">{</a><a id="2510" class="Argument">l</a> <a id="2512" class="Symbol">=</a> <a id="2514" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2516" class="Symbol">}</a> <a id="2518" class="Symbol">(λ</a> <a id="2521" class="Keyword">where</a> <a id="2527" class="Symbol">(</a><a id="2528" href="ValueSepUTxO.HoareLogic.html#1114" class="InductiveConstructor">ret↑</a> <a id="2533" href="ValueSepUTxO.HoareLogic.html#2533" class="Bound">p</a><a id="2534" class="Symbol">)</a> <a id="2536" class="Symbol">→</a> <a id="2538" href="ValueSepUTxO.HoareLogic.html#2533" class="Bound">p</a><a id="2539" class="Symbol">)</a> <a id="2541" href="ValueSepUTxO.HoareLogic.html#1265" class="Function">hoare-base</a>
<a id="2552" href="ValueSepUTxO.HoareLogic.html#2415" class="Function">axiom-base⋆</a> <a id="2564" class="Symbol">{</a><a id="2565" class="Argument">P</a> <a id="2567" class="Symbol">=</a> <a id="2569" href="ValueSepUTxO.HoareLogic.html#2569" class="Bound">P</a><a id="2570" class="Symbol">}</a> <a id="2572" class="Symbol">{</a><a id="2573" class="Argument">l</a> <a id="2575" class="Symbol">=</a> <a id="2577" href="ValueSepUTxO.HoareLogic.html#2577" class="Bound">t</a> <a id="2579" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2581" href="ValueSepUTxO.HoareLogic.html#2581" class="Bound">l</a><a id="2582" class="Symbol">}</a> <a id="2584" class="Symbol">=</a> <a id="2586" href="ValueSepUTxO.HoareLogic.html#1137" class="Function">map↑</a> <a id="2591" href="Function.Base.html#615" class="Function">id</a>

<a id="2595" class="Comment">-- Derived alternative formulation for step, using list concatenation.</a>

<a id="hoare-step′"></a><a id="2667" href="ValueSepUTxO.HoareLogic.html#2667" class="Function">hoare-step′</a> <a id="2679" class="Symbol">:</a>
  <a id="2683" href="Prelude.InferenceRules.html#56118" class="Function Operator">∙</a> <a id="2685" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2687" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="2689" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="2691" href="ValueSepUTxO.Ledger.html#627" class="Generalizable">l</a>  <a id="2694" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2696" href="ValueSepUTxO.HoareLogic.html#638" class="Generalizable">Q</a> <a id="2698" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a>
  <a id="2702" href="Prelude.InferenceRules.html#56049" class="Function Operator">∙</a> <a id="2704" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2706" href="ValueSepUTxO.HoareLogic.html#638" class="Generalizable">Q</a> <a id="2708" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="2710" href="ValueSepUTxO.Ledger.html#629" class="Generalizable">l′</a> <a id="2713" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2715" href="ValueSepUTxO.HoareLogic.html#649" class="Generalizable">R</a> <a id="2717" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a>
    <a id="2723" href="Prelude.InferenceRules.html#14140" class="Function Operator">───────────────────</a>
    <a id="2747" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2749" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="2751" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="2753" href="ValueSepUTxO.Ledger.html#627" class="Generalizable">l</a> <a id="2755" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="2758" href="ValueSepUTxO.Ledger.html#629" class="Generalizable">l′</a> <a id="2761" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="2763" href="ValueSepUTxO.HoareLogic.html#649" class="Generalizable">R</a> <a id="2765" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a>
<a id="2767" href="ValueSepUTxO.HoareLogic.html#2667" class="Function">hoare-step′</a> <a id="2779" class="Symbol">{</a><a id="2780" href="ValueSepUTxO.HoareLogic.html#2780" class="Bound">P</a><a id="2781" class="Symbol">}{</a><a id="2783" href="ValueSepUTxO.HoareLogic.html#2783" class="Bound">l</a><a id="2784" class="Symbol">}{</a><a id="2786" href="ValueSepUTxO.HoareLogic.html#2786" class="Bound">Q</a><a id="2787" class="Symbol">}{</a><a id="2789" href="ValueSepUTxO.HoareLogic.html#2789" class="Bound">l′</a><a id="2791" class="Symbol">}{</a><a id="2793" href="ValueSepUTxO.HoareLogic.html#2793" class="Bound">R</a><a id="2794" class="Symbol">}</a> <a id="2796" href="ValueSepUTxO.HoareLogic.html#2796" class="Bound">PlQ</a> <a id="2800" href="ValueSepUTxO.HoareLogic.html#2800" class="Bound">QlR</a>
<a id="2804" class="Comment">--   {s} Ps rewrite comp {l}{l′} s</a>
<a id="2839" class="Comment">--   with ⟦ l ⟧ s | PlQ Ps</a>
<a id="2866" class="Comment">-- ... | .(just _) | ret↑ Qs′ = QlR Qs′</a>
  <a id="2908" class="Symbol">=</a> <a id="2910" href="Prelude.General.html#2038" class="Field Operator">begin</a>
    <a id="2920" href="ValueSepUTxO.HoareLogic.html#2780" class="Bound">P</a>
  <a id="2924" href="Prelude.General.html#2219" class="Function Operator">⊢⟨</a> <a id="2927" href="ValueSepUTxO.HoareLogic.html#2796" class="Bound">PlQ</a>  <a id="2932" href="Prelude.General.html#2219" class="Function Operator">⟩</a>
    <a id="2938" href="ValueSepUTxO.HoareLogic.html#2786" class="Bound">Q</a> <a id="2940" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">↑∘</a> <a id="2943" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟦</a> <a id="2945" href="ValueSepUTxO.HoareLogic.html#2783" class="Bound">l</a> <a id="2947" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟧</a>
  <a id="2951" href="Prelude.General.html#2219" class="Function Operator">⊢⟨</a> <a id="2954" href="ValueSepUTxO.HoareLogic.html#1137" class="Function">map↑</a> <a id="2959" href="ValueSepUTxO.HoareLogic.html#2800" class="Bound">QlR</a> <a id="2963" href="Prelude.General.html#2219" class="Function Operator">⟩</a>
    <a id="2969" href="ValueSepUTxO.HoareLogic.html#2793" class="Bound">R</a> <a id="2971" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">↑∘</a> <a id="2974" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟦</a> <a id="2976" href="ValueSepUTxO.HoareLogic.html#2789" class="Bound">l′</a> <a id="2979" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟧</a> <a id="2981" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">↑∘</a> <a id="2984" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟦</a> <a id="2986" href="ValueSepUTxO.HoareLogic.html#2783" class="Bound">l</a> <a id="2988" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟧</a>
  <a id="2992" href="Prelude.General.html#2219" class="Function Operator">⊢⟨</a> <a id="2995" href="ValueSepUTxO.HoareLogic.html#1671" class="Function">lift²∘&gt;=&gt;</a> <a id="3005" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟦</a> <a id="3007" href="ValueSepUTxO.HoareLogic.html#2783" class="Bound">l</a> <a id="3009" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟧</a> <a id="3011" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟦</a> <a id="3013" href="ValueSepUTxO.HoareLogic.html#2789" class="Bound">l′</a> <a id="3016" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟧</a>  <a id="3019" href="Prelude.General.html#2219" class="Function Operator">⟩</a>
    <a id="3025" href="ValueSepUTxO.HoareLogic.html#2793" class="Bound">R</a> <a id="3027" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">↑∘</a> <a id="3030" class="Symbol">(</a><a id="3031" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟦</a> <a id="3033" href="ValueSepUTxO.HoareLogic.html#2783" class="Bound">l</a> <a id="3035" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟧</a> <a id="3037" href="Prelude.Monad.html#754" class="Function Operator">&gt;=&gt;</a> <a id="3041" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟦</a> <a id="3043" href="ValueSepUTxO.HoareLogic.html#2789" class="Bound">l′</a> <a id="3046" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟧</a><a id="3047" class="Symbol">)</a>
  <a id="3051" href="Prelude.General.html#2625" class="Function Operator">≗˘⟨</a> <a id="3055" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="3060" class="Symbol">(</a><a id="3061" href="ValueSepUTxO.HoareLogic.html#1090" class="Function">lift↑</a> <a id="3067" href="ValueSepUTxO.HoareLogic.html#2793" class="Bound">R</a><a id="3068" class="Symbol">)</a> <a id="3070" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="3072" href="ValueSepUTxO.Ledger.html#1906" class="Function">comp</a> <a id="3077" class="Symbol">{</a><a id="3078" href="ValueSepUTxO.HoareLogic.html#2783" class="Bound">l</a><a id="3079" class="Symbol">}{</a><a id="3081" href="ValueSepUTxO.HoareLogic.html#2789" class="Bound">l′</a><a id="3083" class="Symbol">}</a> <a id="3085" href="Prelude.General.html#2625" class="Function Operator">⟩</a>
    <a id="3091" href="ValueSepUTxO.HoareLogic.html#2793" class="Bound">R</a> <a id="3093" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">↑∘</a> <a id="3096" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟦</a> <a id="3098" href="ValueSepUTxO.HoareLogic.html#2783" class="Bound">l</a> <a id="3100" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="3103" href="ValueSepUTxO.HoareLogic.html#2789" class="Bound">l′</a> <a id="3106" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟧</a>
  <a id="3110" href="Prelude.General.html#2715" class="Function Operator">∎</a> <a id="3112" class="Keyword">where</a> <a id="3118" class="Keyword">open</a> <a id="3123" href="Prelude.General.html#1867" class="Module">⊢-Reasoning</a>

<a id="3136" class="Comment">-- ** Reasoning syntax for Hoare triples.</a>
<a id="3178" class="Keyword">module</a> <a id="HoareReasoning"></a><a id="3185" href="ValueSepUTxO.HoareLogic.html#3185" class="Module">HoareReasoning</a> <a id="3200" class="Keyword">where</a>
  <a id="3208" class="Comment">-- Reasoning newtype (for better type inference).</a>
  <a id="3260" class="Keyword">record</a> <a id="HoareReasoning.ℝ⟨_⟩_⟨_⟩"></a><a id="3267" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">ℝ⟨_⟩_⟨_⟩</a> <a id="3276" class="Symbol">(</a><a id="3277" href="ValueSepUTxO.HoareLogic.html#3277" class="Bound">P</a> <a id="3279" class="Symbol">:</a> <a id="3281" href="ValueSepUTxO.HoareLogic.html#597" class="Function">Assertion</a><a id="3290" class="Symbol">)</a> <a id="3292" class="Symbol">(</a><a id="3293" href="ValueSepUTxO.HoareLogic.html#3293" class="Bound">l</a> <a id="3295" class="Symbol">:</a> <a id="3297" href="ValueSepUTxO.UTxO.html#1804" class="Function">L</a><a id="3298" class="Symbol">)</a> <a id="3300" class="Symbol">(</a><a id="3301" href="ValueSepUTxO.HoareLogic.html#3301" class="Bound">Q</a> <a id="3303" class="Symbol">:</a> <a id="3305" href="ValueSepUTxO.HoareLogic.html#597" class="Function">Assertion</a><a id="3314" class="Symbol">)</a> <a id="3316" class="Symbol">:</a> <a id="3318" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="3323" class="Keyword">where</a>
    <a id="3333" class="Keyword">constructor</a> <a id="HoareReasoning.mkℝ_"></a><a id="3345" href="ValueSepUTxO.HoareLogic.html#3345" class="InductiveConstructor Operator">mkℝ_</a>
    <a id="3354" class="Keyword">field</a> <a id="HoareReasoning.ℝ⟨_⟩_⟨_⟩.begin_"></a><a id="3360" href="ValueSepUTxO.HoareLogic.html#3360" class="Field Operator">begin_</a> <a id="3367" class="Symbol">:</a> <a id="3369" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="3371" href="ValueSepUTxO.HoareLogic.html#3277" class="Bound">P</a> <a id="3373" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="3375" href="ValueSepUTxO.HoareLogic.html#3293" class="Bound">l</a> <a id="3377" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="3379" href="ValueSepUTxO.HoareLogic.html#3301" class="Bound">Q</a> <a id="3381" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a>
    <a id="3387" class="Keyword">infix</a> <a id="3393" class="Number">-2</a> <a id="3396" href="ValueSepUTxO.HoareLogic.html#3360" class="Field Operator">begin_</a>
  <a id="3405" class="Keyword">open</a> <a id="3410" href="ValueSepUTxO.HoareLogic.html#3267" class="Module Operator">ℝ⟨_⟩_⟨_⟩</a> <a id="3419" class="Keyword">public</a>
  <a id="3428" class="Keyword">infix</a>  <a id="3435" class="Number">-2</a> <a id="3438" href="ValueSepUTxO.HoareLogic.html#3345" class="InductiveConstructor Operator">mkℝ_</a>
  <a id="3445" class="Keyword">infixr</a> <a id="3452" class="Number">-1</a> <a id="3455" href="ValueSepUTxO.HoareLogic.html#3531" class="Function Operator">_~⟪_⟩_</a> <a id="3462" href="ValueSepUTxO.HoareLogic.html#3678" class="Function Operator">_~⟨_⟫_</a> <a id="3469" href="ValueSepUTxO.HoareLogic.html#3806" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="3479" href="ValueSepUTxO.HoareLogic.html#4090" class="Function Operator">_~⟨_∶-_⟩++_</a>
  <a id="3493" class="Keyword">infix</a>  <a id="3500" class="Number">0</a>  <a id="3503" href="ValueSepUTxO.HoareLogic.html#4253" class="Function Operator">_∎</a>

  <a id="3509" class="Comment">-- weakening syntax</a>
  <a id="HoareReasoning._~⟪_⟩_"></a><a id="3531" href="ValueSepUTxO.HoareLogic.html#3531" class="Function Operator">_~⟪_⟩_</a> <a id="3538" class="Symbol">:</a> <a id="3540" class="Symbol">∀</a> <a id="3542" href="ValueSepUTxO.HoareLogic.html#3542" class="Bound">P′</a> <a id="3545" class="Symbol">→</a> <a id="3547" href="ValueSepUTxO.HoareLogic.html#3542" class="Bound">P′</a> <a id="3550" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="3552" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="3554" class="Symbol">→</a> <a id="3556" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">ℝ⟨</a> <a id="3559" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="3561" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟩</a> <a id="3563" href="ValueSepUTxO.Ledger.html#627" class="Generalizable">l</a> <a id="3565" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟨</a> <a id="3567" href="ValueSepUTxO.HoareLogic.html#649" class="Generalizable">R</a> <a id="3569" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟩</a> <a id="3571" class="Symbol">→</a> <a id="3573" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">ℝ⟨</a> <a id="3576" href="ValueSepUTxO.HoareLogic.html#3542" class="Bound">P′</a> <a id="3579" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟩</a> <a id="3581" href="ValueSepUTxO.Ledger.html#627" class="Generalizable">l</a> <a id="3583" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟨</a> <a id="3585" href="ValueSepUTxO.HoareLogic.html#649" class="Generalizable">R</a> <a id="3587" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟩</a>
  <a id="3591" href="ValueSepUTxO.HoareLogic.html#3531" class="Function Operator">_~⟪_⟩_</a> <a id="3598" class="Symbol">{</a><a id="3599" class="Argument">l</a> <a id="3601" class="Symbol">=</a> <a id="3603" href="ValueSepUTxO.HoareLogic.html#3603" class="Bound">l</a><a id="3604" class="Symbol">}</a> <a id="3606" class="Symbol">_</a> <a id="3608" href="ValueSepUTxO.HoareLogic.html#3608" class="Bound">H</a> <a id="3610" href="ValueSepUTxO.HoareLogic.html#3610" class="Bound">PlR</a> <a id="3614" class="Symbol">=</a> <a id="3616" href="ValueSepUTxO.HoareLogic.html#3345" class="InductiveConstructor Operator">mkℝ</a> <a id="3620" href="ValueSepUTxO.HoareLogic.html#2219" class="Function">weaken</a> <a id="3627" class="Symbol">{</a><a id="3628" class="Argument">l</a> <a id="3630" class="Symbol">=</a> <a id="3632" href="ValueSepUTxO.HoareLogic.html#3603" class="Bound">l</a><a id="3633" class="Symbol">}</a> <a id="3635" href="ValueSepUTxO.HoareLogic.html#3608" class="Bound">H</a> <a id="3637" class="Symbol">(</a><a id="3638" href="ValueSepUTxO.HoareLogic.html#3360" class="Field Operator">begin</a> <a id="3644" href="ValueSepUTxO.HoareLogic.html#3610" class="Bound">PlR</a><a id="3647" class="Symbol">)</a>

  <a id="3652" class="Comment">-- strengthening syntax</a>
  <a id="HoareReasoning._~⟨_⟫_"></a><a id="3678" href="ValueSepUTxO.HoareLogic.html#3678" class="Function Operator">_~⟨_⟫_</a> <a id="3685" class="Symbol">:</a> <a id="3687" class="Symbol">∀</a> <a id="3689" href="ValueSepUTxO.HoareLogic.html#3689" class="Bound">R′</a> <a id="3692" class="Symbol">→</a> <a id="3694" href="ValueSepUTxO.HoareLogic.html#649" class="Generalizable">R</a> <a id="3696" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="3698" href="ValueSepUTxO.HoareLogic.html#3689" class="Bound">R′</a> <a id="3701" class="Symbol">→</a> <a id="3703" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="3705" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="3707" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="3709" href="ValueSepUTxO.Ledger.html#627" class="Generalizable">l</a> <a id="3711" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="3713" href="ValueSepUTxO.HoareLogic.html#649" class="Generalizable">R</a> <a id="3715" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="3717" class="Symbol">→</a> <a id="3719" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="3721" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="3723" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a> <a id="3725" href="ValueSepUTxO.Ledger.html#627" class="Generalizable">l</a> <a id="3727" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟨</a> <a id="3729" href="ValueSepUTxO.HoareLogic.html#3689" class="Bound">R′</a> <a id="3732" href="ValueSepUTxO.HoareLogic.html#1190" class="Function Operator">⟩</a>
  <a id="3736" href="ValueSepUTxO.HoareLogic.html#3678" class="Function Operator">_~⟨_⟫_</a> <a id="3743" class="Symbol">{</a><a id="3744" class="Argument">l</a> <a id="3746" class="Symbol">=</a> <a id="3748" href="ValueSepUTxO.HoareLogic.html#3748" class="Bound">l</a><a id="3749" class="Symbol">}</a> <a id="3751" class="Symbol">_</a> <a id="3753" href="ValueSepUTxO.HoareLogic.html#3753" class="Bound">H</a> <a id="3755" href="ValueSepUTxO.HoareLogic.html#3755" class="Bound">PlR</a> <a id="3759" class="Symbol">=</a> <a id="3761" href="ValueSepUTxO.HoareLogic.html#2313" class="Function">strengthen</a> <a id="3772" class="Symbol">{</a><a id="3773" class="Argument">l</a> <a id="3775" class="Symbol">=</a> <a id="3777" href="ValueSepUTxO.HoareLogic.html#3748" class="Bound">l</a><a id="3778" class="Symbol">}</a> <a id="3780" href="ValueSepUTxO.HoareLogic.html#3753" class="Bound">H</a> <a id="3782" href="ValueSepUTxO.HoareLogic.html#3755" class="Bound">PlR</a>

  <a id="3789" class="Comment">-- step syntax</a>
  <a id="HoareReasoning._~⟨_∶-_⟩_"></a><a id="3806" href="ValueSepUTxO.HoareLogic.html#3806" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="3816" class="Symbol">:</a> <a id="3818" class="Symbol">∀</a> <a id="3820" href="ValueSepUTxO.HoareLogic.html#3820" class="Bound">P′</a> <a id="3823" href="ValueSepUTxO.HoareLogic.html#3823" class="Bound">t</a> <a id="3825" class="Symbol">→</a> <a id="3827" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">ℝ⟨</a> <a id="3830" href="ValueSepUTxO.HoareLogic.html#3820" class="Bound">P′</a> <a id="3833" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟩</a> <a id="3835" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="3837" href="ValueSepUTxO.HoareLogic.html#3823" class="Bound">t</a> <a id="3839" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="3841" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟨</a> <a id="3843" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="3845" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟩</a> <a id="3847" class="Symbol">→</a> <a id="3849" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">ℝ⟨</a> <a id="3852" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="3854" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟩</a> <a id="3856" href="ValueSepUTxO.Ledger.html#627" class="Generalizable">l</a> <a id="3858" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟨</a> <a id="3860" href="ValueSepUTxO.HoareLogic.html#649" class="Generalizable">R</a> <a id="3862" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟩</a> <a id="3864" class="Symbol">→</a> <a id="3866" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">ℝ⟨</a> <a id="3869" href="ValueSepUTxO.HoareLogic.html#3820" class="Bound">P′</a> <a id="3872" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟩</a> <a id="3874" href="ValueSepUTxO.HoareLogic.html#3823" class="Bound">t</a> <a id="3876" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3878" href="ValueSepUTxO.Ledger.html#627" class="Generalizable">l</a> <a id="3880" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟨</a> <a id="3882" href="ValueSepUTxO.HoareLogic.html#649" class="Generalizable">R</a> <a id="3884" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟩</a>
  <a id="3888" href="ValueSepUTxO.HoareLogic.html#3806" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="3898" class="Symbol">{</a><a id="3899" class="Argument">l</a> <a id="3901" class="Symbol">=</a> <a id="3903" href="ValueSepUTxO.HoareLogic.html#3903" class="Bound">l</a><a id="3904" class="Symbol">}</a> <a id="3906" class="Symbol">{</a><a id="3907" class="Argument">R</a> <a id="3909" class="Symbol">=</a> <a id="3911" href="ValueSepUTxO.HoareLogic.html#3911" class="Bound">R</a><a id="3912" class="Symbol">}</a> <a id="3914" href="ValueSepUTxO.HoareLogic.html#3914" class="Bound">P′</a> <a id="3917" href="ValueSepUTxO.HoareLogic.html#3917" class="Bound">t</a> <a id="3919" href="ValueSepUTxO.HoareLogic.html#3919" class="Bound">H</a> <a id="3921" href="ValueSepUTxO.HoareLogic.html#3921" class="Bound">PlR</a> <a id="3925" class="Symbol">=</a> <a id="3927" href="ValueSepUTxO.HoareLogic.html#3345" class="InductiveConstructor Operator">mkℝ</a> <a id="3931" href="ValueSepUTxO.HoareLogic.html#3950" class="Function">go</a>
    <a id="3938" class="Keyword">where</a>
      <a id="3950" href="ValueSepUTxO.HoareLogic.html#3950" class="Function">go</a> <a id="3953" class="Symbol">:</a> <a id="3955" href="ValueSepUTxO.HoareLogic.html#3914" class="Bound">P′</a> <a id="3958" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="3960" href="ValueSepUTxO.HoareLogic.html#3911" class="Bound">R</a> <a id="3962" href="ValueSepUTxO.HoareLogic.html#1025" class="Function Operator">↑∘</a> <a id="3965" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟦</a> <a id="3967" href="ValueSepUTxO.HoareLogic.html#3917" class="Bound">t</a> <a id="3969" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3971" href="ValueSepUTxO.HoareLogic.html#3903" class="Bound">l</a> <a id="3973" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟧</a>
      <a id="3981" href="ValueSepUTxO.HoareLogic.html#3950" class="Function">go</a> <a id="3984" class="Symbol">{</a><a id="3985" href="ValueSepUTxO.HoareLogic.html#3985" class="Bound">s</a><a id="3986" class="Symbol">}</a> <a id="3988" href="ValueSepUTxO.HoareLogic.html#3988" class="Bound">P′s</a> <a id="3992" class="Keyword">with</a> <a id="3997" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟦</a> <a id="3999" href="ValueSepUTxO.HoareLogic.html#3917" class="Bound">t</a> <a id="4001" href="ValueSepUTxO.Ledger.html#1001" class="Field Operator">⟧</a> <a id="4003" href="ValueSepUTxO.HoareLogic.html#3985" class="Bound">s</a> <a id="4005" class="Symbol">|</a> <a id="4007" class="Symbol">(</a><a id="4008" href="ValueSepUTxO.HoareLogic.html#3360" class="Field Operator">begin</a> <a id="4014" href="ValueSepUTxO.HoareLogic.html#3919" class="Bound">H</a><a id="4015" class="Symbol">)</a> <a id="4017" href="ValueSepUTxO.HoareLogic.html#3988" class="Bound">P′s</a>
      <a id="4027" class="Symbol">...</a> <a id="4031" class="Symbol">|</a> <a id="4033" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="4038" class="Symbol">_</a> <a id="4040" class="Symbol">|</a> <a id="4042" href="ValueSepUTxO.HoareLogic.html#1114" class="InductiveConstructor">ret↑</a> <a id="4047" href="ValueSepUTxO.HoareLogic.html#4047" class="Bound">Ps′</a> <a id="4051" class="Symbol">=</a> <a id="4053" class="Symbol">(</a><a id="4054" href="ValueSepUTxO.HoareLogic.html#3360" class="Field Operator">begin</a> <a id="4060" href="ValueSepUTxO.HoareLogic.html#3921" class="Bound">PlR</a><a id="4063" class="Symbol">)</a> <a id="4065" href="ValueSepUTxO.HoareLogic.html#4047" class="Bound">Ps′</a>

  <a id="4072" class="Comment">-- step′ syntax</a>
  <a id="HoareReasoning._~⟨_∶-_⟩++_"></a><a id="4090" href="ValueSepUTxO.HoareLogic.html#4090" class="Function Operator">_~⟨_∶-_⟩++_</a> <a id="4102" class="Symbol">:</a> <a id="4104" class="Symbol">∀</a> <a id="4106" href="ValueSepUTxO.HoareLogic.html#4106" class="Bound">P′</a> <a id="4109" class="Symbol">→</a> <a id="4111" class="Symbol">(</a><a id="4112" href="ValueSepUTxO.HoareLogic.html#4112" class="Bound">l</a> <a id="4114" class="Symbol">:</a> <a id="4116" href="ValueSepUTxO.UTxO.html#1804" class="Function">L</a><a id="4117" class="Symbol">)</a> <a id="4119" class="Symbol">→</a> <a id="4121" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">ℝ⟨</a> <a id="4124" href="ValueSepUTxO.HoareLogic.html#4106" class="Bound">P′</a> <a id="4127" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟩</a> <a id="4129" href="ValueSepUTxO.HoareLogic.html#4112" class="Bound">l</a> <a id="4131" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟨</a> <a id="4133" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="4135" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟩</a> <a id="4137" class="Symbol">→</a> <a id="4139" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">ℝ⟨</a> <a id="4142" href="ValueSepUTxO.HoareLogic.html#627" class="Generalizable">P</a> <a id="4144" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟩</a> <a id="4146" href="ValueSepUTxO.Ledger.html#629" class="Generalizable">l′</a> <a id="4149" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟨</a> <a id="4151" href="ValueSepUTxO.HoareLogic.html#649" class="Generalizable">R</a> <a id="4153" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟩</a> <a id="4155" class="Symbol">→</a> <a id="4157" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">ℝ⟨</a> <a id="4160" href="ValueSepUTxO.HoareLogic.html#4106" class="Bound">P′</a> <a id="4163" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟩</a> <a id="4165" href="ValueSepUTxO.HoareLogic.html#4112" class="Bound">l</a> <a id="4167" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="4170" href="ValueSepUTxO.Ledger.html#629" class="Generalizable">l′</a> <a id="4173" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟨</a> <a id="4175" href="ValueSepUTxO.HoareLogic.html#649" class="Generalizable">R</a> <a id="4177" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟩</a>
  <a id="4181" href="ValueSepUTxO.HoareLogic.html#4181" class="Bound">P′</a> <a id="4184" href="ValueSepUTxO.HoareLogic.html#4090" class="Function Operator">~⟨</a> <a id="4187" href="ValueSepUTxO.HoareLogic.html#4187" class="Bound">l</a> <a id="4189" href="ValueSepUTxO.HoareLogic.html#4090" class="Function Operator">∶-</a> <a id="4192" href="ValueSepUTxO.HoareLogic.html#4192" class="Bound">H</a> <a id="4194" href="ValueSepUTxO.HoareLogic.html#4090" class="Function Operator">⟩++</a> <a id="4198" href="ValueSepUTxO.HoareLogic.html#4198" class="Bound">PlR</a> <a id="4202" class="Symbol">=</a> <a id="4204" href="ValueSepUTxO.HoareLogic.html#3345" class="InductiveConstructor Operator">mkℝ</a> <a id="4208" href="ValueSepUTxO.HoareLogic.html#2667" class="Function">hoare-step′</a> <a id="4220" class="Symbol">{</a><a id="4221" class="Argument">l</a> <a id="4223" class="Symbol">=</a> <a id="4225" href="ValueSepUTxO.HoareLogic.html#4187" class="Bound">l</a><a id="4226" class="Symbol">}</a> <a id="4228" class="Symbol">(</a><a id="4229" href="ValueSepUTxO.HoareLogic.html#3360" class="Field Operator">begin</a> <a id="4235" href="ValueSepUTxO.HoareLogic.html#4192" class="Bound">H</a><a id="4236" class="Symbol">)</a> <a id="4238" class="Symbol">(</a><a id="4239" href="ValueSepUTxO.HoareLogic.html#3360" class="Field Operator">begin</a> <a id="4245" href="ValueSepUTxO.HoareLogic.html#4198" class="Bound">PlR</a><a id="4248" class="Symbol">)</a>

  <a id="HoareReasoning._∎"></a><a id="4253" href="ValueSepUTxO.HoareLogic.html#4253" class="Function Operator">_∎</a> <a id="4256" class="Symbol">:</a> <a id="4258" class="Symbol">∀</a> <a id="4260" href="ValueSepUTxO.HoareLogic.html#4260" class="Bound">P</a> <a id="4262" class="Symbol">→</a> <a id="4264" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">ℝ⟨</a> <a id="4267" href="ValueSepUTxO.HoareLogic.html#4260" class="Bound">P</a> <a id="4269" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟩</a> <a id="4271" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="4274" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟨</a> <a id="4276" href="ValueSepUTxO.HoareLogic.html#4260" class="Bound">P</a> <a id="4278" href="ValueSepUTxO.HoareLogic.html#3267" class="Record Operator">⟩</a>
  <a id="4282" href="ValueSepUTxO.HoareLogic.html#4282" class="Bound">p</a> <a id="4284" href="ValueSepUTxO.HoareLogic.html#4253" class="Function Operator">∎</a> <a id="4286" class="Symbol">=</a> <a id="4288" href="ValueSepUTxO.HoareLogic.html#3345" class="InductiveConstructor Operator">mkℝ</a> <a id="4292" href="ValueSepUTxO.HoareLogic.html#1265" class="Function">hoare-base</a> <a id="4303" class="Symbol">{</a><a id="4304" class="Argument">P</a> <a id="4306" class="Symbol">=</a> <a id="4308" href="ValueSepUTxO.HoareLogic.html#4282" class="Bound">p</a><a id="4309" class="Symbol">}</a>
</pre></body></html>