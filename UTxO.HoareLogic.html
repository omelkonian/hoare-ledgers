<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>UTxO.HoareLogic</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--allow-unsolved-metas</a> <a id="36" class="Symbol">#-}</a>
<a id="40" class="Comment">---------------------------</a>
<a id="68" class="Comment">-- ** Axiomatic semantics</a>

<a id="95" class="Keyword">module</a> <a id="102" href="UTxO.HoareLogic.html" class="Module">UTxO.HoareLogic</a> <a id="118" class="Keyword">where</a>

<a id="125" class="Keyword">open</a> <a id="130" class="Keyword">import</a> <a id="137" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="149" class="Symbol">;</a> <a id="151" class="Keyword">open</a> <a id="156" href="Prelude.Init.html#397" class="Module">SetAsType</a>
<a id="166" class="Keyword">open</a> <a id="171" class="Keyword">import</a> <a id="178" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="194" class="Keyword">open</a> <a id="199" class="Keyword">import</a> <a id="206" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="220" class="Keyword">open</a> <a id="225" class="Keyword">import</a> <a id="232" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="250" class="Keyword">open</a> <a id="255" class="Keyword">import</a> <a id="262" href="Prelude.Sets.html" class="Module">Prelude.Sets</a> <a id="275" class="Keyword">hiding</a> <a id="282" class="Symbol">(</a><a id="283" href="Prelude.Sets.AsUniqueLists.SetMappings.html#1196" class="Function Operator">_↦_</a><a id="286" class="Symbol">)</a>
<a id="288" class="Keyword">open</a> <a id="293" class="Keyword">import</a> <a id="300" href="Prelude.Apartness.html" class="Module">Prelude.Apartness</a>

<a id="319" class="Keyword">open</a> <a id="324" class="Keyword">import</a> <a id="331" href="UTxO.UTxO.html" class="Module">UTxO.UTxO</a>
<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="UTxO.Ledger.html" class="Module">UTxO.Ledger</a>


<a id="367" class="Comment">-- ** Deeply embedded formulas/propositions for our logic.</a>
<a id="426" class="Comment">-- NB: this is necessary, in order to inspect the referenced participants later on.</a>
<a id="510" class="Keyword">data</a> <a id="Assertion"></a><a id="515" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a> <a id="525" class="Symbol">:</a> <a id="527" href="Agda.Primitive.html#326" class="Primitive">Type₁</a> <a id="533" class="Keyword">where</a>
  <a id="Assertion.`emp"></a><a id="541" href="UTxO.HoareLogic.html#541" class="InductiveConstructor">`emp</a> <a id="546" class="Symbol">:</a> <a id="548" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a>                          <a id="583" class="Comment">-- ^ holds for the empty ledger</a>
  <a id="Assertion._`↦_"></a><a id="617" href="UTxO.HoareLogic.html#617" class="InductiveConstructor Operator">_`↦_</a> <a id="622" class="Symbol">:</a> <a id="624" href="UTxO.UTxO.html#462" class="Function">Address</a> <a id="632" class="Symbol">→</a> <a id="634" href="UTxO.UTxO.html#438" class="Function">Value</a> <a id="640" class="Symbol">→</a> <a id="642" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a>        <a id="659" class="Comment">-- ^ holds for the singleton UTXO { A ↦ v }</a>
  <a id="Assertion._`∗_"></a><a id="705" href="UTxO.HoareLogic.html#705" class="InductiveConstructor Operator">_`∗_</a> <a id="710" class="Symbol">:</a> <a id="712" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a> <a id="722" class="Symbol">→</a> <a id="724" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a> <a id="734" class="Symbol">→</a> <a id="736" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a>  <a id="747" class="Comment">-- ^ separating conjuction</a>
  <a id="Assertion._`∘⟦_⟧"></a><a id="776" href="UTxO.HoareLogic.html#776" class="InductiveConstructor Operator">_`∘⟦_⟧</a> <a id="783" class="Symbol">:</a> <a id="785" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a> <a id="795" class="Symbol">→</a> <a id="797" href="UTxO.UTxO.html#1818" class="Function">L</a> <a id="799" class="Symbol">→</a> <a id="801" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a>        <a id="818" class="Comment">-- ^ holds for a ledger that is first transformed using ⟦ t₁⋯tₙ ⟧</a>

<a id="885" class="Keyword">infixl</a> <a id="892" class="Number">9</a> <a id="894" href="UTxO.HoareLogic.html#776" class="InductiveConstructor Operator">_`∘⟦_⟧</a>
<a id="901" class="Keyword">infixr</a> <a id="908" class="Number">10</a> <a id="911" href="UTxO.HoareLogic.html#705" class="InductiveConstructor Operator">_`∗_</a>
<a id="916" class="Keyword">infix</a> <a id="922" class="Number">11</a> <a id="925" href="UTxO.HoareLogic.html#617" class="InductiveConstructor Operator">_`↦_</a>

<a id="931" class="Keyword">variable</a> <a id="940" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="942" href="UTxO.HoareLogic.html#942" class="Generalizable">P′</a> <a id="945" href="UTxO.HoareLogic.html#945" class="Generalizable">P₁</a> <a id="948" href="UTxO.HoareLogic.html#948" class="Generalizable">P₂</a> <a id="951" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a> <a id="953" href="UTxO.HoareLogic.html#953" class="Generalizable">Q′</a> <a id="956" href="UTxO.HoareLogic.html#956" class="Generalizable">Q₁</a> <a id="959" href="UTxO.HoareLogic.html#959" class="Generalizable">Q₂</a> <a id="962" href="UTxO.HoareLogic.html#962" class="Generalizable">R</a> <a id="964" class="Symbol">:</a> <a id="966" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a>

<a id="⟨_⊎_⟩≡_"></a><a id="977" href="UTxO.HoareLogic.html#977" class="Function Operator">⟨_⊎_⟩≡_</a> <a id="985" class="Symbol">:</a> <a id="987" href="UTxO.UTxO.html#2051" class="Function">S</a> <a id="989" class="Symbol">→</a> <a id="991" href="UTxO.UTxO.html#2051" class="Function">S</a> <a id="993" class="Symbol">→</a> <a id="995" href="UTxO.UTxO.html#2051" class="Function">S</a> <a id="997" class="Symbol">→</a> <a id="999" href="Agda.Primitive.html#326" class="Primitive">Type</a>
<a id="1004" href="UTxO.HoareLogic.html#977" class="Function Operator">⟨</a> <a id="1006" href="UTxO.HoareLogic.html#1006" class="Bound">s</a> <a id="1008" href="UTxO.HoareLogic.html#977" class="Function Operator">⊎</a> <a id="1010" href="UTxO.HoareLogic.html#1010" class="Bound">s′</a> <a id="1013" href="UTxO.HoareLogic.html#977" class="Function Operator">⟩≡</a> <a id="1016" href="UTxO.HoareLogic.html#1016" class="Bound">s″</a> <a id="1019" class="Symbol">=</a> <a id="1021" class="Symbol">(</a><a id="1022" href="UTxO.HoareLogic.html#1006" class="Bound">s</a> <a id="1024" href="Prelude.Apartness.html#256" class="Field Operator">♯</a> <a id="1026" href="UTxO.HoareLogic.html#1010" class="Bound">s′</a><a id="1028" class="Symbol">)</a> <a id="1030" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1032" class="Symbol">((</a><a id="1034" href="UTxO.HoareLogic.html#1006" class="Bound">s</a> <a id="1036" href="Prelude.Sets.AsUniqueLists.Core.html#2841" class="Function Operator">∪</a> <a id="1038" href="UTxO.HoareLogic.html#1010" class="Bound">s′</a><a id="1040" class="Symbol">)</a> <a id="1042" href="Prelude.Sets.AsUniqueLists.Core.html#5548" class="Function Operator">≈ˢ</a> <a id="1045" href="UTxO.HoareLogic.html#1016" class="Bound">s″</a><a id="1047" class="Symbol">)</a>

<a id="_[_↦_]"></a><a id="1050" href="UTxO.HoareLogic.html#1050" class="Function Operator">_[_↦_]</a> <a id="1057" class="Symbol">:</a> <a id="1059" href="UTxO.UTxO.html#2051" class="Function">S</a> <a id="1061" class="Symbol">→</a> <a id="1063" href="UTxO.UTxO.html#462" class="Function">Address</a> <a id="1071" class="Symbol">→</a> <a id="1073" href="UTxO.UTxO.html#438" class="Function">Value</a> <a id="1079" class="Symbol">→</a> <a id="1081" href="Agda.Primitive.html#326" class="Primitive">Type</a>
<a id="1086" href="UTxO.HoareLogic.html#1086" class="Bound">s</a> <a id="1088" href="UTxO.HoareLogic.html#1050" class="Function Operator">[</a> <a id="1090" href="UTxO.HoareLogic.html#1090" class="Bound">addr</a> <a id="1095" href="UTxO.HoareLogic.html#1050" class="Function Operator">↦</a> <a id="1097" href="UTxO.HoareLogic.html#1097" class="Bound">v</a> <a id="1099" href="UTxO.HoareLogic.html#1050" class="Function Operator">]</a> <a id="1101" class="Symbol">=</a> <a id="1103" href="Data.Product.html#1369" class="Function">∃</a> <a id="1105" class="Symbol">λ</a> <a id="1107" href="UTxO.HoareLogic.html#1107" class="Bound">or</a> <a id="1110" class="Symbol">→</a> <a id="1112" class="Keyword">record</a> <a id="1119" class="Symbol">{</a><a id="1120" href="UTxO.UTxO.html#1864" class="Field">outRef</a> <a id="1127" class="Symbol">=</a> <a id="1129" href="UTxO.HoareLogic.html#1107" class="Bound">or</a><a id="1131" class="Symbol">;</a> <a id="1133" href="UTxO.UTxO.html#1893" class="Field">out</a> <a id="1137" class="Symbol">=</a> <a id="1139" href="UTxO.HoareLogic.html#1097" class="Bound">v</a> <a id="1141" href="UTxO.UTxO.html#817" class="InductiveConstructor Operator">at</a> <a id="1144" href="UTxO.HoareLogic.html#1090" class="Bound">addr</a><a id="1148" class="Symbol">}</a> <a id="1150" href="Prelude.Sets.AsUniqueLists.Core.html#1858" class="Function Operator">∈ˢ</a> <a id="1153" href="UTxO.HoareLogic.html#1086" class="Bound">s</a>

<a id="_[_↦_]∅"></a><a id="1156" href="UTxO.HoareLogic.html#1156" class="Function Operator">_[_↦_]∅</a> <a id="1164" class="Symbol">:</a> <a id="1166" href="UTxO.UTxO.html#2051" class="Function">S</a> <a id="1168" class="Symbol">→</a> <a id="1170" href="UTxO.UTxO.html#462" class="Function">Address</a> <a id="1178" class="Symbol">→</a> <a id="1180" href="UTxO.UTxO.html#438" class="Function">Value</a> <a id="1186" class="Symbol">→</a> <a id="1188" href="Agda.Primitive.html#326" class="Primitive">Type</a>
<a id="1193" href="UTxO.HoareLogic.html#1193" class="Bound">s</a> <a id="1195" href="UTxO.HoareLogic.html#1156" class="Function Operator">[</a> <a id="1197" href="UTxO.HoareLogic.html#1197" class="Bound">addr</a> <a id="1202" href="UTxO.HoareLogic.html#1156" class="Function Operator">↦</a> <a id="1204" href="UTxO.HoareLogic.html#1204" class="Bound">v</a> <a id="1206" href="UTxO.HoareLogic.html#1156" class="Function Operator">]∅</a> <a id="1209" class="Symbol">=</a> <a id="1211" href="UTxO.HoareLogic.html#1193" class="Bound">s</a> <a id="1213" href="UTxO.HoareLogic.html#1050" class="Function Operator">[</a> <a id="1215" href="UTxO.HoareLogic.html#1197" class="Bound">addr</a> <a id="1220" href="UTxO.HoareLogic.html#1050" class="Function Operator">↦</a> <a id="1222" href="UTxO.HoareLogic.html#1204" class="Bound">v</a> <a id="1224" href="UTxO.HoareLogic.html#1050" class="Function Operator">]</a>
                <a id="1242" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1244" href="Data.Product.html#1369" class="Function">∃</a> <a id="1246" class="Symbol">λ</a> <a id="1248" href="UTxO.HoareLogic.html#1248" class="Bound">or</a> <a id="1251" class="Symbol">→</a> <a id="1253" href="UTxO.HoareLogic.html#1193" class="Bound">s</a> <a id="1255" href="Prelude.Sets.AsUniqueLists.Core.html#5548" class="Function Operator">≈ˢ</a> <a id="1258" href="Prelude.Sets.AsUniqueLists.Core.html#2544" class="Function">singleton</a> <a id="1268" class="Symbol">(</a><a id="1269" class="Keyword">record</a> <a id="1276" class="Symbol">{</a><a id="1277" href="UTxO.UTxO.html#1864" class="Field">outRef</a> <a id="1284" class="Symbol">=</a> <a id="1286" href="UTxO.HoareLogic.html#1248" class="Bound">or</a><a id="1288" class="Symbol">;</a> <a id="1290" href="UTxO.UTxO.html#1893" class="Field">out</a> <a id="1294" class="Symbol">=</a> <a id="1296" href="UTxO.HoareLogic.html#1204" class="Bound">v</a> <a id="1298" href="UTxO.UTxO.html#817" class="InductiveConstructor Operator">at</a> <a id="1301" href="UTxO.HoareLogic.html#1197" class="Bound">addr</a><a id="1305" class="Symbol">})</a>

<a id="1309" class="Comment">-- We denote assertions as predicates over ledger states.</a>
<a id="1367" class="Keyword">private</a>
  <a id="emp"></a><a id="1377" href="UTxO.HoareLogic.html#1377" class="Function">emp</a> <a id="1381" class="Symbol">:</a> <a id="1383" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="1389" href="UTxO.UTxO.html#2051" class="Function">S</a>
  <a id="1393" href="UTxO.HoareLogic.html#1377" class="Function">emp</a> <a id="1397" href="UTxO.HoareLogic.html#1397" class="Bound">m</a> <a id="1399" class="Symbol">=</a> <a id="1401" class="Symbol">∀</a> <a id="1403" href="UTxO.HoareLogic.html#1403" class="Bound">x</a> <a id="1405" class="Symbol">→</a> <a id="1407" href="UTxO.HoareLogic.html#1403" class="Bound">x</a> <a id="1409" href="Prelude.Sets.AsUniqueLists.Core.html#1863" class="Function Operator">∉ˢ</a> <a id="1412" href="UTxO.HoareLogic.html#1397" class="Bound">m</a>
  <a id="1416" class="Comment">-- emp = _≈ˢ ∅</a>

  <a id="_∗_"></a><a id="1434" href="UTxO.HoareLogic.html#1434" class="Function Operator">_∗_</a> <a id="1438" class="Symbol">:</a> <a id="1440" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="1446" href="UTxO.UTxO.html#2051" class="Function">S</a> <a id="1448" class="Symbol">→</a> <a id="1450" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="1456" href="UTxO.UTxO.html#2051" class="Function">S</a> <a id="1458" class="Symbol">→</a> <a id="1460" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="1466" href="UTxO.UTxO.html#2051" class="Function">S</a>
  <a id="1470" class="Symbol">(</a><a id="1471" href="UTxO.HoareLogic.html#1471" class="Bound">P</a> <a id="1473" href="UTxO.HoareLogic.html#1434" class="Function Operator">∗</a> <a id="1475" href="UTxO.HoareLogic.html#1475" class="Bound">Q</a><a id="1476" class="Symbol">)</a> <a id="1478" href="UTxO.HoareLogic.html#1478" class="Bound">s</a> <a id="1480" class="Symbol">=</a> <a id="1482" href="Data.Product.html#1369" class="Function">∃</a> <a id="1484" class="Symbol">λ</a> <a id="1486" href="UTxO.HoareLogic.html#1486" class="Bound">s₁</a> <a id="1489" class="Symbol">→</a> <a id="1491" href="Data.Product.html#1369" class="Function">∃</a> <a id="1493" class="Symbol">λ</a> <a id="1495" href="UTxO.HoareLogic.html#1495" class="Bound">s₂</a> <a id="1498" class="Symbol">→</a> <a id="1500" class="Symbol">(</a><a id="1501" href="UTxO.HoareLogic.html#977" class="Function Operator">⟨</a> <a id="1503" href="UTxO.HoareLogic.html#1486" class="Bound">s₁</a> <a id="1506" href="UTxO.HoareLogic.html#977" class="Function Operator">⊎</a> <a id="1508" href="UTxO.HoareLogic.html#1495" class="Bound">s₂</a> <a id="1511" href="UTxO.HoareLogic.html#977" class="Function Operator">⟩≡</a> <a id="1514" href="UTxO.HoareLogic.html#1478" class="Bound">s</a><a id="1515" class="Symbol">)</a> <a id="1517" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1519" href="UTxO.HoareLogic.html#1471" class="Bound">P</a> <a id="1521" href="UTxO.HoareLogic.html#1486" class="Bound">s₁</a> <a id="1524" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1526" href="UTxO.HoareLogic.html#1475" class="Bound">Q</a> <a id="1528" href="UTxO.HoareLogic.html#1495" class="Bound">s₂</a>

<a id="⟦_⟧ᵖ"></a><a id="1532" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟦_⟧ᵖ</a> <a id="1537" class="Symbol">:</a> <a id="1539" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a> <a id="1549" class="Symbol">→</a> <a id="1551" href="Prelude.Init.html#12232" class="Function">Pred₀</a> <a id="1557" href="UTxO.UTxO.html#2051" class="Function">S</a>
<a id="1559" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟦</a> <a id="1561" href="UTxO.HoareLogic.html#541" class="InductiveConstructor">`emp</a>      <a id="1571" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟧ᵖ</a> <a id="1574" class="Symbol">=</a> <a id="1576" href="UTxO.HoareLogic.html#1377" class="Function">emp</a>
<a id="1580" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟦</a> <a id="1582" href="UTxO.HoareLogic.html#1582" class="Bound">addr</a> <a id="1587" href="UTxO.HoareLogic.html#617" class="InductiveConstructor Operator">`↦</a> <a id="1590" href="UTxO.HoareLogic.html#1590" class="Bound">v</a> <a id="1592" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟧ᵖ</a> <a id="1595" class="Symbol">=</a> <a id="1597" href="UTxO.HoareLogic.html#1156" class="Function Operator">_[</a> <a id="1600" href="UTxO.HoareLogic.html#1582" class="Bound">addr</a> <a id="1605" href="UTxO.HoareLogic.html#1156" class="Function Operator">↦</a> <a id="1607" href="UTxO.HoareLogic.html#1590" class="Bound">v</a> <a id="1609" href="UTxO.HoareLogic.html#1156" class="Function Operator">]∅</a>
<a id="1612" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟦</a> <a id="1614" href="UTxO.HoareLogic.html#1614" class="Bound">P</a> <a id="1616" href="UTxO.HoareLogic.html#705" class="InductiveConstructor Operator">`∗</a> <a id="1619" href="UTxO.HoareLogic.html#1619" class="Bound">Q</a>    <a id="1624" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟧ᵖ</a> <a id="1627" class="Symbol">=</a> <a id="1629" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟦</a> <a id="1631" href="UTxO.HoareLogic.html#1614" class="Bound">P</a> <a id="1633" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟧ᵖ</a> <a id="1636" href="UTxO.HoareLogic.html#1434" class="Function Operator">∗</a> <a id="1638" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟦</a> <a id="1640" href="UTxO.HoareLogic.html#1619" class="Bound">Q</a> <a id="1642" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟧ᵖ</a>
<a id="1645" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟦</a> <a id="1647" href="UTxO.HoareLogic.html#1647" class="Bound">P</a> <a id="1649" href="UTxO.HoareLogic.html#776" class="InductiveConstructor Operator">`∘⟦</a> <a id="1653" href="UTxO.HoareLogic.html#1653" class="Bound">l</a> <a id="1655" href="UTxO.HoareLogic.html#776" class="InductiveConstructor Operator">⟧</a> <a id="1657" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟧ᵖ</a> <a id="1660" class="Symbol">=</a> <a id="1662" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟦</a> <a id="1664" href="UTxO.HoareLogic.html#1647" class="Bound">P</a> <a id="1666" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟧ᵖ</a> <a id="1669" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1671" href="UTxO.Ledger.html#563" class="Field Operator">⟦</a> <a id="1673" href="UTxO.HoareLogic.html#1653" class="Bound">l</a> <a id="1675" href="UTxO.Ledger.html#563" class="Field Operator">⟧</a>

<a id="1678" class="Comment">-- Convenient notation for working with assertions instead of predicates.</a>
<a id="1752" class="Keyword">infixl</a> <a id="1759" class="Number">9</a> <a id="1761" href="UTxO.HoareLogic.html#1769" class="Function Operator">_`∘⟦_⟧ₜ</a>
<a id="_`∘⟦_⟧ₜ"></a><a id="1769" href="UTxO.HoareLogic.html#1769" class="Function Operator">_`∘⟦_⟧ₜ</a> <a id="1777" class="Symbol">:</a> <a id="1779" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a> <a id="1789" class="Symbol">→</a> <a id="1791" href="UTxO.UTxO.html#1526" class="Record">Tx</a> <a id="1794" class="Symbol">→</a> <a id="1796" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a>
<a id="1806" href="UTxO.HoareLogic.html#1806" class="Bound">P</a> <a id="1808" href="UTxO.HoareLogic.html#1769" class="Function Operator">`∘⟦</a> <a id="1812" href="UTxO.HoareLogic.html#1812" class="Bound">t</a> <a id="1814" href="UTxO.HoareLogic.html#1769" class="Function Operator">⟧ₜ</a> <a id="1817" class="Symbol">=</a> <a id="1819" href="UTxO.HoareLogic.html#1806" class="Bound">P</a> <a id="1821" href="UTxO.HoareLogic.html#776" class="InductiveConstructor Operator">`∘⟦</a> <a id="1825" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="1827" href="UTxO.HoareLogic.html#1812" class="Bound">t</a> <a id="1829" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="1831" href="UTxO.HoareLogic.html#776" class="InductiveConstructor Operator">⟧</a>

<a id="1834" class="Keyword">infix</a> <a id="1840" class="Number">1</a> <a id="1842" href="UTxO.HoareLogic.html#1847" class="Function Operator">_`⊢_</a>
<a id="_`⊢_"></a><a id="1847" href="UTxO.HoareLogic.html#1847" class="Function Operator">_`⊢_</a> <a id="1852" class="Symbol">:</a> <a id="1854" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a> <a id="1864" class="Symbol">→</a> <a id="1866" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a> <a id="1876" class="Symbol">→</a> <a id="1878" href="Agda.Primitive.html#326" class="Primitive">Type</a>
<a id="1883" href="UTxO.HoareLogic.html#1883" class="Bound">P</a> <a id="1885" href="UTxO.HoareLogic.html#1847" class="Function Operator">`⊢</a> <a id="1888" href="UTxO.HoareLogic.html#1888" class="Bound">Q</a> <a id="1890" class="Symbol">=</a> <a id="1892" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟦</a> <a id="1894" href="UTxO.HoareLogic.html#1883" class="Bound">P</a> <a id="1896" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟧ᵖ</a> <a id="1899" href="Prelude.General.html#1680" class="Function Operator">⊢</a> <a id="1901" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟦</a> <a id="1903" href="UTxO.HoareLogic.html#1888" class="Bound">Q</a> <a id="1905" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟧ᵖ</a>

<a id="_∙_"></a><a id="1909" href="UTxO.HoareLogic.html#1909" class="Function Operator">_∙_</a> <a id="1913" class="Symbol">:</a> <a id="1915" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a> <a id="1925" class="Symbol">→</a> <a id="1927" href="UTxO.UTxO.html#2051" class="Function">S</a> <a id="1929" class="Symbol">→</a> <a id="1931" href="Agda.Primitive.html#326" class="Primitive">Type</a>
<a id="1936" href="UTxO.HoareLogic.html#1936" class="Bound">P</a> <a id="1938" href="UTxO.HoareLogic.html#1909" class="Function Operator">∙</a> <a id="1940" href="UTxO.HoareLogic.html#1940" class="Bound">s</a> <a id="1942" class="Symbol">=</a> <a id="1944" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟦</a> <a id="1946" href="UTxO.HoareLogic.html#1936" class="Bound">P</a> <a id="1948" href="UTxO.HoareLogic.html#1532" class="Function Operator">⟧ᵖ</a> <a id="1951" href="UTxO.HoareLogic.html#1940" class="Bound">s</a>

<a id="1954" class="Comment">-- ** Hoare triples: both strengthening/weakening are captured by consequence.</a>
<a id="2033" class="Keyword">data</a> <a id="⟨_⟩_⟨_⟩"></a><a id="2038" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨_⟩_⟨_⟩</a> <a id="2046" class="Symbol">:</a> <a id="2048" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a> <a id="2058" class="Symbol">→</a> <a id="2060" href="UTxO.UTxO.html#1818" class="Function">L</a> <a id="2062" class="Symbol">→</a> <a id="2064" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a> <a id="2074" class="Symbol">→</a> <a id="2076" href="Agda.Primitive.html#326" class="Primitive">Type₁</a> <a id="2082" class="Keyword">where</a>

  <a id="⟨_⟩_⟨_⟩.base"></a><a id="2091" href="UTxO.HoareLogic.html#2091" class="InductiveConstructor">base</a> <a id="2096" class="Symbol">:</a>
    <a id="2102" class="Comment">--------------</a>
    <a id="2121" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2123" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="2125" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="2127" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="2130" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2132" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="2134" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a>

  <a id="⟨_⟩_⟨_⟩.step"></a><a id="2139" href="UTxO.HoareLogic.html#2139" class="InductiveConstructor">step</a> <a id="2144" class="Symbol">:</a>
      <a id="2152" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2154" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="2156" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="2158" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="2160" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2162" href="UTxO.HoareLogic.html#962" class="Generalizable">R</a> <a id="2164" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a>
      <a id="2172" class="Comment">--------------------------</a>
    <a id="2203" class="Symbol">→</a> <a id="2205" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2207" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="2209" href="UTxO.HoareLogic.html#1769" class="Function Operator">`∘⟦</a> <a id="2213" href="UTxO.Ledger.html#1195" class="Generalizable">t</a> <a id="2215" href="UTxO.HoareLogic.html#1769" class="Function Operator">⟧ₜ</a> <a id="2218" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="2220" href="UTxO.Ledger.html#1195" class="Generalizable">t</a> <a id="2222" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2224" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="2226" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2228" href="UTxO.HoareLogic.html#962" class="Generalizable">R</a> <a id="2230" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a>

  <a id="⟨_⟩_⟨_⟩.consequence"></a><a id="2235" href="UTxO.HoareLogic.html#2235" class="InductiveConstructor">consequence</a> <a id="2247" class="Symbol">:</a>
      <a id="2255" href="UTxO.HoareLogic.html#942" class="Generalizable">P′</a> <a id="2258" href="UTxO.HoareLogic.html#1847" class="Function Operator">`⊢</a> <a id="2261" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a>          <a id="2272" class="Comment">-- ^ weakening the pre-condition</a>
    <a id="2309" class="Symbol">→</a> <a id="2311" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a>  <a id="2314" href="UTxO.HoareLogic.html#1847" class="Function Operator">`⊢</a> <a id="2317" href="UTxO.HoareLogic.html#953" class="Generalizable">Q′</a>         <a id="2328" class="Comment">-- ^ strengthening the post-condition</a>
    <a id="2370" class="Symbol">→</a> <a id="2372" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2374" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a>  <a id="2377" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="2379" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="2381" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2383" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a>  <a id="2386" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a>
      <a id="2394" class="Comment">---------------</a>
    <a id="2414" class="Symbol">→</a> <a id="2416" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2418" href="UTxO.HoareLogic.html#942" class="Generalizable">P′</a> <a id="2421" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="2423" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="2425" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2427" href="UTxO.HoareLogic.html#953" class="Generalizable">Q′</a> <a id="2430" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a>

<a id="2433" class="Comment">-- Utilities for Hoare triples.</a>
<a id="weaken"></a><a id="2465" href="UTxO.HoareLogic.html#2465" class="Function">weaken</a> <a id="2472" class="Symbol">:</a> <a id="2474" href="UTxO.HoareLogic.html#942" class="Generalizable">P′</a> <a id="2477" href="UTxO.HoareLogic.html#1847" class="Function Operator">`⊢</a> <a id="2480" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="2482" class="Symbol">→</a> <a id="2484" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2486" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="2488" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="2490" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="2492" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2494" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a> <a id="2496" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="2498" class="Symbol">→</a> <a id="2500" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2502" href="UTxO.HoareLogic.html#942" class="Generalizable">P′</a> <a id="2505" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="2507" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="2509" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2511" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a> <a id="2513" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a>
<a id="2515" href="UTxO.HoareLogic.html#2465" class="Function">weaken</a> <a id="2522" href="UTxO.HoareLogic.html#2522" class="Bound">H</a> <a id="2524" class="Symbol">=</a> <a id="2526" href="UTxO.HoareLogic.html#2235" class="InductiveConstructor">consequence</a> <a id="2538" href="UTxO.HoareLogic.html#2522" class="Bound">H</a> <a id="2540" href="Function.Base.html#615" class="Function">id</a>

<a id="strengthen"></a><a id="2544" href="UTxO.HoareLogic.html#2544" class="Function">strengthen</a> <a id="2555" class="Symbol">:</a> <a id="2557" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a> <a id="2559" href="UTxO.HoareLogic.html#1847" class="Function Operator">`⊢</a> <a id="2562" href="UTxO.HoareLogic.html#953" class="Generalizable">Q′</a> <a id="2565" class="Symbol">→</a> <a id="2567" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2569" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="2571" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="2573" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="2575" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2577" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a> <a id="2579" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="2581" class="Symbol">→</a> <a id="2583" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2585" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="2587" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="2589" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="2591" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2593" href="UTxO.HoareLogic.html#953" class="Generalizable">Q′</a> <a id="2596" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a>
<a id="2598" href="UTxO.HoareLogic.html#2544" class="Function">strengthen</a> <a id="2609" href="UTxO.HoareLogic.html#2609" class="Bound">H</a> <a id="2611" class="Symbol">=</a> <a id="2613" href="UTxO.HoareLogic.html#2235" class="InductiveConstructor">consequence</a> <a id="2625" href="Function.Base.html#615" class="Function">id</a> <a id="2628" href="UTxO.HoareLogic.html#2609" class="Bound">H</a>

<a id="axiom-base⋆"></a><a id="2631" href="UTxO.HoareLogic.html#2631" class="Function">axiom-base⋆</a> <a id="2643" class="Symbol">:</a> <a id="2645" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2647" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="2649" href="UTxO.HoareLogic.html#776" class="InductiveConstructor Operator">`∘⟦</a> <a id="2653" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="2655" href="UTxO.HoareLogic.html#776" class="InductiveConstructor Operator">⟧</a> <a id="2657" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="2659" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="2661" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2663" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="2665" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a>
<a id="2667" href="UTxO.HoareLogic.html#2631" class="Function">axiom-base⋆</a> <a id="2679" class="Symbol">{</a><a id="2680" class="Argument">P</a> <a id="2682" class="Symbol">=</a> <a id="2684" href="UTxO.HoareLogic.html#2684" class="Bound">P</a><a id="2685" class="Symbol">}</a> <a id="2687" class="Symbol">{</a><a id="2688" class="Argument">l</a> <a id="2690" class="Symbol">=</a> <a id="2692" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2694" class="Symbol">}</a>    <a id="2699" class="Symbol">=</a> <a id="2701" href="UTxO.HoareLogic.html#2235" class="InductiveConstructor">consequence</a> <a id="2713" class="Symbol">{</a><a id="2714" class="Argument">P</a> <a id="2716" class="Symbol">=</a> <a id="2718" href="UTxO.HoareLogic.html#2684" class="Bound">P</a><a id="2719" class="Symbol">}</a> <a id="2721" href="Function.Base.html#615" class="Function">id</a> <a id="2724" href="Function.Base.html#615" class="Function">id</a> <a id="2727" href="UTxO.HoareLogic.html#2091" class="InductiveConstructor">base</a>
<a id="2732" href="UTxO.HoareLogic.html#2631" class="Function">axiom-base⋆</a> <a id="2744" class="Symbol">{</a><a id="2745" class="Argument">P</a> <a id="2747" class="Symbol">=</a> <a id="2749" href="UTxO.HoareLogic.html#2749" class="Bound">P</a><a id="2750" class="Symbol">}</a> <a id="2752" class="Symbol">{</a><a id="2753" class="Argument">l</a> <a id="2755" class="Symbol">=</a> <a id="2757" href="UTxO.HoareLogic.html#2757" class="Bound">t</a> <a id="2759" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2761" href="UTxO.HoareLogic.html#2761" class="Bound">l</a><a id="2762" class="Symbol">}</a> <a id="2764" class="Symbol">=</a> <a id="2766" href="UTxO.HoareLogic.html#2235" class="InductiveConstructor">consequence</a> <a id="2778" class="Symbol">{</a><a id="2779" class="Argument">P</a> <a id="2781" class="Symbol">=</a> <a id="2783" href="UTxO.HoareLogic.html#2749" class="Bound">P</a> <a id="2785" href="UTxO.HoareLogic.html#776" class="InductiveConstructor Operator">`∘⟦</a> <a id="2789" href="UTxO.HoareLogic.html#2761" class="Bound">l</a> <a id="2791" href="UTxO.HoareLogic.html#776" class="InductiveConstructor Operator">⟧</a> <a id="2793" href="UTxO.HoareLogic.html#1769" class="Function Operator">`∘⟦</a> <a id="2797" href="UTxO.HoareLogic.html#2757" class="Bound">t</a> <a id="2799" href="UTxO.HoareLogic.html#1769" class="Function Operator">⟧ₜ</a><a id="2801" class="Symbol">}</a> <a id="2803" class="Symbol">{</a><a id="2804" class="Argument">Q</a> <a id="2806" class="Symbol">=</a> <a id="2808" href="UTxO.HoareLogic.html#2749" class="Bound">P</a><a id="2809" class="Symbol">}</a> <a id="2811" href="Function.Base.html#615" class="Function">id</a> <a id="2814" href="Function.Base.html#615" class="Function">id</a> <a id="2817" class="Symbol">(</a><a id="2818" href="UTxO.HoareLogic.html#2139" class="InductiveConstructor">step</a> <a id="2823" href="UTxO.HoareLogic.html#2631" class="Function">axiom-base⋆</a><a id="2834" class="Symbol">)</a>

<a id="2837" class="Comment">-- ** Correspondence with denotational semantics.</a>
<a id="axiom⇒denot"></a><a id="2887" href="UTxO.HoareLogic.html#2887" class="Function">axiom⇒denot</a> <a id="2899" class="Symbol">:</a> <a id="2901" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2903" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="2905" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="2907" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="2909" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="2911" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a> <a id="2913" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="2915" class="Symbol">→</a> <a id="2917" class="Symbol">(</a><a id="2918" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="2920" href="UTxO.HoareLogic.html#1847" class="Function Operator">`⊢</a> <a id="2923" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a> <a id="2925" href="UTxO.HoareLogic.html#776" class="InductiveConstructor Operator">`∘⟦</a> <a id="2929" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="2931" href="UTxO.HoareLogic.html#776" class="InductiveConstructor Operator">⟧</a><a id="2932" class="Symbol">)</a>
<a id="2934" href="UTxO.HoareLogic.html#2887" class="Function">axiom⇒denot</a> <a id="2946" href="UTxO.HoareLogic.html#2091" class="InductiveConstructor">base</a> <a id="2951" class="Symbol">=</a> <a id="2953" href="Function.Base.html#615" class="Function">id</a>
<a id="2956" href="UTxO.HoareLogic.html#2887" class="Function">axiom⇒denot</a> <a id="2968" class="Symbol">(</a><a id="2969" href="UTxO.HoareLogic.html#2139" class="InductiveConstructor">step</a> <a id="2974" href="UTxO.HoareLogic.html#2974" class="Bound">PlQ</a><a id="2977" class="Symbol">)</a> <a id="2979" class="Symbol">=</a> <a id="2981" href="UTxO.HoareLogic.html#2887" class="Function">axiom⇒denot</a> <a id="2993" href="UTxO.HoareLogic.html#2974" class="Bound">PlQ</a>
<a id="2997" href="UTxO.HoareLogic.html#2887" class="Function">axiom⇒denot</a> <a id="3009" class="Symbol">(</a><a id="3010" href="UTxO.HoareLogic.html#2235" class="InductiveConstructor">consequence</a> <a id="3022" href="UTxO.HoareLogic.html#3022" class="Bound">P⊢P′</a> <a id="3027" href="UTxO.HoareLogic.html#3027" class="Bound">Q′⊢Q</a> <a id="3032" href="UTxO.HoareLogic.html#3032" class="Bound">PlQ</a><a id="3035" class="Symbol">)</a> <a id="3037" class="Symbol">=</a> <a id="3039" href="UTxO.HoareLogic.html#3027" class="Bound">Q′⊢Q</a> <a id="3044" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="3046" href="UTxO.HoareLogic.html#2887" class="Function">axiom⇒denot</a> <a id="3058" href="UTxO.HoareLogic.html#3032" class="Bound">PlQ</a> <a id="3062" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="3064" href="UTxO.HoareLogic.html#3022" class="Bound">P⊢P′</a>

<a id="denot⇒axiom"></a><a id="3070" href="UTxO.HoareLogic.html#3070" class="Function">denot⇒axiom</a> <a id="3082" class="Symbol">:</a> <a id="3084" class="Symbol">(</a><a id="3085" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="3087" href="UTxO.HoareLogic.html#1847" class="Function Operator">`⊢</a> <a id="3090" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a> <a id="3092" href="UTxO.HoareLogic.html#776" class="InductiveConstructor Operator">`∘⟦</a> <a id="3096" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="3098" href="UTxO.HoareLogic.html#776" class="InductiveConstructor Operator">⟧</a><a id="3099" class="Symbol">)</a> <a id="3101" class="Symbol">→</a> <a id="3103" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="3105" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="3107" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="3109" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="3111" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="3113" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a> <a id="3115" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a>
<a id="3117" href="UTxO.HoareLogic.html#3070" class="Function">denot⇒axiom</a> <a id="3129" class="Symbol">{</a><a id="3130" class="Argument">P</a> <a id="3132" class="Symbol">=</a> <a id="3134" href="UTxO.HoareLogic.html#3134" class="Bound">P</a><a id="3135" class="Symbol">}</a> <a id="3137" class="Symbol">{</a><a id="3138" class="Argument">Q</a> <a id="3140" class="Symbol">=</a> <a id="3142" href="UTxO.HoareLogic.html#3142" class="Bound">Q</a><a id="3143" class="Symbol">}</a> <a id="3145" class="Symbol">{</a><a id="3146" class="Argument">l</a> <a id="3148" class="Symbol">=</a> <a id="3150" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3152" class="Symbol">}</a> <a id="3154" href="UTxO.HoareLogic.html#3154" class="Bound">H</a> <a id="3156" class="Symbol">=</a>
  <a id="3160" href="UTxO.HoareLogic.html#2544" class="Function">strengthen</a> <a id="3171" class="Symbol">{</a><a id="3172" class="Argument">Q</a> <a id="3174" class="Symbol">=</a> <a id="3176" href="UTxO.HoareLogic.html#3134" class="Bound">P</a><a id="3177" class="Symbol">}</a> <a id="3179" class="Symbol">{</a><a id="3180" class="Argument">Q′</a> <a id="3183" class="Symbol">=</a> <a id="3185" href="UTxO.HoareLogic.html#3142" class="Bound">Q</a><a id="3186" class="Symbol">}</a> <a id="3188" href="UTxO.HoareLogic.html#3154" class="Bound">H</a> <a id="3190" href="UTxO.HoareLogic.html#2091" class="InductiveConstructor">base</a>
<a id="3195" href="UTxO.HoareLogic.html#3070" class="Function">denot⇒axiom</a> <a id="3207" class="Symbol">{</a><a id="3208" class="Argument">P</a> <a id="3210" class="Symbol">=</a> <a id="3212" href="UTxO.HoareLogic.html#3212" class="Bound">P</a><a id="3213" class="Symbol">}</a> <a id="3215" class="Symbol">{</a><a id="3216" class="Argument">Q</a> <a id="3218" class="Symbol">=</a> <a id="3220" href="UTxO.HoareLogic.html#3220" class="Bound">Q</a><a id="3221" class="Symbol">}</a> <a id="3223" class="Symbol">{</a><a id="3224" class="Argument">l</a> <a id="3226" class="Symbol">=</a> <a id="3228" href="UTxO.HoareLogic.html#3228" class="Bound">t</a> <a id="3230" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3232" href="UTxO.HoareLogic.html#3232" class="Bound">l</a><a id="3233" class="Symbol">}</a> <a id="3235" href="UTxO.HoareLogic.html#3235" class="Bound">H</a> <a id="3237" class="Symbol">=</a>
  <a id="3241" href="UTxO.HoareLogic.html#2465" class="Function">weaken</a> <a id="3248" class="Symbol">{</a><a id="3249" class="Argument">P′</a> <a id="3252" class="Symbol">=</a> <a id="3254" href="UTxO.HoareLogic.html#3212" class="Bound">P</a><a id="3255" class="Symbol">}</a> <a id="3257" class="Symbol">{</a><a id="3258" class="Argument">P</a> <a id="3260" class="Symbol">=</a> <a id="3262" href="UTxO.HoareLogic.html#3220" class="Bound">Q</a> <a id="3264" href="UTxO.HoareLogic.html#776" class="InductiveConstructor Operator">`∘⟦</a> <a id="3268" href="UTxO.HoareLogic.html#3228" class="Bound">t</a> <a id="3270" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3272" href="UTxO.HoareLogic.html#3232" class="Bound">l</a> <a id="3274" href="UTxO.HoareLogic.html#776" class="InductiveConstructor Operator">⟧</a><a id="3275" class="Symbol">}</a> <a id="3277" href="UTxO.HoareLogic.html#3235" class="Bound">H</a> <a id="3279" class="Symbol">(</a><a id="3280" href="UTxO.HoareLogic.html#2631" class="Function">axiom-base⋆</a> <a id="3292" class="Symbol">{</a><a id="3293" class="Argument">P</a> <a id="3295" class="Symbol">=</a> <a id="3297" href="UTxO.HoareLogic.html#3220" class="Bound">Q</a><a id="3298" class="Symbol">}</a> <a id="3300" class="Symbol">{</a><a id="3301" class="Argument">l</a> <a id="3303" class="Symbol">=</a> <a id="3305" href="UTxO.HoareLogic.html#3228" class="Bound">t</a> <a id="3307" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3309" href="UTxO.HoareLogic.html#3232" class="Bound">l</a><a id="3310" class="Symbol">})</a>

<a id="axiom⇔denot"></a><a id="3314" href="UTxO.HoareLogic.html#3314" class="Function">axiom⇔denot</a> <a id="3326" class="Symbol">:</a> <a id="3328" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="3330" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="3332" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="3334" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="3336" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="3338" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a> <a id="3340" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="3342" href="Prelude.General.html#618" class="Function Operator">⇔</a> <a id="3344" class="Symbol">(</a><a id="3345" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="3347" href="UTxO.HoareLogic.html#1847" class="Function Operator">`⊢</a> <a id="3350" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a> <a id="3352" href="UTxO.HoareLogic.html#776" class="InductiveConstructor Operator">`∘⟦</a> <a id="3356" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="3358" href="UTxO.HoareLogic.html#776" class="InductiveConstructor Operator">⟧</a><a id="3359" class="Symbol">)</a>
<a id="3361" href="UTxO.HoareLogic.html#3314" class="Function">axiom⇔denot</a> <a id="3373" class="Symbol">=</a> <a id="3375" href="UTxO.HoareLogic.html#2887" class="Function">axiom⇒denot</a> <a id="3387" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3389" href="UTxO.HoareLogic.html#3070" class="Function">denot⇒axiom</a>

<a id="3402" class="Comment">-- Derived alternative formulation for step, using list concatenation.</a>
<a id="step′"></a><a id="3473" href="UTxO.HoareLogic.html#3473" class="Function">step′</a> <a id="3479" class="Symbol">:</a>
    <a id="3485" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="3487" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="3489" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="3491" href="UTxO.Ledger.html#1210" class="Generalizable">l</a>  <a id="3494" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="3496" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a> <a id="3498" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a>
  <a id="3502" class="Symbol">→</a> <a id="3504" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="3506" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a> <a id="3508" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="3510" href="UTxO.Ledger.html#1212" class="Generalizable">l′</a> <a id="3513" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="3515" href="UTxO.HoareLogic.html#962" class="Generalizable">R</a> <a id="3517" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a>
    <a id="3523" class="Comment">-------------------</a>
  <a id="3545" class="Symbol">→</a> <a id="3547" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="3549" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="3551" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="3553" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="3555" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="3558" href="UTxO.Ledger.html#1212" class="Generalizable">l′</a> <a id="3561" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="3563" href="UTxO.HoareLogic.html#962" class="Generalizable">R</a> <a id="3565" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a>
<a id="3567" href="UTxO.HoareLogic.html#3473" class="Function">step′</a> <a id="3573" class="Symbol">{</a><a id="3574" href="UTxO.HoareLogic.html#3574" class="Bound">P</a><a id="3575" class="Symbol">}</a> <a id="3577" class="Symbol">{</a><a id="3578" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3580" class="Symbol">}</a> <a id="3582" class="Symbol">{</a><a id="3583" href="UTxO.HoareLogic.html#3583" class="Bound">Q</a><a id="3584" class="Symbol">}</a> <a id="3586" class="Symbol">{</a><a id="3587" href="UTxO.HoareLogic.html#3587" class="Bound">l′</a><a id="3589" class="Symbol">}</a> <a id="3591" class="Symbol">{</a><a id="3592" href="UTxO.HoareLogic.html#3592" class="Bound">R</a><a id="3593" class="Symbol">}</a> <a id="3595" href="UTxO.HoareLogic.html#3595" class="Bound">PlQ</a> <a id="3599" href="UTxO.HoareLogic.html#3599" class="Bound">QlR</a> <a id="3603" class="Symbol">=</a> <a id="3605" href="UTxO.HoareLogic.html#2465" class="Function">weaken</a> <a id="3612" class="Symbol">(</a><a id="3613" href="UTxO.HoareLogic.html#2887" class="Function">axiom⇒denot</a> <a id="3625" href="UTxO.HoareLogic.html#3595" class="Bound">PlQ</a><a id="3628" class="Symbol">)</a> <a id="3630" href="UTxO.HoareLogic.html#3599" class="Bound">QlR</a>
<a id="3634" href="UTxO.HoareLogic.html#3473" class="Function">step′</a> <a id="3640" class="Symbol">{</a><a id="3641" class="DottedPattern Symbol">.(_</a> <a id="3645" href="UTxO.HoareLogic.html#1769" class="DottedPattern Function Operator">`∘⟦</a> <a id="3649" href="UTxO.HoareLogic.html#3657" class="DottedPattern Bound">t</a> <a id="3651" href="UTxO.HoareLogic.html#1769" class="DottedPattern Function Operator">⟧ₜ</a><a id="3653" class="DottedPattern Symbol">)</a><a id="3654" class="Symbol">}</a> <a id="3656" class="Symbol">{</a><a id="3657" href="UTxO.HoareLogic.html#3657" class="Bound">t</a> <a id="3659" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3661" href="UTxO.HoareLogic.html#3661" class="Bound">l</a><a id="3662" class="Symbol">}</a> <a id="3664" class="Symbol">{</a><a id="3665" href="UTxO.HoareLogic.html#3665" class="Bound">Q</a><a id="3666" class="Symbol">}</a> <a id="3668" class="Symbol">{</a><a id="3669" href="UTxO.HoareLogic.html#3669" class="Bound">l′</a><a id="3671" class="Symbol">}</a> <a id="3673" class="Symbol">{</a><a id="3674" href="UTxO.HoareLogic.html#3674" class="Bound">R</a><a id="3675" class="Symbol">}</a> <a id="3677" class="Symbol">(</a><a id="3678" href="UTxO.HoareLogic.html#2139" class="InductiveConstructor">step</a> <a id="3683" href="UTxO.HoareLogic.html#3683" class="Bound">PlQ</a><a id="3686" class="Symbol">)</a> <a id="3688" href="UTxO.HoareLogic.html#3688" class="Bound">QlR</a> <a id="3692" class="Symbol">=</a> <a id="3694" href="UTxO.HoareLogic.html#2139" class="InductiveConstructor">step</a> <a id="3699" class="Symbol">(</a><a id="3700" href="UTxO.HoareLogic.html#3473" class="Function">step′</a> <a id="3706" href="UTxO.HoareLogic.html#3683" class="Bound">PlQ</a> <a id="3710" href="UTxO.HoareLogic.html#3688" class="Bound">QlR</a><a id="3713" class="Symbol">)</a>
<a id="3715" href="UTxO.HoareLogic.html#3473" class="Function">step′</a> <a id="3721" class="Symbol">{</a><a id="3722" href="UTxO.HoareLogic.html#3722" class="Bound">P</a><a id="3723" class="Symbol">}</a> <a id="3725" class="Symbol">{</a><a id="3726" href="UTxO.HoareLogic.html#3726" class="Bound">t</a> <a id="3728" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3730" href="UTxO.HoareLogic.html#3730" class="Bound">l</a><a id="3731" class="Symbol">}</a> <a id="3733" class="Symbol">{</a><a id="3734" href="UTxO.HoareLogic.html#3734" class="Bound">Q</a><a id="3735" class="Symbol">}</a> <a id="3737" class="Symbol">{</a><a id="3738" href="UTxO.HoareLogic.html#3738" class="Bound">l′</a><a id="3740" class="Symbol">}</a> <a id="3742" class="Symbol">{</a><a id="3743" href="UTxO.HoareLogic.html#3743" class="Bound">R</a><a id="3744" class="Symbol">}</a> <a id="3746" class="Symbol">(</a><a id="3747" href="UTxO.HoareLogic.html#2235" class="InductiveConstructor">consequence</a> <a id="3759" class="Symbol">{</a><a id="3760" class="Argument">P</a> <a id="3762" class="Symbol">=</a> <a id="3764" href="UTxO.HoareLogic.html#3764" class="Bound">P′</a><a id="3766" class="Symbol">}{</a><a id="3768" class="Argument">Q</a> <a id="3770" class="Symbol">=</a> <a id="3772" href="UTxO.HoareLogic.html#3772" class="Bound">Q′</a><a id="3774" class="Symbol">}</a> <a id="3776" href="UTxO.HoareLogic.html#3776" class="Bound">pre</a> <a id="3780" href="UTxO.HoareLogic.html#3780" class="Bound">post</a> <a id="3785" href="UTxO.HoareLogic.html#3785" class="Bound">PlQ</a><a id="3788" class="Symbol">)</a> <a id="3790" href="UTxO.HoareLogic.html#3790" class="Bound">QlR</a> <a id="3794" class="Symbol">=</a> <a id="3796" href="UTxO.HoareLogic.html#2465" class="Function">weaken</a> <a id="3803" href="UTxO.HoareLogic.html#3776" class="Bound">pre</a> <a id="3807" href="UTxO.HoareLogic.html#3821" class="Function">p</a>
  <a id="3811" class="Keyword">where</a>
    <a id="3821" href="UTxO.HoareLogic.html#3821" class="Function">p</a> <a id="3823" class="Symbol">:</a> <a id="3825" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="3827" href="UTxO.HoareLogic.html#3764" class="Bound">P′</a> <a id="3830" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="3832" href="UTxO.HoareLogic.html#3726" class="Bound">t</a> <a id="3834" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3836" href="UTxO.HoareLogic.html#3730" class="Bound">l</a> <a id="3838" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="3841" href="UTxO.HoareLogic.html#3738" class="Bound">l′</a> <a id="3844" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="3846" href="UTxO.HoareLogic.html#3743" class="Bound">R</a> <a id="3848" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a>
    <a id="3854" href="UTxO.HoareLogic.html#3821" class="Function">p</a> <a id="3856" class="Symbol">=</a> <a id="3858" href="UTxO.HoareLogic.html#3473" class="Function">step′</a> <a id="3864" href="UTxO.HoareLogic.html#3785" class="Bound">PlQ</a> <a id="3868" class="Symbol">(</a><a id="3869" href="UTxO.HoareLogic.html#2465" class="Function">weaken</a> <a id="3876" href="UTxO.HoareLogic.html#3780" class="Bound">post</a> <a id="3881" href="UTxO.HoareLogic.html#3790" class="Bound">QlR</a><a id="3884" class="Symbol">)</a>

<a id="3887" class="Comment">-- ** Reasoning syntax for Hoare triples.</a>
<a id="3929" class="Keyword">module</a> <a id="HoareReasoning"></a><a id="3936" href="UTxO.HoareLogic.html#3936" class="Module">HoareReasoning</a> <a id="3951" class="Keyword">where</a>

  <a id="3960" class="Comment">-- Reasoning newtype (for better type inference).</a>
  <a id="4012" class="Keyword">record</a> <a id="HoareReasoning.ℝ⟨_⟩_⟨_⟩"></a><a id="4019" href="UTxO.HoareLogic.html#4019" class="Record Operator">ℝ⟨_⟩_⟨_⟩</a> <a id="4028" class="Symbol">(</a><a id="4029" href="UTxO.HoareLogic.html#4029" class="Bound">P</a> <a id="4031" class="Symbol">:</a> <a id="4033" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a><a id="4042" class="Symbol">)</a> <a id="4044" class="Symbol">(</a><a id="4045" href="UTxO.HoareLogic.html#4045" class="Bound">l</a> <a id="4047" class="Symbol">:</a> <a id="4049" href="UTxO.UTxO.html#1818" class="Function">L</a><a id="4050" class="Symbol">)</a> <a id="4052" class="Symbol">(</a><a id="4053" href="UTxO.HoareLogic.html#4053" class="Bound">Q</a> <a id="4055" class="Symbol">:</a> <a id="4057" href="UTxO.HoareLogic.html#515" class="Datatype">Assertion</a><a id="4066" class="Symbol">)</a> <a id="4068" class="Symbol">:</a> <a id="4070" href="Agda.Primitive.html#326" class="Primitive">Type₁</a> <a id="4076" class="Keyword">where</a>
    <a id="4086" class="Keyword">constructor</a> <a id="HoareReasoning.mkℝ_"></a><a id="4098" href="UTxO.HoareLogic.html#4098" class="InductiveConstructor Operator">mkℝ_</a>
    <a id="4107" class="Keyword">field</a> <a id="HoareReasoning.ℝ⟨_⟩_⟨_⟩.begin_"></a><a id="4113" href="UTxO.HoareLogic.html#4113" class="Field Operator">begin_</a> <a id="4120" class="Symbol">:</a> <a id="4122" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="4124" href="UTxO.HoareLogic.html#4029" class="Bound">P</a> <a id="4126" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a> <a id="4128" href="UTxO.HoareLogic.html#4045" class="Bound">l</a> <a id="4130" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟨</a> <a id="4132" href="UTxO.HoareLogic.html#4053" class="Bound">Q</a> <a id="4134" href="UTxO.HoareLogic.html#2038" class="Datatype Operator">⟩</a>
    <a id="4140" class="Keyword">infix</a> <a id="4146" class="Number">-2</a> <a id="4149" href="UTxO.HoareLogic.html#4113" class="Field Operator">begin_</a>
  <a id="4158" class="Keyword">open</a> <a id="4163" href="UTxO.HoareLogic.html#4019" class="Module Operator">ℝ⟨_⟩_⟨_⟩</a> <a id="4172" class="Keyword">public</a>
  <a id="4181" class="Keyword">infix</a>  <a id="4188" class="Number">-2</a> <a id="4191" href="UTxO.HoareLogic.html#4098" class="InductiveConstructor Operator">mkℝ_</a>
  <a id="4198" class="Keyword">infixr</a> <a id="4205" class="Number">-1</a> <a id="4208" href="UTxO.HoareLogic.html#4284" class="Function Operator">_~⟪_⟩_</a> <a id="4215" href="UTxO.HoareLogic.html#4415" class="Function Operator">_~⟨_⟫_</a> <a id="4222" href="UTxO.HoareLogic.html#4541" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="4232" href="UTxO.HoareLogic.html#4733" class="Function Operator">_~⟨_∶-_⟩++_</a>
  <a id="4246" class="Keyword">infix</a>  <a id="4253" class="Number">0</a>  <a id="4256" href="UTxO.HoareLogic.html#4888" class="Function Operator">_∎</a>

  <a id="4262" class="Comment">-- weakening syntax</a>
  <a id="HoareReasoning._~⟪_⟩_"></a><a id="4284" href="UTxO.HoareLogic.html#4284" class="Function Operator">_~⟪_⟩_</a> <a id="4291" class="Symbol">:</a> <a id="4293" class="Symbol">∀</a> <a id="4295" href="UTxO.HoareLogic.html#4295" class="Bound">P′</a> <a id="4298" class="Symbol">→</a> <a id="4300" href="UTxO.HoareLogic.html#4295" class="Bound">P′</a> <a id="4303" href="UTxO.HoareLogic.html#1847" class="Function Operator">`⊢</a> <a id="4306" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a>  <a id="4309" class="Symbol">→</a> <a id="4311" href="UTxO.HoareLogic.html#4019" class="Record Operator">ℝ⟨</a> <a id="4314" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="4316" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a> <a id="4318" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="4320" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟨</a> <a id="4322" href="UTxO.HoareLogic.html#962" class="Generalizable">R</a> <a id="4324" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a> <a id="4326" class="Symbol">→</a> <a id="4328" href="UTxO.HoareLogic.html#4019" class="Record Operator">ℝ⟨</a> <a id="4331" href="UTxO.HoareLogic.html#4295" class="Bound">P′</a> <a id="4334" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a> <a id="4336" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="4338" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟨</a> <a id="4340" href="UTxO.HoareLogic.html#962" class="Generalizable">R</a> <a id="4342" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a>
  <a id="4346" class="Symbol">_</a> <a id="4348" href="UTxO.HoareLogic.html#4284" class="Function Operator">~⟪</a> <a id="4351" href="UTxO.HoareLogic.html#4351" class="Bound">H</a> <a id="4353" href="UTxO.HoareLogic.html#4284" class="Function Operator">⟩</a> <a id="4355" href="UTxO.HoareLogic.html#4355" class="Bound">PlR</a> <a id="4359" class="Symbol">=</a> <a id="4361" href="UTxO.HoareLogic.html#4098" class="InductiveConstructor Operator">mkℝ</a> <a id="4365" href="UTxO.HoareLogic.html#2465" class="Function">weaken</a> <a id="4372" href="UTxO.HoareLogic.html#4351" class="Bound">H</a> <a id="4374" class="Symbol">(</a><a id="4375" href="UTxO.HoareLogic.html#4113" class="Field Operator">begin</a> <a id="4381" href="UTxO.HoareLogic.html#4355" class="Bound">PlR</a><a id="4384" class="Symbol">)</a>

  <a id="4389" class="Comment">-- strengthening syntax</a>
  <a id="HoareReasoning._~⟨_⟫_"></a><a id="4415" href="UTxO.HoareLogic.html#4415" class="Function Operator">_~⟨_⟫_</a> <a id="4422" class="Symbol">:</a> <a id="4424" class="Symbol">∀</a> <a id="4426" href="UTxO.HoareLogic.html#4426" class="Bound">R′</a> <a id="4429" class="Symbol">→</a> <a id="4431" href="UTxO.HoareLogic.html#962" class="Generalizable">R</a> <a id="4433" href="UTxO.HoareLogic.html#1847" class="Function Operator">`⊢</a> <a id="4436" href="UTxO.HoareLogic.html#4426" class="Bound">R′</a>  <a id="4440" class="Symbol">→</a> <a id="4442" href="UTxO.HoareLogic.html#4019" class="Record Operator">ℝ⟨</a> <a id="4445" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="4447" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a> <a id="4449" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="4451" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟨</a> <a id="4453" href="UTxO.HoareLogic.html#962" class="Generalizable">R</a> <a id="4455" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a> <a id="4457" class="Symbol">→</a> <a id="4459" href="UTxO.HoareLogic.html#4019" class="Record Operator">ℝ⟨</a> <a id="4462" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="4464" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a> <a id="4466" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="4468" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟨</a> <a id="4470" href="UTxO.HoareLogic.html#4426" class="Bound">R′</a> <a id="4473" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a>
  <a id="4477" class="Symbol">_</a> <a id="4479" href="UTxO.HoareLogic.html#4415" class="Function Operator">~⟨</a> <a id="4482" href="UTxO.HoareLogic.html#4482" class="Bound">H</a> <a id="4484" href="UTxO.HoareLogic.html#4415" class="Function Operator">⟫</a> <a id="4486" href="UTxO.HoareLogic.html#4486" class="Bound">PlR</a> <a id="4490" class="Symbol">=</a> <a id="4492" href="UTxO.HoareLogic.html#4098" class="InductiveConstructor Operator">mkℝ</a> <a id="4496" href="UTxO.HoareLogic.html#2544" class="Function">strengthen</a> <a id="4507" href="UTxO.HoareLogic.html#4482" class="Bound">H</a> <a id="4509" class="Symbol">(</a><a id="4510" href="UTxO.HoareLogic.html#4113" class="Field Operator">begin</a> <a id="4516" href="UTxO.HoareLogic.html#4486" class="Bound">PlR</a><a id="4519" class="Symbol">)</a>

  <a id="4524" class="Comment">-- step syntax</a>
  <a id="HoareReasoning._~⟨_∶-_⟩_"></a><a id="4541" href="UTxO.HoareLogic.html#4541" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="4551" class="Symbol">:</a> <a id="4553" class="Symbol">∀</a> <a id="4555" href="UTxO.HoareLogic.html#4555" class="Bound">P′</a> <a id="4558" class="Symbol">(</a><a id="4559" href="UTxO.HoareLogic.html#4559" class="Bound">t</a> <a id="4561" class="Symbol">:</a> <a id="4563" href="UTxO.UTxO.html#1526" class="Record">Tx</a><a id="4565" class="Symbol">)</a> <a id="4567" class="Symbol">→</a> <a id="4569" href="UTxO.HoareLogic.html#4019" class="Record Operator">ℝ⟨</a> <a id="4572" href="UTxO.HoareLogic.html#4555" class="Bound">P′</a> <a id="4575" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a> <a id="4577" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="4579" href="UTxO.HoareLogic.html#4559" class="Bound">t</a> <a id="4581" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="4583" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟨</a> <a id="4585" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="4587" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a> <a id="4589" class="Symbol">→</a> <a id="4591" href="UTxO.HoareLogic.html#4019" class="Record Operator">ℝ⟨</a> <a id="4594" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="4596" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a> <a id="4598" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="4600" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟨</a> <a id="4602" href="UTxO.HoareLogic.html#962" class="Generalizable">R</a> <a id="4604" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a> <a id="4606" class="Symbol">→</a> <a id="4608" href="UTxO.HoareLogic.html#4019" class="Record Operator">ℝ⟨</a> <a id="4611" href="UTxO.HoareLogic.html#4555" class="Bound">P′</a> <a id="4614" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a> <a id="4616" href="UTxO.HoareLogic.html#4559" class="Bound">t</a> <a id="4618" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4620" href="UTxO.Ledger.html#1210" class="Generalizable">l</a> <a id="4622" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟨</a> <a id="4624" href="UTxO.HoareLogic.html#962" class="Generalizable">R</a> <a id="4626" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a>
  <a id="4630" href="UTxO.HoareLogic.html#4630" class="Bound">P′</a> <a id="4633" href="UTxO.HoareLogic.html#4541" class="Function Operator">~⟨</a> <a id="4636" href="UTxO.HoareLogic.html#4636" class="Bound">t</a> <a id="4638" href="UTxO.HoareLogic.html#4541" class="Function Operator">∶-</a> <a id="4641" href="UTxO.HoareLogic.html#4641" class="Bound">H</a> <a id="4643" href="UTxO.HoareLogic.html#4541" class="Function Operator">⟩</a> <a id="4645" href="UTxO.HoareLogic.html#4645" class="Bound">PlR</a> <a id="4649" class="Symbol">=</a> <a id="4651" href="UTxO.HoareLogic.html#4630" class="Bound">P′</a> <a id="4654" href="UTxO.HoareLogic.html#4284" class="Function Operator">~⟪</a> <a id="4657" href="UTxO.HoareLogic.html#2887" class="Function">axiom⇒denot</a> <a id="4669" class="Symbol">(</a><a id="4670" href="UTxO.HoareLogic.html#4113" class="Field Operator">begin</a> <a id="4676" href="UTxO.HoareLogic.html#4641" class="Bound">H</a><a id="4677" class="Symbol">)</a> <a id="4679" href="UTxO.HoareLogic.html#4284" class="Function Operator">⟩</a> <a id="4681" class="Symbol">(</a><a id="4682" href="UTxO.HoareLogic.html#4098" class="InductiveConstructor Operator">mkℝ</a> <a id="4686" href="UTxO.HoareLogic.html#2139" class="InductiveConstructor">step</a> <a id="4691" class="Symbol">{</a><a id="4692" class="Argument">t</a> <a id="4694" class="Symbol">=</a> <a id="4696" href="UTxO.HoareLogic.html#4636" class="Bound">t</a><a id="4697" class="Symbol">}</a> <a id="4699" class="Symbol">(</a><a id="4700" href="UTxO.HoareLogic.html#4113" class="Field Operator">begin</a> <a id="4706" href="UTxO.HoareLogic.html#4645" class="Bound">PlR</a><a id="4709" class="Symbol">))</a>

  <a id="4715" class="Comment">-- step′ syntax</a>
  <a id="HoareReasoning._~⟨_∶-_⟩++_"></a><a id="4733" href="UTxO.HoareLogic.html#4733" class="Function Operator">_~⟨_∶-_⟩++_</a> <a id="4745" class="Symbol">:</a> <a id="4747" class="Symbol">∀</a> <a id="4749" href="UTxO.HoareLogic.html#4749" class="Bound">P′</a> <a id="4752" class="Symbol">(</a><a id="4753" href="UTxO.HoareLogic.html#4753" class="Bound">l</a> <a id="4755" class="Symbol">:</a> <a id="4757" href="UTxO.UTxO.html#1818" class="Function">L</a><a id="4758" class="Symbol">)</a> <a id="4760" class="Symbol">→</a> <a id="4762" href="UTxO.HoareLogic.html#4019" class="Record Operator">ℝ⟨</a> <a id="4765" href="UTxO.HoareLogic.html#4749" class="Bound">P′</a> <a id="4768" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a> <a id="4770" href="UTxO.HoareLogic.html#4753" class="Bound">l</a> <a id="4772" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟨</a> <a id="4774" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="4776" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a> <a id="4778" class="Symbol">→</a> <a id="4780" href="UTxO.HoareLogic.html#4019" class="Record Operator">ℝ⟨</a> <a id="4783" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="4785" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a> <a id="4787" href="UTxO.Ledger.html#1212" class="Generalizable">l′</a> <a id="4790" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟨</a> <a id="4792" href="UTxO.HoareLogic.html#962" class="Generalizable">R</a> <a id="4794" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a> <a id="4796" class="Symbol">→</a> <a id="4798" href="UTxO.HoareLogic.html#4019" class="Record Operator">ℝ⟨</a> <a id="4801" href="UTxO.HoareLogic.html#4749" class="Bound">P′</a> <a id="4804" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a> <a id="4806" href="UTxO.HoareLogic.html#4753" class="Bound">l</a> <a id="4808" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="4811" href="UTxO.Ledger.html#1212" class="Generalizable">l′</a> <a id="4814" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟨</a> <a id="4816" href="UTxO.HoareLogic.html#962" class="Generalizable">R</a> <a id="4818" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a>
  <a id="4822" href="UTxO.HoareLogic.html#4822" class="Bound">P′</a> <a id="4825" href="UTxO.HoareLogic.html#4733" class="Function Operator">~⟨</a> <a id="4828" href="UTxO.HoareLogic.html#4828" class="Bound">l</a> <a id="4830" href="UTxO.HoareLogic.html#4733" class="Function Operator">∶-</a> <a id="4833" href="UTxO.HoareLogic.html#4833" class="Bound">H</a> <a id="4835" href="UTxO.HoareLogic.html#4733" class="Function Operator">⟩++</a> <a id="4839" href="UTxO.HoareLogic.html#4839" class="Bound">PlR</a> <a id="4843" class="Symbol">=</a> <a id="4845" href="UTxO.HoareLogic.html#4098" class="InductiveConstructor Operator">mkℝ</a> <a id="4849" href="UTxO.HoareLogic.html#3473" class="Function">step′</a> <a id="4855" class="Symbol">{</a><a id="4856" class="Argument">l</a> <a id="4858" class="Symbol">=</a> <a id="4860" href="UTxO.HoareLogic.html#4828" class="Bound">l</a><a id="4861" class="Symbol">}</a> <a id="4863" class="Symbol">(</a><a id="4864" href="UTxO.HoareLogic.html#4113" class="Field Operator">begin</a> <a id="4870" href="UTxO.HoareLogic.html#4833" class="Bound">H</a><a id="4871" class="Symbol">)</a> <a id="4873" class="Symbol">(</a><a id="4874" href="UTxO.HoareLogic.html#4113" class="Field Operator">begin</a> <a id="4880" href="UTxO.HoareLogic.html#4839" class="Bound">PlR</a><a id="4883" class="Symbol">)</a>

  <a id="HoareReasoning._∎"></a><a id="4888" href="UTxO.HoareLogic.html#4888" class="Function Operator">_∎</a> <a id="4891" class="Symbol">:</a> <a id="4893" class="Symbol">∀</a> <a id="4895" href="UTxO.HoareLogic.html#4895" class="Bound">P</a> <a id="4897" class="Symbol">→</a> <a id="4899" href="UTxO.HoareLogic.html#4019" class="Record Operator">ℝ⟨</a> <a id="4902" href="UTxO.HoareLogic.html#4895" class="Bound">P</a> <a id="4904" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a> <a id="4906" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="4909" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟨</a> <a id="4911" href="UTxO.HoareLogic.html#4895" class="Bound">P</a> <a id="4913" href="UTxO.HoareLogic.html#4019" class="Record Operator">⟩</a>
  <a id="4917" href="UTxO.HoareLogic.html#4917" class="Bound">p</a> <a id="4919" href="UTxO.HoareLogic.html#4888" class="Function Operator">∎</a> <a id="4921" class="Symbol">=</a> <a id="4923" href="UTxO.HoareLogic.html#4098" class="InductiveConstructor Operator">mkℝ</a> <a id="4927" href="UTxO.HoareLogic.html#2091" class="InductiveConstructor">base</a> <a id="4932" class="Symbol">{</a><a id="4933" class="Argument">P</a> <a id="4935" class="Symbol">=</a> <a id="4937" href="UTxO.HoareLogic.html#4917" class="Bound">p</a><a id="4938" class="Symbol">}</a>

<a id="4941" class="Comment">-- ** Lemmas about separating conjunction.</a>

<a id="4985" class="Keyword">postulate</a>
  <a id="4997" class="Comment">-- commutativity</a>
  <a id="∗↔"></a><a id="5016" href="UTxO.HoareLogic.html#5016" class="Postulate">∗↔</a> <a id="5019" class="Symbol">:</a> <a id="5021" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="5023" href="UTxO.HoareLogic.html#705" class="InductiveConstructor Operator">`∗</a> <a id="5026" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a> <a id="5028" href="UTxO.HoareLogic.html#1847" class="Function Operator">`⊢</a> <a id="5031" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a> <a id="5033" href="UTxO.HoareLogic.html#705" class="InductiveConstructor Operator">`∗</a> <a id="5036" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a>
  <a id="5040" class="Comment">-- associativity</a>
  <a id="∗↝"></a><a id="5059" href="UTxO.HoareLogic.html#5059" class="Postulate">∗↝</a> <a id="5062" class="Symbol">:</a> <a id="5064" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="5066" href="UTxO.HoareLogic.html#705" class="InductiveConstructor Operator">`∗</a> <a id="5069" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a> <a id="5071" href="UTxO.HoareLogic.html#705" class="InductiveConstructor Operator">`∗</a> <a id="5074" href="UTxO.HoareLogic.html#962" class="Generalizable">R</a> <a id="5076" href="UTxO.HoareLogic.html#1847" class="Function Operator">`⊢</a> <a id="5079" class="Symbol">(</a><a id="5080" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="5082" href="UTxO.HoareLogic.html#705" class="InductiveConstructor Operator">`∗</a> <a id="5085" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a><a id="5086" class="Symbol">)</a> <a id="5088" href="UTxO.HoareLogic.html#705" class="InductiveConstructor Operator">`∗</a> <a id="5091" href="UTxO.HoareLogic.html#962" class="Generalizable">R</a>
  <a id="↜∗"></a><a id="5095" href="UTxO.HoareLogic.html#5095" class="Postulate">↜∗</a> <a id="5098" class="Symbol">:</a> <a id="5100" class="Symbol">(</a><a id="5101" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="5103" href="UTxO.HoareLogic.html#705" class="InductiveConstructor Operator">`∗</a> <a id="5106" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a><a id="5107" class="Symbol">)</a> <a id="5109" href="UTxO.HoareLogic.html#705" class="InductiveConstructor Operator">`∗</a> <a id="5112" href="UTxO.HoareLogic.html#962" class="Generalizable">R</a> <a id="5114" href="UTxO.HoareLogic.html#1847" class="Function Operator">`⊢</a> <a id="5117" href="UTxO.HoareLogic.html#940" class="Generalizable">P</a> <a id="5119" href="UTxO.HoareLogic.html#705" class="InductiveConstructor Operator">`∗</a> <a id="5122" href="UTxO.HoareLogic.html#951" class="Generalizable">Q</a> <a id="5124" href="UTxO.HoareLogic.html#705" class="InductiveConstructor Operator">`∗</a> <a id="5127" href="UTxO.HoareLogic.html#962" class="Generalizable">R</a>
</pre></body></html>