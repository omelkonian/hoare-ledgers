<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>SL</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">---------------------------</a>
<a id="29" class="Comment">-- ** Separation logic (SL)</a>

<a id="58" class="Keyword">open</a> <a id="63" class="Keyword">import</a> <a id="70" href="Prelude.Init.html" class="Module">Prelude.Init</a>
<a id="83" class="Keyword">open</a> <a id="88" class="Keyword">import</a> <a id="95" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="109" class="Keyword">open</a> <a id="114" class="Keyword">import</a> <a id="121" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="139" class="Keyword">open</a> <a id="144" class="Keyword">import</a> <a id="151" href="Prelude.Maps.html" class="Module">Prelude.Maps</a>

<a id="165" class="Keyword">module</a> <a id="172" href="SL.html" class="Module">SL</a> <a id="175" class="Symbol">(</a><a id="176" href="SL.html#176" class="Bound">Part</a> <a id="181" class="Symbol">:</a> <a id="183" class="PrimitiveType">Set</a><a id="186" class="Symbol">)</a> <a id="188" class="Symbol">⦃</a> <a id="190" href="SL.html#190" class="Bound">_</a> <a id="192" class="Symbol">:</a> <a id="194" href="Prelude.DecEq.html#553" class="Record">DecEq</a> <a id="200" href="SL.html#176" class="Bound">Part</a> <a id="205" class="Symbol">⦄</a> <a id="207" class="Keyword">where</a>

<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Ledger.html" class="Module">Ledger</a>     <a id="237" href="SL.html#176" class="Bound">Part</a> <a id="242" class="Symbol">⦃</a> <a id="244" href="Function.Base.html#4519" class="Function">it</a> <a id="247" class="Symbol">⦄</a>
<a id="249" class="Keyword">open</a> <a id="254" class="Keyword">import</a> <a id="261" href="HoareLogic.html" class="Module">HoareLogic</a> <a id="272" href="SL.html#176" class="Bound">Part</a> <a id="277" class="Symbol">⦃</a> <a id="279" href="Function.Base.html#4519" class="Function">it</a> <a id="282" class="Symbol">⦄</a>

<a id="285" class="Comment">-- Which participants does a ledger modify?</a>
<a id="mod"></a><a id="329" href="SL.html#329" class="Function">mod</a> <a id="333" class="Symbol">:</a> <a id="335" href="SL.html#176" class="Bound">Part</a> <a id="340" class="Symbol">→</a> <a id="342" href="Ledger.html#703" class="Function">L</a> <a id="344" class="Symbol">→</a> <a id="346" class="PrimitiveType">Set</a>
<a id="350" href="SL.html#329" class="Function">mod</a> <a id="354" href="SL.html#354" class="Bound">A</a> <a id="356" class="Symbol">=</a> <a id="358" href="Data.List.Relation.Unary.Any.html#1111" class="Datatype">Any</a> <a id="362" class="Symbol">λ</a> <a id="364" href="SL.html#364" class="Bound">t</a> <a id="366" class="Symbol">→</a> <a id="368" href="SL.html#354" class="Bound">A</a> <a id="370" href="Data.List.Membership.Setoid.html#882" class="Function Operator">∈</a> <a id="372" class="Symbol">(</a><a id="373" href="Ledger.html#595" class="Field">sender</a> <a id="380" href="SL.html#364" class="Bound">t</a> <a id="382" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="384" href="Ledger.html#632" class="Field">receiver</a> <a id="393" href="SL.html#364" class="Bound">t</a> <a id="395" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="397" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="399" class="Symbol">)</a>

<a id="402" class="Comment">-- Which participants does an assertion refer to?</a>
<a id="addr"></a><a id="452" href="SL.html#452" class="Function">addr</a> <a id="457" class="Symbol">:</a> <a id="459" href="SL.html#176" class="Bound">Part</a> <a id="464" class="Symbol">→</a> <a id="466" href="HoareLogic.html#519" class="Datatype">Assertion</a> <a id="476" class="Symbol">→</a> <a id="478" class="PrimitiveType">Set</a>
<a id="482" href="SL.html#452" class="Function">addr</a> <a id="487" href="SL.html#487" class="Bound">A</a> <a id="489" href="HoareLogic.html#544" class="InductiveConstructor">`emp</a>     <a id="498" class="Symbol">=</a> <a id="500" href="Data.Empty.html#526" class="Datatype">⊥</a>
<a id="502" href="SL.html#452" class="Function">addr</a> <a id="507" href="SL.html#507" class="Bound">A</a> <a id="509" class="Symbol">(</a><a id="510" href="SL.html#510" class="Bound">B</a> <a id="512" href="HoareLogic.html#620" class="InductiveConstructor Operator">`↦</a> <a id="515" class="Symbol">_)</a> <a id="518" class="Symbol">=</a> <a id="520" href="SL.html#507" class="Bound">A</a> <a id="522" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="524" href="SL.html#510" class="Bound">B</a>
<a id="526" href="SL.html#452" class="Function">addr</a> <a id="531" href="SL.html#531" class="Bound">A</a> <a id="533" class="Symbol">(</a><a id="534" href="SL.html#534" class="Bound">P</a> <a id="536" href="HoareLogic.html#710" class="InductiveConstructor Operator">`∗</a> <a id="539" href="SL.html#539" class="Bound">Q</a><a id="540" class="Symbol">)</a> <a id="542" class="Symbol">=</a> <a id="544" href="SL.html#452" class="Function">addr</a> <a id="549" href="SL.html#531" class="Bound">A</a> <a id="551" href="SL.html#534" class="Bound">P</a> <a id="553" href="Data.Sum.Base.html#728" class="Datatype Operator">⊎</a> <a id="555" href="SL.html#452" class="Function">addr</a> <a id="560" href="SL.html#531" class="Bound">A</a> <a id="562" href="SL.html#539" class="Bound">Q</a>
<a id="564" href="SL.html#452" class="Function">addr</a> <a id="569" href="SL.html#569" class="Bound">A</a> <a id="571" class="Symbol">(</a><a id="572" href="SL.html#572" class="Bound">P</a> <a id="574" href="HoareLogic.html#781" class="InductiveConstructor Operator">`∘⟦</a> <a id="578" class="Symbol">_</a> <a id="580" href="HoareLogic.html#781" class="InductiveConstructor Operator">⟧</a><a id="581" class="Symbol">)</a> <a id="583" class="Symbol">=</a> <a id="585" href="SL.html#452" class="Function">addr</a> <a id="590" href="SL.html#569" class="Bound">A</a> <a id="592" href="SL.html#572" class="Bound">P</a>

<a id="595" class="Comment">-- Define disjointness between ledgers/states/formulas as disjointness of the participant set they refer to.</a>
<a id="_ˡ♯_"></a><a id="704" href="SL.html#704" class="Function Operator">_ˡ♯_</a> <a id="709" class="Symbol">:</a> <a id="711" href="Ledger.html#703" class="Function">L</a> <a id="713" class="Symbol">→</a> <a id="715" href="Ledger.html#438" class="Function">S</a> <a id="717" class="Symbol">→</a> <a id="719" class="PrimitiveType">Set</a>
<a id="723" href="SL.html#723" class="Bound">l</a> <a id="725" href="SL.html#704" class="Function Operator">ˡ♯</a> <a id="728" href="SL.html#728" class="Bound">s</a> <a id="730" class="Symbol">=</a> <a id="732" class="Symbol">∀</a> <a id="734" href="SL.html#734" class="Bound">A</a> <a id="736" class="Symbol">→</a> <a id="738" href="SL.html#329" class="Function">mod</a> <a id="742" href="SL.html#734" class="Bound">A</a> <a id="744" href="SL.html#723" class="Bound">l</a> <a id="746" class="Symbol">→</a> <a id="748" href="SL.html#734" class="Bound">A</a> <a id="750" href="Prelude.Maps.Interface.html#573" class="Function Operator">∉ᵈ</a> <a id="753" href="SL.html#728" class="Bound">s</a>

<a id="_♯ˡ_"></a><a id="756" href="SL.html#756" class="Function Operator">_♯ˡ_</a> <a id="761" class="Symbol">:</a> <a id="763" href="Ledger.html#438" class="Function">S</a> <a id="765" class="Symbol">→</a> <a id="767" href="Ledger.html#703" class="Function">L</a> <a id="769" class="Symbol">→</a> <a id="771" class="PrimitiveType">Set</a>
<a id="775" href="SL.html#775" class="Bound">s</a> <a id="777" href="SL.html#756" class="Function Operator">♯ˡ</a> <a id="780" href="SL.html#780" class="Bound">l</a> <a id="782" class="Symbol">=</a> <a id="784" class="Symbol">∀</a> <a id="786" href="SL.html#786" class="Bound">A</a> <a id="788" class="Symbol">→</a> <a id="790" href="SL.html#786" class="Bound">A</a> <a id="792" href="Prelude.Maps.Interface.html#383" class="Function Operator">∈ᵈ</a> <a id="795" href="SL.html#775" class="Bound">s</a> <a id="797" class="Symbol">→</a> <a id="799" href="Relation.Nullary.html#653" class="Function Operator">¬</a> <a id="801" href="SL.html#329" class="Function">mod</a> <a id="805" href="SL.html#786" class="Bound">A</a> <a id="807" href="SL.html#780" class="Bound">l</a>

<a id="_♯♯_"></a><a id="810" href="SL.html#810" class="Function Operator">_♯♯_</a> <a id="815" class="Symbol">:</a> <a id="817" href="Ledger.html#703" class="Function">L</a> <a id="819" class="Symbol">→</a> <a id="821" href="HoareLogic.html#519" class="Datatype">Assertion</a> <a id="831" class="Symbol">→</a> <a id="833" class="PrimitiveType">Set</a>
<a id="837" href="SL.html#837" class="Bound">l</a> <a id="839" href="SL.html#810" class="Function Operator">♯♯</a> <a id="842" href="SL.html#842" class="Bound">P</a> <a id="844" class="Symbol">=</a> <a id="846" class="Symbol">∀</a> <a id="848" href="SL.html#848" class="Bound">A</a> <a id="850" class="Symbol">→</a> <a id="852" href="SL.html#329" class="Function">mod</a> <a id="856" href="SL.html#848" class="Bound">A</a> <a id="858" href="SL.html#837" class="Bound">l</a> <a id="860" class="Symbol">→</a> <a id="862" href="Relation.Nullary.html#653" class="Function Operator">¬</a> <a id="864" href="SL.html#452" class="Function">addr</a> <a id="869" href="SL.html#848" class="Bound">A</a> <a id="871" href="SL.html#842" class="Bound">P</a>

<a id="_♯♯′_"></a><a id="874" href="SL.html#874" class="Function Operator">_♯♯′_</a> <a id="880" class="Symbol">:</a> <a id="882" href="Ledger.html#703" class="Function">L</a> <a id="884" class="Symbol">→</a> <a id="886" href="Ledger.html#438" class="Function">S</a> <a id="888" class="Symbol">→</a> <a id="890" class="PrimitiveType">Set</a>
<a id="894" href="SL.html#894" class="Bound">l</a> <a id="896" href="SL.html#874" class="Function Operator">♯♯′</a> <a id="900" href="SL.html#900" class="Bound">s</a> <a id="902" class="Symbol">=</a> <a id="904" class="Symbol">∀</a> <a id="906" href="SL.html#906" class="Bound">A</a> <a id="908" class="Symbol">→</a> <a id="910" href="SL.html#329" class="Function">mod</a> <a id="914" href="SL.html#906" class="Bound">A</a> <a id="916" href="SL.html#894" class="Bound">l</a> <a id="918" class="Symbol">→</a> <a id="920" href="SL.html#906" class="Bound">A</a> <a id="922" href="Prelude.Maps.Interface.html#573" class="Function Operator">∉ᵈ</a> <a id="925" href="SL.html#900" class="Bound">s</a>

<a id="928" class="Comment">-- ** Utility lemmas about separation.</a>

<a id="∈ᵈ-∪"></a><a id="968" href="SL.html#968" class="Function">∈ᵈ-∪</a> <a id="973" class="Symbol">:</a> <a id="975" href="Prelude.Maps.Interface.html#1103" class="Function Operator">⟨</a> <a id="977" href="Ledger.html#735" class="Generalizable">s₁</a> <a id="980" href="Prelude.Maps.Interface.html#1103" class="Function Operator">⊎</a> <a id="982" href="Ledger.html#738" class="Generalizable">s₂</a> <a id="985" href="Prelude.Maps.Interface.html#1103" class="Function Operator">⟩≡</a> <a id="988" href="Ledger.html#727" class="Generalizable">s</a> <a id="990" class="Symbol">→</a> <a id="992" href="Ledger.html#324" class="Generalizable">A</a> <a id="994" href="Prelude.Maps.Interface.html#383" class="Function Operator">∈ᵈ</a> <a id="997" href="Ledger.html#727" class="Generalizable">s</a> <a id="999" class="Symbol">→</a> <a id="1001" href="Ledger.html#324" class="Generalizable">A</a> <a id="1003" href="Prelude.Maps.Interface.html#383" class="Function Operator">∈ᵈ</a> <a id="1006" href="Ledger.html#735" class="Generalizable">s₁</a> <a id="1009" href="Data.Sum.Base.html#728" class="Datatype Operator">⊎</a> <a id="1011" href="Ledger.html#324" class="Generalizable">A</a> <a id="1013" href="Prelude.Maps.Interface.html#383" class="Function Operator">∈ᵈ</a> <a id="1016" href="Ledger.html#738" class="Generalizable">s₂</a>
<a id="1019" href="SL.html#968" class="Function">∈ᵈ-∪</a> <a id="1024" class="Symbol">{</a><a id="1025" href="SL.html#1025" class="Bound">s₁</a><a id="1027" class="Symbol">}{</a><a id="1029" href="SL.html#1029" class="Bound">s₂</a><a id="1031" class="Symbol">}{</a><a id="1033" href="SL.html#1033" class="Bound">s</a><a id="1034" class="Symbol">}{</a><a id="1036" href="SL.html#1036" class="Bound">A</a><a id="1037" class="Symbol">}</a> <a id="1039" class="Symbol">(</a><a id="1040" href="SL.html#1040" class="Bound">s₁♯s₂</a> <a id="1046" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1048" href="SL.html#1048" class="Bound">p</a><a id="1049" class="Symbol">)</a> <a id="1051" href="SL.html#1051" class="Bound">A∈</a> <a id="1054" class="Symbol">=</a> <a id="1056" href="Prelude.Maps.Interface.html#1923" class="Function">∈ᵈ-∪⁻</a> <a id="1062" class="Symbol">_</a> <a id="1064" class="Symbol">_</a> <a id="1066" class="Symbol">_</a> <a id="1068" class="Symbol">(</a><a id="1069" href="Prelude.Maps.Interface.html#1825" class="Function">∈ᵈ-cong</a> <a id="1077" class="Symbol">(</a><a id="1078" href="Prelude.Maps.Interface.html#730" class="Function">≈-sym</a> <a id="1084" href="SL.html#1048" class="Bound">p</a><a id="1085" class="Symbol">)</a> <a id="1087" href="SL.html#1051" class="Bound">A∈</a><a id="1089" class="Symbol">)</a>

<a id="∉ᵈ-∪"></a><a id="1092" href="SL.html#1092" class="Function">∉ᵈ-∪</a> <a id="1097" class="Symbol">:</a> <a id="1099" href="Prelude.Maps.Interface.html#1103" class="Function Operator">⟨</a> <a id="1101" href="Ledger.html#735" class="Generalizable">s₁</a> <a id="1104" href="Prelude.Maps.Interface.html#1103" class="Function Operator">⊎</a> <a id="1106" href="Ledger.html#738" class="Generalizable">s₂</a> <a id="1109" href="Prelude.Maps.Interface.html#1103" class="Function Operator">⟩≡</a> <a id="1112" href="Ledger.html#727" class="Generalizable">s</a> <a id="1114" class="Symbol">→</a> <a id="1116" href="Ledger.html#324" class="Generalizable">A</a> <a id="1118" href="Prelude.Maps.Interface.html#573" class="Function Operator">∉ᵈ</a> <a id="1121" href="Ledger.html#727" class="Generalizable">s</a> <a id="1123" class="Symbol">→</a> <a id="1125" href="Ledger.html#324" class="Generalizable">A</a> <a id="1127" href="Prelude.Maps.Interface.html#573" class="Function Operator">∉ᵈ</a> <a id="1130" href="Ledger.html#735" class="Generalizable">s₁</a> <a id="1133" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1135" href="Ledger.html#324" class="Generalizable">A</a> <a id="1137" href="Prelude.Maps.Interface.html#573" class="Function Operator">∉ᵈ</a> <a id="1140" href="Ledger.html#738" class="Generalizable">s₂</a>
<a id="1143" href="SL.html#1092" class="Function">∉ᵈ-∪</a> <a id="1148" class="Symbol">{</a><a id="1149" href="SL.html#1149" class="Bound">s₁</a><a id="1151" class="Symbol">}{</a><a id="1153" href="SL.html#1153" class="Bound">s₂</a><a id="1155" class="Symbol">}{</a><a id="1157" href="SL.html#1157" class="Bound">s</a><a id="1158" class="Symbol">}{</a><a id="1160" href="SL.html#1160" class="Bound">A</a><a id="1161" class="Symbol">}</a> <a id="1163" class="Symbol">(</a><a id="1164" href="SL.html#1164" class="Bound">s₁♯s₂</a> <a id="1170" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1172" href="SL.html#1172" class="Bound">p</a><a id="1173" class="Symbol">)</a> <a id="1175" href="SL.html#1175" class="Bound">A∉</a> <a id="1178" class="Symbol">=</a> <a id="1180" href="SL.html#1175" class="Bound">A∉</a> <a id="1183" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="1185" href="Prelude.Maps.Interface.html#1825" class="Function">∈ᵈ-cong</a> <a id="1193" href="SL.html#1172" class="Bound">p</a> <a id="1195" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="1197" href="Prelude.Maps.Interface.html#3599" class="Function">∈ᵈ-∪⁺ˡ</a> <a id="1204" class="Symbol">_</a> <a id="1206" class="Symbol">_</a> <a id="1208" class="Symbol">_</a> <a id="1210" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1212" href="SL.html#1175" class="Bound">A∉</a> <a id="1215" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="1217" href="Prelude.Maps.Interface.html#1825" class="Function">∈ᵈ-cong</a> <a id="1225" href="SL.html#1172" class="Bound">p</a> <a id="1227" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="1229" href="Prelude.Maps.Interface.html#3683" class="Function">∈ᵈ-∪⁺ʳ</a> <a id="1236" class="Symbol">_</a> <a id="1238" class="Symbol">_</a> <a id="1240" class="Symbol">_</a>

<a id="∈⇒addr"></a><a id="1243" href="SL.html#1243" class="Function">∈⇒addr</a> <a id="1250" class="Symbol">:</a> <a id="1252" href="Ledger.html#324" class="Generalizable">A</a> <a id="1254" href="Prelude.Maps.Interface.html#383" class="Function Operator">∈ᵈ</a> <a id="1257" href="Ledger.html#727" class="Generalizable">s</a> <a id="1259" class="Symbol">→</a> <a id="1261" href="HoareLogic.html#948" class="Generalizable">P</a> <a id="1263" href="HoareLogic.html#1566" class="Function Operator">∙</a> <a id="1265" href="Ledger.html#727" class="Generalizable">s</a> <a id="1267" class="Symbol">→</a> <a id="1269" href="SL.html#452" class="Function">addr</a> <a id="1274" href="Ledger.html#324" class="Generalizable">A</a> <a id="1276" href="HoareLogic.html#948" class="Generalizable">P</a>
<a id="1278" href="SL.html#1243" class="Function">∈⇒addr</a> <a id="1285" class="Symbol">{</a><a id="1286" href="SL.html#1286" class="Bound">A</a><a id="1287" class="Symbol">}{</a><a id="1289" href="SL.html#1289" class="Bound">s</a><a id="1290" class="Symbol">}{</a><a id="1292" class="Argument">P</a> <a id="1294" class="Symbol">=</a> <a id="1296" href="HoareLogic.html#544" class="InductiveConstructor">`emp</a><a id="1300" class="Symbol">}</a> <a id="1302" href="SL.html#1302" class="Bound">A∈</a> <a id="1305" href="SL.html#1305" class="Bound">Ps</a> <a id="1308" class="Symbol">=</a> <a id="1310" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="1317" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="1319" href="SL.html#1305" class="Bound">Ps</a> <a id="1322" href="SL.html#1286" class="Bound">A</a> <a id="1324" href="SL.html#1302" class="Bound">A∈</a>
<a id="1327" href="SL.html#1243" class="Function">∈⇒addr</a> <a id="1334" class="Symbol">{</a><a id="1335" href="SL.html#1335" class="Bound">A</a><a id="1336" class="Symbol">}{</a><a id="1338" href="SL.html#1338" class="Bound">s</a><a id="1339" class="Symbol">}{</a><a id="1341" class="Argument">P</a> <a id="1343" class="Symbol">=</a> <a id="1345" href="SL.html#1345" class="Bound">B</a> <a id="1347" href="HoareLogic.html#620" class="InductiveConstructor Operator">`↦</a> <a id="1350" href="SL.html#1350" class="Bound">v</a><a id="1351" class="Symbol">}</a> <a id="1353" href="SL.html#1353" class="Bound">A∈</a> <a id="1356" href="SL.html#1356" class="Bound">Ps</a> <a id="1359" class="Keyword">with</a> <a id="1364" href="SL.html#1335" class="Bound">A</a> <a id="1366" href="Prelude.DecEq.html#601" class="Field Operator">≟</a> <a id="1368" href="SL.html#1345" class="Bound">B</a>
<a id="1370" class="Symbol">...</a> <a id="1374" class="Symbol">|</a> <a id="1376" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="1380" href="SL.html#1380" class="Bound">A≡B</a> <a id="1384" class="Symbol">=</a> <a id="1386" href="SL.html#1380" class="Bound">A≡B</a>
<a id="1390" class="Symbol">...</a> <a id="1394" class="Symbol">|</a> <a id="1396" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a>  <a id="1400" href="SL.html#1400" class="Bound">A≢B</a> <a id="1404" class="Symbol">=</a> <a id="1406" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="1413" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="1415" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="1421" class="Bound">Ps</a> <a id="1424" class="Bound">A</a> <a id="1426" href="SL.html#1400" class="Bound">A≢B</a> <a id="1430" class="Bound">A∈</a>
<a id="1433" href="SL.html#1243" class="Function">∈⇒addr</a> <a id="1440" class="Symbol">{</a><a id="1441" href="SL.html#1441" class="Bound">A</a><a id="1442" class="Symbol">}{</a><a id="1444" href="SL.html#1444" class="Bound">s</a><a id="1445" class="Symbol">}{</a><a id="1447" class="Argument">P</a> <a id="1449" class="Symbol">=</a> <a id="1451" href="SL.html#1451" class="Bound">P</a> <a id="1453" href="HoareLogic.html#710" class="InductiveConstructor Operator">`∗</a> <a id="1456" href="SL.html#1456" class="Bound">Q</a><a id="1457" class="Symbol">}</a> <a id="1459" href="SL.html#1459" class="Bound">A∈</a> <a id="1462" class="Symbol">(</a><a id="1463" href="SL.html#1463" class="Bound">s₁</a> <a id="1466" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1468" href="SL.html#1468" class="Bound">s₂</a> <a id="1471" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1473" href="SL.html#1473" class="Bound">≡s</a> <a id="1476" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1478" href="SL.html#1478" class="Bound">Ps₁</a> <a id="1482" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1484" href="SL.html#1484" class="Bound">Qs₂</a><a id="1487" class="Symbol">)</a>
  <a id="1491" class="Keyword">with</a> <a id="1496" href="SL.html#968" class="Function">∈ᵈ-∪</a> <a id="1501" href="SL.html#1473" class="Bound">≡s</a> <a id="1504" href="SL.html#1459" class="Bound">A∈</a>
<a id="1507" class="Symbol">...</a> <a id="1511" class="Symbol">|</a> <a id="1513" href="Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="1518" href="SL.html#1518" class="Bound">A∈₁</a> <a id="1522" class="Symbol">=</a> <a id="1524" href="Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="1529" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="1531" href="SL.html#1243" class="Function">∈⇒addr</a> <a id="1538" class="Symbol">{</a><a id="1539" class="Argument">P</a> <a id="1541" class="Symbol">=</a> <a id="1543" class="Bound">P</a><a id="1544" class="Symbol">}</a> <a id="1546" href="SL.html#1518" class="Bound">A∈₁</a> <a id="1550" class="Bound">Ps₁</a>
<a id="1554" class="Symbol">...</a> <a id="1558" class="Symbol">|</a> <a id="1560" href="Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="1565" href="SL.html#1565" class="Bound">A∈₂</a> <a id="1569" class="Symbol">=</a> <a id="1571" href="Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="1576" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="1578" href="SL.html#1243" class="Function">∈⇒addr</a> <a id="1585" class="Symbol">{</a><a id="1586" class="Argument">P</a> <a id="1588" class="Symbol">=</a> <a id="1590" class="Bound">Q</a><a id="1591" class="Symbol">}</a> <a id="1593" href="SL.html#1565" class="Bound">A∈₂</a> <a id="1597" class="Bound">Qs₂</a>
<a id="1601" href="SL.html#1243" class="Function">∈⇒addr</a> <a id="1608" class="Symbol">{</a><a id="1609" href="SL.html#1609" class="Bound">A</a><a id="1610" class="Symbol">}{</a><a id="1612" href="SL.html#1612" class="Bound">s</a><a id="1613" class="Symbol">}{</a><a id="1615" class="Argument">P</a> <a id="1617" class="Symbol">=</a> <a id="1619" href="SL.html#1619" class="Bound">P</a> <a id="1621" href="HoareLogic.html#781" class="InductiveConstructor Operator">`∘⟦</a> <a id="1625" href="SL.html#1625" class="Bound">l</a> <a id="1627" href="HoareLogic.html#781" class="InductiveConstructor Operator">⟧</a><a id="1628" class="Symbol">}</a> <a id="1630" href="SL.html#1630" class="Bound">A∈</a> <a id="1633" href="SL.html#1633" class="Bound">Ps</a> <a id="1636" class="Symbol">=</a> <a id="1638" href="SL.html#1243" class="Function">∈⇒addr</a> <a id="1645" class="Symbol">{</a><a id="1646" class="Argument">P</a> <a id="1648" class="Symbol">=</a> <a id="1650" href="SL.html#1619" class="Bound">P</a><a id="1651" class="Symbol">}</a> <a id="1653" class="Symbol">(</a><a id="1654" href="Ledger.html#2613" class="Function">⟦⟧ₗ-mono</a> <a id="1663" class="Symbol">{</a><a id="1664" href="SL.html#1625" class="Bound">l</a><a id="1665" class="Symbol">}</a> <a id="1667" href="SL.html#1612" class="Bound">s</a> <a id="1669" href="SL.html#1609" class="Bound">A</a> <a id="1671" href="SL.html#1630" class="Bound">A∈</a><a id="1673" class="Symbol">)</a> <a id="1675" href="SL.html#1633" class="Bound">Ps</a>

<a id="∉⇒¬addr"></a><a id="1679" href="SL.html#1679" class="Function">∉⇒¬addr</a> <a id="1687" class="Symbol">:</a> <a id="1689" href="Ledger.html#324" class="Generalizable">A</a> <a id="1691" href="Prelude.Maps.Interface.html#573" class="Function Operator">∉ᵈ</a> <a id="1694" href="Ledger.html#727" class="Generalizable">s</a> <a id="1696" class="Symbol">→</a> <a id="1698" href="HoareLogic.html#948" class="Generalizable">P</a> <a id="1700" href="HoareLogic.html#1566" class="Function Operator">∙</a> <a id="1702" href="Ledger.html#727" class="Generalizable">s</a> <a id="1704" class="Symbol">→</a> <a id="1706" href="Relation.Nullary.html#653" class="Function Operator">¬</a> <a id="1708" href="SL.html#452" class="Function">addr</a> <a id="1713" href="Ledger.html#324" class="Generalizable">A</a> <a id="1715" href="HoareLogic.html#948" class="Generalizable">P</a>
<a id="1717" href="SL.html#1679" class="Function">∉⇒¬addr</a> <a id="1725" class="Symbol">{</a><a id="1726" href="SL.html#1726" class="Bound">A</a><a id="1727" class="Symbol">}{</a><a id="1729" href="SL.html#1729" class="Bound">s</a><a id="1730" class="Symbol">}{</a><a id="1732" class="Argument">P</a> <a id="1734" class="Symbol">=</a> <a id="1736" href="HoareLogic.html#544" class="InductiveConstructor">`emp</a><a id="1740" class="Symbol">}</a> <a id="1742" href="SL.html#1742" class="Bound">A∉</a> <a id="1745" href="SL.html#1745" class="Bound">Ps</a> <a id="1748" class="Symbol">()</a>
<a id="1751" href="SL.html#1679" class="Function">∉⇒¬addr</a> <a id="1759" class="Symbol">{</a><a id="1760" href="SL.html#1760" class="Bound">A</a><a id="1761" class="Symbol">}{</a><a id="1763" href="SL.html#1763" class="Bound">s</a><a id="1764" class="Symbol">}{</a><a id="1766" class="Argument">P</a> <a id="1768" class="Symbol">=</a> <a id="1770" class="DottedPattern Symbol">.</a><a id="1771" href="SL.html#1760" class="DottedPattern Bound">A</a> <a id="1773" href="HoareLogic.html#620" class="InductiveConstructor Operator">`↦</a> <a id="1776" class="Symbol">_}</a> <a id="1779" href="SL.html#1779" class="Bound">A∉</a> <a id="1782" class="Symbol">(</a><a id="1783" href="SL.html#1783" class="Bound">Ps</a> <a id="1786" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1788" class="Symbol">_)</a> <a id="1791" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1796" class="Symbol">=</a> <a id="1798" href="SL.html#1779" class="Bound">A∉</a> <a id="1801" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="1803" href="Prelude.Maps.Interface.html#1341" class="Function">⁉⇒∈ᵈ</a> <a id="1808" class="Symbol">(</a><a id="1809" href="Relation.Binary.PropositionalEquality.Core.html#1076" class="Function">subst</a> <a id="1815" href="Data.Maybe.html#801" class="Function">Is-just</a> <a id="1823" class="Symbol">(</a><a id="1824" href="Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="1828" href="SL.html#1783" class="Bound">Ps</a><a id="1830" class="Symbol">)</a> <a id="1832" href="Prelude.Decidable.html#184" class="Function">auto</a><a id="1836" class="Symbol">)</a>
<a id="1838" href="SL.html#1679" class="Function">∉⇒¬addr</a> <a id="1846" class="Symbol">{</a><a id="1847" href="SL.html#1847" class="Bound">A</a><a id="1848" class="Symbol">}{</a><a id="1850" href="SL.html#1850" class="Bound">s</a><a id="1851" class="Symbol">}{</a><a id="1853" class="Argument">P</a> <a id="1855" class="Symbol">=</a> <a id="1857" href="SL.html#1857" class="Bound">P</a> <a id="1859" href="HoareLogic.html#710" class="InductiveConstructor Operator">`∗</a> <a id="1862" href="SL.html#1862" class="Bound">Q</a><a id="1863" class="Symbol">}</a> <a id="1865" href="SL.html#1865" class="Bound">A∉</a> <a id="1868" class="Symbol">(</a><a id="1869" href="SL.html#1869" class="Bound">s₁</a> <a id="1872" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1874" href="SL.html#1874" class="Bound">s₂</a> <a id="1877" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1879" href="SL.html#1879" class="Bound">≡s</a> <a id="1882" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1884" href="SL.html#1884" class="Bound">Ps₁</a> <a id="1888" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1890" href="SL.html#1890" class="Bound">Qs₂</a><a id="1893" class="Symbol">)</a> <a id="1895" href="SL.html#1895" class="Bound">A∈</a>
  <a id="1900" class="Keyword">with</a> <a id="1905" href="SL.html#1905" class="Bound">A∉ˡ</a> <a id="1909" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1911" href="SL.html#1911" class="Bound">A∉ʳ</a> ← <a id="1917" href="SL.html#1092" class="Function">∉ᵈ-∪</a> <a id="1922" href="SL.html#1879" class="Bound">≡s</a> <a id="1925" href="SL.html#1865" class="Bound">A∉</a>
  <a id="1930" class="Keyword">with</a> <a id="1935" href="SL.html#1895" class="Bound">A∈</a>
<a id="1938" class="Symbol">...</a> <a id="1942" class="Symbol">|</a> <a id="1944" href="Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="1949" href="SL.html#1949" class="Bound">A∈ˡ</a> <a id="1953" class="Symbol">=</a> <a id="1955" href="SL.html#1679" class="Function">∉⇒¬addr</a> <a id="1963" class="Symbol">{</a><a id="1964" class="Argument">P</a> <a id="1966" class="Symbol">=</a> <a id="1968" class="Bound">P</a><a id="1969" class="Symbol">}</a> <a id="1971" href="SL.html#1905" class="Bound">A∉ˡ</a> <a id="1975" class="Bound">Ps₁</a> <a id="1979" href="SL.html#1949" class="Bound">A∈ˡ</a>
<a id="1983" class="Symbol">...</a> <a id="1987" class="Symbol">|</a> <a id="1989" href="Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="1994" href="SL.html#1994" class="Bound">A∈ʳ</a> <a id="1998" class="Symbol">=</a> <a id="2000" href="SL.html#1679" class="Function">∉⇒¬addr</a> <a id="2008" class="Symbol">{</a><a id="2009" class="Argument">P</a> <a id="2011" class="Symbol">=</a> <a id="2013" class="Bound">Q</a><a id="2014" class="Symbol">}</a> <a id="2016" href="SL.html#1911" class="Bound">A∉ʳ</a> <a id="2020" class="Bound">Qs₂</a> <a id="2024" href="SL.html#1994" class="Bound">A∈ʳ</a>
<a id="2028" href="SL.html#1679" class="Function">∉⇒¬addr</a> <a id="2036" class="Symbol">{</a><a id="2037" href="SL.html#2037" class="Bound">A</a><a id="2038" class="Symbol">}{</a><a id="2040" href="SL.html#2040" class="Bound">s</a><a id="2041" class="Symbol">}{</a><a id="2043" class="Argument">P</a> <a id="2045" class="Symbol">=</a> <a id="2047" href="SL.html#2047" class="Bound">P</a> <a id="2049" href="HoareLogic.html#781" class="InductiveConstructor Operator">`∘⟦</a> <a id="2053" href="SL.html#2053" class="Bound">l</a> <a id="2055" href="HoareLogic.html#781" class="InductiveConstructor Operator">⟧</a><a id="2056" class="Symbol">}</a> <a id="2058" href="SL.html#2058" class="Bound">A∉</a> <a id="2061" href="SL.html#2061" class="Bound">Ps</a> <a id="2064" href="SL.html#2064" class="Bound">A∈</a> <a id="2067" class="Symbol">=</a> <a id="2069" href="SL.html#1679" class="Function">∉⇒¬addr</a> <a id="2077" class="Symbol">{</a><a id="2078" class="Argument">P</a> <a id="2080" class="Symbol">=</a> <a id="2082" href="SL.html#2047" class="Bound">P</a><a id="2083" class="Symbol">}</a> <a id="2085" class="Symbol">(</a><a id="2086" href="Ledger.html#3390" class="Function">∉-⟦⟧ₗ</a> <a id="2092" class="Symbol">{</a><a id="2093" class="Argument">l</a> <a id="2095" class="Symbol">=</a> <a id="2097" href="SL.html#2053" class="Bound">l</a><a id="2098" class="Symbol">}</a> <a id="2100" href="SL.html#2058" class="Bound">A∉</a><a id="2102" class="Symbol">)</a> <a id="2104" href="SL.html#2061" class="Bound">Ps</a> <a id="2107" href="SL.html#2064" class="Bound">A∈</a>

<a id="♯♯-skip"></a><a id="2111" href="SL.html#2111" class="Function">♯♯-skip</a> <a id="2119" class="Symbol">:</a> <a id="2121" class="Symbol">(</a><a id="2122" href="Ledger.html#747" class="Generalizable">t</a> <a id="2124" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2126" href="Ledger.html#762" class="Generalizable">l</a><a id="2127" class="Symbol">)</a> <a id="2129" href="SL.html#810" class="Function Operator">♯♯</a> <a id="2132" href="HoareLogic.html#948" class="Generalizable">P</a> <a id="2134" class="Symbol">→</a> <a id="2136" href="Ledger.html#762" class="Generalizable">l</a> <a id="2138" href="SL.html#810" class="Function Operator">♯♯</a> <a id="2141" href="HoareLogic.html#948" class="Generalizable">P</a>
<a id="2143" href="SL.html#2111" class="Function">♯♯-skip</a> <a id="2151" href="SL.html#2151" class="Bound">p</a> <a id="2153" href="SL.html#2153" class="Bound">A</a> <a id="2155" class="Symbol">=</a> <a id="2157" href="SL.html#2151" class="Bound">p</a> <a id="2159" href="SL.html#2153" class="Bound">A</a> <a id="2161" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="2163" href="Data.List.Relation.Unary.Any.html#1227" class="InductiveConstructor">there</a>

<a id="ˡ♯⇒♯ˡ"></a><a id="2170" href="SL.html#2170" class="Function">ˡ♯⇒♯ˡ</a> <a id="2176" class="Symbol">:</a> <a id="2178" href="Ledger.html#762" class="Generalizable">l</a> <a id="2180" href="SL.html#704" class="Function Operator">ˡ♯</a> <a id="2183" href="Ledger.html#727" class="Generalizable">s</a> <a id="2185" class="Symbol">→</a> <a id="2187" href="Ledger.html#727" class="Generalizable">s</a> <a id="2189" href="SL.html#756" class="Function Operator">♯ˡ</a> <a id="2192" href="Ledger.html#762" class="Generalizable">l</a>
<a id="2194" href="SL.html#2170" class="Function">ˡ♯⇒♯ˡ</a> <a id="2200" class="Symbol">{</a><a id="2201" class="Argument">s</a> <a id="2203" class="Symbol">=</a> <a id="2205" href="SL.html#2205" class="Bound">s</a><a id="2206" class="Symbol">}</a> <a id="2208" href="SL.html#2208" class="Bound">p</a> <a id="2210" href="SL.html#2210" class="Bound">A</a> <a id="2212" href="SL.html#2212" class="Bound">A∈</a> <a id="2215" href="SL.html#2215" class="Bound">A∈l</a> <a id="2219" class="Symbol">=</a> <a id="2221" href="SL.html#2208" class="Bound">p</a> <a id="2223" class="Symbol">_</a> <a id="2225" href="SL.html#2215" class="Bound">A∈l</a> <a id="2229" href="SL.html#2212" class="Bound">A∈</a>

<a id="♯♯⇒ˡ♯"></a><a id="2233" href="SL.html#2233" class="Function">♯♯⇒ˡ♯</a> <a id="2239" class="Symbol">:</a> <a id="2241" href="Ledger.html#762" class="Generalizable">l</a> <a id="2243" href="SL.html#810" class="Function Operator">♯♯</a> <a id="2246" href="HoareLogic.html#970" class="Generalizable">R</a> <a id="2248" class="Symbol">→</a> <a id="2250" href="HoareLogic.html#970" class="Generalizable">R</a> <a id="2252" href="HoareLogic.html#1566" class="Function Operator">∙</a> <a id="2254" href="Ledger.html#727" class="Generalizable">s</a> <a id="2256" class="Symbol">→</a> <a id="2258" href="Ledger.html#762" class="Generalizable">l</a> <a id="2260" href="SL.html#704" class="Function Operator">ˡ♯</a> <a id="2263" href="Ledger.html#727" class="Generalizable">s</a>
<a id="2265" href="SL.html#2233" class="Function">♯♯⇒ˡ♯</a> <a id="2271" class="Symbol">{</a><a id="2272" href="SL.html#2272" class="Bound">l</a><a id="2273" class="Symbol">}{</a><a id="2275" href="HoareLogic.html#544" class="InductiveConstructor">`emp</a><a id="2279" class="Symbol">}{</a><a id="2281" href="SL.html#2281" class="Bound">s</a><a id="2282" class="Symbol">}</a> <a id="2284" href="SL.html#2284" class="Bound">l♯R</a> <a id="2288" href="SL.html#2288" class="Bound">s∅</a> <a id="2291" href="SL.html#2291" class="Bound">A</a> <a id="2293" href="SL.html#2293" class="Bound">A∈</a> <a id="2296" class="Symbol">=</a> <a id="2298" href="SL.html#2288" class="Bound">s∅</a> <a id="2301" href="SL.html#2291" class="Bound">A</a>
<a id="2303" href="SL.html#2233" class="Function">♯♯⇒ˡ♯</a> <a id="2309" class="Symbol">{</a><a id="2310" href="SL.html#2310" class="Bound">l</a><a id="2311" class="Symbol">}{</a><a id="2313" href="SL.html#2313" class="Bound">B</a> <a id="2315" href="HoareLogic.html#620" class="InductiveConstructor Operator">`↦</a> <a id="2318" href="SL.html#2318" class="Bound">v</a><a id="2319" class="Symbol">}{</a><a id="2321" href="SL.html#2321" class="Bound">s</a><a id="2322" class="Symbol">}</a> <a id="2324" href="SL.html#2324" class="Bound">l♯R</a> <a id="2328" class="Symbol">(_</a> <a id="2331" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2333" href="SL.html#2333" class="Bound">B↦</a><a id="2335" class="Symbol">)</a> <a id="2337" href="SL.html#2337" class="Bound">A</a> <a id="2339" href="SL.html#2339" class="Bound">A∈</a> <a id="2342" href="SL.html#2342" class="Bound">A∈′</a>
  <a id="2348" class="Keyword">with</a> <a id="2353" href="SL.html#2337" class="Bound">A</a> <a id="2355" href="Prelude.DecEq.html#601" class="Field Operator">≟</a> <a id="2357" href="SL.html#2313" class="Bound">B</a>
<a id="2359" class="Symbol">...</a> <a id="2363" class="Symbol">|</a> <a id="2365" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="2369" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="2374" class="Symbol">=</a> <a id="2376" class="Bound">l♯R</a> <a id="2380" class="Bound">A</a> <a id="2382" class="Bound">A∈</a> <a id="2385" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="2390" class="Symbol">...</a> <a id="2394" class="Symbol">|</a> <a id="2396" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a>  <a id="2400" href="SL.html#2400" class="Bound">A≢B</a>  <a id="2405" class="Symbol">=</a> <a id="2407" class="Bound">B↦</a> <a id="2410" class="Bound">A</a> <a id="2412" href="SL.html#2400" class="Bound">A≢B</a> <a id="2416" class="Bound">A∈′</a>
<a id="2420" href="SL.html#2233" class="Function">♯♯⇒ˡ♯</a> <a id="2426" class="Symbol">{</a><a id="2427" href="SL.html#2427" class="Bound">l</a><a id="2428" class="Symbol">}{</a><a id="2430" href="SL.html#2430" class="Bound">R</a> <a id="2432" href="HoareLogic.html#710" class="InductiveConstructor Operator">`∗</a> <a id="2435" href="SL.html#2435" class="Bound">Q</a><a id="2436" class="Symbol">}{</a><a id="2438" href="SL.html#2438" class="Bound">s</a><a id="2439" class="Symbol">}</a> <a id="2441" href="SL.html#2441" class="Bound">l♯R</a> <a id="2445" class="Symbol">(</a><a id="2446" href="SL.html#2446" class="Bound">s₁</a> <a id="2449" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2451" href="SL.html#2451" class="Bound">s₂</a> <a id="2454" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2456" href="SL.html#2456" class="Bound">≡s</a> <a id="2459" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2461" href="SL.html#2461" class="Bound">Rs₁</a> <a id="2465" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2467" href="SL.html#2467" class="Bound">Qs₂</a><a id="2470" class="Symbol">)</a> <a id="2472" href="SL.html#2472" class="Bound">A</a> <a id="2474" href="SL.html#2474" class="Bound">A∈</a>
  <a id="2479" class="Keyword">with</a> <a id="2484" href="SL.html#2446" class="Bound">s₁</a> <a id="2487" href="Prelude.Maps.Interface.html#355" class="Function Operator">⁉</a> <a id="2489" href="SL.html#2472" class="Bound">A</a> <a id="2491" class="Symbol">|</a> <a id="2493" href="Relation.Binary.PropositionalEquality.html#3845" class="Function">inspect</a> <a id="2501" class="Symbol">(</a><a id="2502" href="SL.html#2446" class="Bound">s₁</a> <a id="2505" href="Prelude.Maps.Interface.html#355" class="Function Operator">⁉_</a><a id="2507" class="Symbol">)</a> <a id="2509" href="SL.html#2472" class="Bound">A</a> <a id="2511" class="Symbol">|</a> <a id="2513" href="SL.html#2451" class="Bound">s₂</a> <a id="2516" href="Prelude.Maps.Interface.html#355" class="Function Operator">⁉</a> <a id="2518" href="SL.html#2472" class="Bound">A</a> <a id="2520" class="Symbol">|</a> <a id="2522" href="Relation.Binary.PropositionalEquality.html#3845" class="Function">inspect</a> <a id="2530" class="Symbol">(</a><a id="2531" href="SL.html#2451" class="Bound">s₂</a> <a id="2534" href="Prelude.Maps.Interface.html#355" class="Function Operator">⁉_</a><a id="2536" class="Symbol">)</a> <a id="2538" href="SL.html#2472" class="Bound">A</a>
<a id="2540" class="Symbol">...</a> <a id="2544" class="Symbol">|</a> <a id="2546" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="2551" class="Symbol">_</a>  <a id="2554" class="Symbol">|</a> <a id="2556" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">≡[</a> <a id="2559" href="SL.html#2559" class="Bound">s₁≡</a> <a id="2563" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">]</a> <a id="2565" class="Symbol">|</a> <a id="2567" class="Symbol">_</a>       <a id="2575" class="Symbol">|</a> <a id="2577" class="Symbol">_</a>
    <a id="2583" class="Symbol">=</a> <a id="2585" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="2592" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="2594" class="Bound">l♯R</a> <a id="2598" class="Bound">A</a> <a id="2600" class="Bound">A∈</a> <a id="2603" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="2605" href="Data.Sum.Base.html#778" class="InductiveConstructor">inj₁</a> <a id="2610" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="2612" href="SL.html#1243" class="Function">∈⇒addr</a> <a id="2619" class="Symbol">{</a><a id="2620" class="Bound">A</a><a id="2621" class="Symbol">}{</a><a id="2623" class="Bound">s₁</a><a id="2625" class="Symbol">}{</a><a id="2627" class="Bound">R</a><a id="2628" class="Symbol">}</a> <a id="2630" class="Symbol">(</a><a id="2631" href="Prelude.Maps.Interface.html#1341" class="Function">⁉⇒∈ᵈ</a> <a id="2636" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="2638" href="Relation.Binary.PropositionalEquality.Core.html#1076" class="Function">subst</a> <a id="2644" href="Data.Maybe.html#801" class="Function">Is-just</a> <a id="2652" class="Symbol">(</a><a id="2653" href="Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="2657" href="SL.html#2559" class="Bound">s₁≡</a><a id="2660" class="Symbol">)</a> <a id="2662" href="Prelude.Decidable.html#184" class="Function">auto</a><a id="2666" class="Symbol">)</a> <a id="2668" class="Bound">Rs₁</a>
<a id="2672" class="CatchallClause Symbol">...</a><a id="2675" class="CatchallClause"> </a><a id="2676" class="CatchallClause Symbol">|</a><a id="2677" class="CatchallClause"> </a><a id="2678" class="CatchallClause Symbol">_</a><a id="2679" class="CatchallClause">       </a><a id="2686" class="CatchallClause Symbol">|</a><a id="2687" class="CatchallClause"> </a><a id="2688" class="CatchallClause Symbol">_</a><a id="2689" class="CatchallClause">        </a><a id="2697" class="CatchallClause Symbol">|</a><a id="2698" class="CatchallClause"> </a><a id="2699" href="Data.Maybe.Base.html#892" class="CatchallClause InductiveConstructor">just</a><a id="2703" class="CatchallClause"> </a><a id="2704" class="CatchallClause Symbol">_</a><a id="2705" class="CatchallClause">  </a><a id="2707" class="CatchallClause Symbol">|</a><a id="2708" class="CatchallClause"> </a><a id="2709" href="Relation.Binary.PropositionalEquality.html#3819" class="CatchallClause InductiveConstructor Operator">≡[</a><a id="2711" class="CatchallClause"> </a><a id="2712" href="SL.html#2712" class="CatchallClause Bound">s₂≡</a><a id="2715" class="CatchallClause"> </a><a id="2716" href="Relation.Binary.PropositionalEquality.html#3819" class="CatchallClause InductiveConstructor Operator">]</a>
    <a id="2722" class="Symbol">=</a> <a id="2724" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="2731" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="2733" class="Bound">l♯R</a> <a id="2737" class="Bound">A</a> <a id="2739" class="Bound">A∈</a> <a id="2742" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="2744" href="Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="2749" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="2751" href="SL.html#1243" class="Function">∈⇒addr</a> <a id="2758" class="Symbol">{</a><a id="2759" class="Bound">A</a><a id="2760" class="Symbol">}{</a><a id="2762" class="Bound">s₂</a><a id="2764" class="Symbol">}{</a><a id="2766" class="Bound">Q</a><a id="2767" class="Symbol">}</a> <a id="2769" class="Symbol">(</a><a id="2770" href="Prelude.Maps.Interface.html#1341" class="Function">⁉⇒∈ᵈ</a> <a id="2775" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="2777" href="Relation.Binary.PropositionalEquality.Core.html#1076" class="Function">subst</a> <a id="2783" href="Data.Maybe.html#801" class="Function">M.Is-just</a> <a id="2793" class="Symbol">(</a><a id="2794" href="Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="2798" href="SL.html#2712" class="Bound">s₂≡</a><a id="2801" class="Symbol">)</a> <a id="2803" href="Prelude.Decidable.html#184" class="Function">auto</a><a id="2807" class="Symbol">)</a> <a id="2809" class="Bound">Qs₂</a>
<a id="2813" class="Symbol">...</a> <a id="2817" class="Symbol">|</a> <a id="2819" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="2827" class="Symbol">|</a> <a id="2829" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">≡[</a> <a id="2832" href="SL.html#2832" class="Bound">s₁≡</a> <a id="2836" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">]</a> <a id="2838" class="Symbol">|</a> <a id="2840" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="2848" class="Symbol">|</a> <a id="2850" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">≡[</a> <a id="2853" href="SL.html#2853" class="Bound">s₂≡</a> <a id="2857" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">]</a>
  <a id="2861" class="Symbol">=</a> <a id="2863" href="Ledger.html#3511" class="Function">∉-splits</a> <a id="2872" class="Bound">≡s</a> <a id="2875" class="Symbol">(</a><a id="2876" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="2883" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="2885" href="Prelude.Maps.Interface.html#2891" class="Function">⁉⇒∉ᵈ</a> <a id="2890" class="Symbol">(</a><a id="2891" href="Relation.Binary.PropositionalEquality.Core.html#1076" class="Function">subst</a> <a id="2897" href="Data.Maybe.html#852" class="Function">Is-nothing</a> <a id="2908" class="Symbol">(</a><a id="2909" href="Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="2913" href="SL.html#2832" class="Bound">s₁≡</a><a id="2916" class="Symbol">)</a> <a id="2918" href="Prelude.Decidable.html#184" class="Function">auto</a><a id="2922" class="Symbol">))</a>
                <a id="2941" class="Symbol">(</a><a id="2942" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="2949" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="2951" href="Prelude.Maps.Interface.html#2891" class="Function">⁉⇒∉ᵈ</a> <a id="2956" class="Symbol">(</a><a id="2957" href="Relation.Binary.PropositionalEquality.Core.html#1076" class="Function">subst</a> <a id="2963" href="Data.Maybe.html#852" class="Function">Is-nothing</a> <a id="2974" class="Symbol">(</a><a id="2975" href="Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="2979" href="SL.html#2853" class="Bound">s₂≡</a><a id="2982" class="Symbol">)</a> <a id="2984" href="Prelude.Decidable.html#184" class="Function">auto</a><a id="2988" class="Symbol">))</a>
<a id="2991" href="SL.html#2233" class="Function">♯♯⇒ˡ♯</a> <a id="2997" class="Symbol">{_}{</a><a id="3001" href="SL.html#3001" class="Bound">R</a> <a id="3003" href="HoareLogic.html#781" class="InductiveConstructor Operator">`∘⟦</a> <a id="3007" href="SL.html#3007" class="Bound">l</a> <a id="3009" href="HoareLogic.html#781" class="InductiveConstructor Operator">⟧</a><a id="3010" class="Symbol">}{</a><a id="3012" href="SL.html#3012" class="Bound">s</a><a id="3013" class="Symbol">}</a> <a id="3015" href="SL.html#3015" class="Bound">l♯R</a> <a id="3019" href="SL.html#3019" class="Bound">Rs</a> <a id="3022" href="SL.html#3022" class="Bound">A</a> <a id="3024" href="SL.html#3024" class="Bound">A∈</a> <a id="3027" class="Symbol">=</a> <a id="3029" href="SL.html#3117" class="Function">¬A∈</a>
  <a id="3035" class="Keyword">where</a>
    <a id="3045" href="SL.html#3045" class="Function">A∉</a> <a id="3048" class="Symbol">:</a> <a id="3050" href="SL.html#3022" class="Bound">A</a> <a id="3052" href="Prelude.Maps.Interface.html#573" class="Function Operator">∉ᵈ</a> <a id="3055" href="Ledger.html#1048" class="Field Operator">⟦</a> <a id="3057" href="SL.html#3007" class="Bound">l</a> <a id="3059" href="Ledger.html#1048" class="Field Operator">⟧</a> <a id="3061" href="SL.html#3012" class="Bound">s</a>
    <a id="3067" href="SL.html#3045" class="Function">A∉</a> <a id="3070" class="Symbol">=</a> <a id="3072" href="SL.html#2233" class="Function">♯♯⇒ˡ♯</a> <a id="3078" class="Symbol">{</a><a id="3079" class="Argument">R</a> <a id="3081" class="Symbol">=</a> <a id="3083" href="SL.html#3001" class="Bound">R</a><a id="3084" class="Symbol">}</a> <a id="3086" class="Symbol">{</a><a id="3087" class="Argument">s</a> <a id="3089" class="Symbol">=</a> <a id="3091" href="Ledger.html#1048" class="Field Operator">⟦</a> <a id="3093" href="SL.html#3007" class="Bound">l</a> <a id="3095" href="Ledger.html#1048" class="Field Operator">⟧</a> <a id="3097" href="SL.html#3012" class="Bound">s</a><a id="3098" class="Symbol">}</a> <a id="3100" href="SL.html#3015" class="Bound">l♯R</a> <a id="3104" href="SL.html#3019" class="Bound">Rs</a> <a id="3107" href="SL.html#3022" class="Bound">A</a> <a id="3109" href="SL.html#3024" class="Bound">A∈</a>

    <a id="3117" href="SL.html#3117" class="Function">¬A∈</a> <a id="3121" class="Symbol">:</a> <a id="3123" href="SL.html#3022" class="Bound">A</a> <a id="3125" href="Prelude.Maps.Interface.html#573" class="Function Operator">∉ᵈ</a> <a id="3128" href="SL.html#3012" class="Bound">s</a>
    <a id="3134" href="SL.html#3117" class="Function">¬A∈</a> <a id="3138" class="Symbol">=</a> <a id="3140" href="SL.html#3045" class="Function">A∉</a> <a id="3143" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="3145" href="Ledger.html#2613" class="Function">⟦⟧ₗ-mono</a> <a id="3154" class="Symbol">{</a><a id="3155" href="SL.html#3007" class="Bound">l</a><a id="3156" class="Symbol">}</a> <a id="3158" href="SL.html#3012" class="Bound">s</a> <a id="3160" href="SL.html#3022" class="Bound">A</a>


<a id="3164" class="Comment">-- Helper lemma for [FRAME]: pushing ⟦ l ⟧ inside the partition.</a>
<a id="frame-helper"></a><a id="3229" href="SL.html#3229" class="Function">frame-helper</a> <a id="3242" class="Symbol">:</a>
    <a id="3248" href="Ledger.html#762" class="Generalizable">l</a> <a id="3250" href="SL.html#810" class="Function Operator">♯♯</a> <a id="3253" href="HoareLogic.html#970" class="Generalizable">R</a>
  <a id="3257" class="Symbol">→</a> <a id="3259" href="HoareLogic.html#970" class="Generalizable">R</a> <a id="3261" href="HoareLogic.html#1566" class="Function Operator">∙</a> <a id="3263" href="Ledger.html#738" class="Generalizable">s₂</a>
  <a id="3268" class="Symbol">→</a> <a id="3270" href="Prelude.Maps.Interface.html#1103" class="Function Operator">⟨</a> <a id="3272" href="Ledger.html#735" class="Generalizable">s₁</a> <a id="3275" href="Prelude.Maps.Interface.html#1103" class="Function Operator">⊎</a> <a id="3277" href="Ledger.html#738" class="Generalizable">s₂</a> <a id="3280" href="Prelude.Maps.Interface.html#1103" class="Function Operator">⟩≡</a> <a id="3283" href="Ledger.html#727" class="Generalizable">s</a>
    <a id="3289" class="Comment">-----------------------</a>
  <a id="3315" class="Symbol">→</a> <a id="3317" href="Prelude.Maps.Interface.html#1103" class="Function Operator">⟨</a> <a id="3319" href="Ledger.html#1048" class="Field Operator">⟦</a> <a id="3321" href="Ledger.html#762" class="Generalizable">l</a> <a id="3323" href="Ledger.html#1048" class="Field Operator">⟧</a> <a id="3325" href="Ledger.html#735" class="Generalizable">s₁</a> <a id="3328" href="Prelude.Maps.Interface.html#1103" class="Function Operator">⊎</a> <a id="3330" href="Ledger.html#738" class="Generalizable">s₂</a> <a id="3333" href="Prelude.Maps.Interface.html#1103" class="Function Operator">⟩≡</a> <a id="3336" href="Ledger.html#1048" class="Field Operator">⟦</a> <a id="3338" href="Ledger.html#762" class="Generalizable">l</a> <a id="3340" href="Ledger.html#1048" class="Field Operator">⟧</a> <a id="3342" href="Ledger.html#727" class="Generalizable">s</a>
<a id="3344" href="SL.html#3229" class="Function">frame-helper</a> <a id="3357" class="Symbol">{</a><a id="3358" class="Argument">l</a> <a id="3360" class="Symbol">=</a> <a id="3362" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3364" class="Symbol">}</a> <a id="3366" class="Symbol">_</a> <a id="3368" class="Symbol">_</a> <a id="3370" href="SL.html#3370" class="Bound">p</a> <a id="3372" class="Symbol">=</a> <a id="3374" href="SL.html#3370" class="Bound">p</a>
<a id="3376" href="SL.html#3229" class="Function">frame-helper</a> <a id="3389" class="Symbol">{</a><a id="3390" class="Argument">l</a> <a id="3392" class="Symbol">=</a> <a id="3394" href="SL.html#3394" class="Bound">l₀</a><a id="3396" class="Symbol">@(</a><a id="3398" href="SL.html#3398" class="Bound">A</a> <a id="3400" href="Ledger.html#575" class="InductiveConstructor Operator">—→⟨</a> <a id="3404" href="SL.html#3404" class="Bound">v</a> <a id="3406" href="Ledger.html#575" class="InductiveConstructor Operator">⟩</a> <a id="3408" href="SL.html#3408" class="Bound">B</a> <a id="3410" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3412" href="SL.html#3412" class="Bound">l</a><a id="3413" class="Symbol">)}{</a><a id="3416" href="SL.html#3416" class="Bound">R</a><a id="3417" class="Symbol">}{</a><a id="3419" href="SL.html#3419" class="Bound">s₂</a><a id="3421" class="Symbol">}{</a><a id="3423" href="SL.html#3423" class="Bound">s₁</a><a id="3425" class="Symbol">}{</a><a id="3427" href="SL.html#3427" class="Bound">s</a><a id="3428" class="Symbol">}</a> <a id="3430" href="SL.html#3430" class="Bound">l♯R</a> <a id="3434" href="SL.html#3434" class="Bound">Rs₂</a> <a id="3438" class="Symbol">(</a><a id="3439" href="SL.html#3439" class="Bound">s₁♯s₂</a> <a id="3445" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3447" href="SL.html#3447" class="Bound">≡s</a><a id="3449" class="Symbol">)</a> <a id="3451" class="Symbol">=</a>
  <a id="3455" href="SL.html#3229" class="Function">frame-helper</a> <a id="3468" class="Symbol">{</a><a id="3469" href="SL.html#3412" class="Bound">l</a><a id="3470" class="Symbol">}{</a><a id="3472" href="SL.html#3416" class="Bound">R</a><a id="3473" class="Symbol">}{</a><a id="3475" href="SL.html#3419" class="Bound">s₂</a><a id="3477" class="Symbol">}{</a><a id="3479" href="Prelude.Maps.Interface.html#8784" class="Function">run</a> <a id="3483" href="Ledger.html#1860" class="Function Operator">[</a> <a id="3485" href="SL.html#3398" class="Bound">A</a> <a id="3487" href="Ledger.html#1860" class="Function Operator">∣</a> <a id="3489" href="SL.html#3404" class="Bound">v</a> <a id="3491" href="Ledger.html#1860" class="Function Operator">↦</a> <a id="3493" href="SL.html#3408" class="Bound">B</a> <a id="3495" href="Ledger.html#1860" class="Function Operator">]</a> <a id="3497" href="SL.html#3423" class="Bound">s₁</a><a id="3499" class="Symbol">}</a> <a id="3501" class="Symbol">{</a><a id="3502" href="Prelude.Maps.Interface.html#8784" class="Function">run</a> <a id="3506" href="Ledger.html#1860" class="Function Operator">[</a> <a id="3508" href="SL.html#3398" class="Bound">A</a> <a id="3510" href="Ledger.html#1860" class="Function Operator">∣</a> <a id="3512" href="SL.html#3404" class="Bound">v</a> <a id="3514" href="Ledger.html#1860" class="Function Operator">↦</a> <a id="3516" href="SL.html#3408" class="Bound">B</a> <a id="3518" href="Ledger.html#1860" class="Function Operator">]</a> <a id="3520" href="SL.html#3427" class="Bound">s</a><a id="3521" class="Symbol">}</a> <a id="3523" class="Symbol">(</a><a id="3524" href="SL.html#2111" class="Function">♯♯-skip</a> <a id="3532" class="Symbol">{</a><a id="3533" class="Argument">P</a> <a id="3535" class="Symbol">=</a> <a id="3537" href="SL.html#3416" class="Bound">R</a><a id="3538" class="Symbol">}</a> <a id="3540" href="SL.html#3430" class="Bound">l♯R</a><a id="3543" class="Symbol">)</a> <a id="3545" href="SL.html#3434" class="Bound">Rs₂</a> <a id="3549" href="SL.html#5916" class="Function">p′</a>
  <a id="3554" class="Keyword">where</a>
    <a id="3564" href="SL.html#3564" class="Function">l♯s₂</a> <a id="3569" class="Symbol">:</a> <a id="3571" href="SL.html#3394" class="Bound">l₀</a> <a id="3574" href="SL.html#704" class="Function Operator">ˡ♯</a> <a id="3577" href="SL.html#3419" class="Bound">s₂</a>
    <a id="3584" href="SL.html#3564" class="Function">l♯s₂</a> <a id="3589" class="Symbol">=</a> <a id="3591" href="SL.html#2233" class="Function">♯♯⇒ˡ♯</a> <a id="3597" class="Symbol">{</a><a id="3598" class="Argument">R</a> <a id="3600" class="Symbol">=</a> <a id="3602" href="SL.html#3416" class="Bound">R</a><a id="3603" class="Symbol">}</a> <a id="3605" href="SL.html#3430" class="Bound">l♯R</a> <a id="3609" href="SL.html#3434" class="Bound">Rs₂</a>

    <a id="3618" href="SL.html#3618" class="Function">A∉₂</a> <a id="3622" class="Symbol">:</a> <a id="3624" href="SL.html#3398" class="Bound">A</a> <a id="3626" href="Prelude.Maps.Interface.html#573" class="Function Operator">∉ᵈ</a> <a id="3629" href="SL.html#3419" class="Bound">s₂</a>
    <a id="3636" href="SL.html#3618" class="Function">A∉₂</a> <a id="3640" class="Symbol">=</a> <a id="3642" href="SL.html#3564" class="Function">l♯s₂</a> <a id="3647" href="SL.html#3398" class="Bound">A</a> <a id="3649" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="3651" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="3656" class="Symbol">(</a><a id="3657" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="3662" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="3666" class="Symbol">)</a>

    <a id="3673" href="SL.html#3673" class="Function">B∉₂</a> <a id="3677" class="Symbol">:</a> <a id="3679" href="SL.html#3408" class="Bound">B</a> <a id="3681" href="Prelude.Maps.Interface.html#573" class="Function Operator">∉ᵈ</a> <a id="3684" href="SL.html#3419" class="Bound">s₂</a>
    <a id="3691" href="SL.html#3673" class="Function">B∉₂</a> <a id="3695" class="Symbol">=</a> <a id="3697" href="SL.html#3564" class="Function">l♯s₂</a> <a id="3702" href="SL.html#3408" class="Bound">B</a> <a id="3704" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="3706" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="3711" class="Symbol">(</a><a id="3712" href="Data.List.Relation.Unary.Any.html#1227" class="InductiveConstructor">there</a> <a id="3718" class="Symbol">(</a><a id="3719" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="3724" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="3728" class="Symbol">))</a>

    <a id="3736" href="SL.html#3736" class="Function">p₁</a> <a id="3739" class="Symbol">:</a> <a id="3741" class="Symbol">(</a><a id="3742" href="Prelude.Maps.Interface.html#8784" class="Function">run</a> <a id="3746" href="Ledger.html#1860" class="Function Operator">[</a> <a id="3748" href="SL.html#3398" class="Bound">A</a> <a id="3750" href="Ledger.html#1860" class="Function Operator">∣</a> <a id="3752" href="SL.html#3404" class="Bound">v</a> <a id="3754" href="Ledger.html#1860" class="Function Operator">↦</a> <a id="3756" href="SL.html#3408" class="Bound">B</a> <a id="3758" href="Ledger.html#1860" class="Function Operator">]</a> <a id="3760" href="SL.html#3423" class="Bound">s₁</a><a id="3762" class="Symbol">)</a> <a id="3764" href="Prelude.Maps.Interface.html#409" class="Function Operator">♯</a> <a id="3766" href="SL.html#3419" class="Bound">s₂</a>
    <a id="3773" href="SL.html#3736" class="Function">p₁</a> <a id="3776" class="Symbol">=</a> <a id="3778" href="Ledger.html#3780" class="Function">transfer-helper</a> <a id="3794" href="SL.html#3439" class="Bound">s₁♯s₂</a> <a id="3800" href="SL.html#3673" class="Function">B∉₂</a>

    <a id="3809" href="SL.html#3809" class="Function">∉⇒≢</a> <a id="3813" class="Symbol">:</a> <a id="3815" class="Symbol">∀</a> <a id="3817" href="SL.html#3817" class="Bound">k</a> <a id="3819" class="Symbol">→</a> <a id="3821" href="SL.html#3817" class="Bound">k</a> <a id="3823" href="Prelude.Maps.Interface.html#383" class="Function Operator">∈ᵈ</a> <a id="3826" href="SL.html#3419" class="Bound">s₂</a> <a id="3829" class="Symbol">→</a> <a id="3831" class="Symbol">(</a><a id="3832" href="SL.html#3817" class="Bound">k</a> <a id="3834" href="Relation.Binary.PropositionalEquality.Core.html#840" class="Function Operator">≢</a> <a id="3836" href="SL.html#3398" class="Bound">A</a><a id="3837" class="Symbol">)</a> <a id="3839" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3841" class="Symbol">(</a><a id="3842" href="SL.html#3817" class="Bound">k</a> <a id="3844" href="Relation.Binary.PropositionalEquality.Core.html#840" class="Function Operator">≢</a> <a id="3846" href="SL.html#3408" class="Bound">B</a><a id="3847" class="Symbol">)</a>
    <a id="3853" href="SL.html#3809" class="Function">∉⇒≢</a> <a id="3857" href="SL.html#3857" class="Bound">k</a> <a id="3859" href="SL.html#3859" class="Bound">k∈</a> <a id="3862" class="Symbol">=</a> <a id="3864" href="SL.html#3948" class="Function">k≢A</a> <a id="3868" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3870" href="SL.html#4019" class="Function">k≢B</a>
      <a id="3880" class="Keyword">where</a>
        <a id="3894" href="SL.html#3894" class="Function">k∉</a> <a id="3897" class="Symbol">:</a> <a id="3899" href="Relation.Nullary.html#653" class="Function Operator">¬</a> <a id="3901" href="SL.html#329" class="Function">mod</a> <a id="3905" href="SL.html#3857" class="Bound">k</a> <a id="3907" href="SL.html#3394" class="Bound">l₀</a>
        <a id="3918" href="SL.html#3894" class="Function">k∉</a> <a id="3921" class="Symbol">=</a> <a id="3923" href="SL.html#2170" class="Function">ˡ♯⇒♯ˡ</a> <a id="3929" href="SL.html#3564" class="Function">l♯s₂</a> <a id="3934" href="SL.html#3857" class="Bound">k</a> <a id="3936" href="SL.html#3859" class="Bound">k∈</a>

        <a id="3948" href="SL.html#3948" class="Function">k≢A</a> <a id="3952" class="Symbol">:</a> <a id="3954" href="SL.html#3857" class="Bound">k</a> <a id="3956" href="Relation.Binary.PropositionalEquality.Core.html#840" class="Function Operator">≢</a> <a id="3958" href="SL.html#3398" class="Bound">A</a>
        <a id="3968" href="SL.html#3948" class="Function">k≢A</a> <a id="3972" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="3977" class="Symbol">=</a> <a id="3979" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="3986" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="3988" href="SL.html#3894" class="Function">k∉</a> <a id="3991" class="Symbol">(</a><a id="3992" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="3997" class="Symbol">(</a><a id="3998" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="4003" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="4007" class="Symbol">))</a>

        <a id="4019" href="SL.html#4019" class="Function">k≢B</a> <a id="4023" class="Symbol">:</a> <a id="4025" href="SL.html#3857" class="Bound">k</a> <a id="4027" href="Relation.Binary.PropositionalEquality.Core.html#840" class="Function Operator">≢</a> <a id="4029" href="SL.html#3408" class="Bound">B</a>
        <a id="4039" href="SL.html#4019" class="Function">k≢B</a> <a id="4043" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="4048" class="Symbol">=</a> <a id="4050" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="4057" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="4059" href="SL.html#3894" class="Function">k∉</a> <a id="4062" class="Symbol">(</a><a id="4063" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="4068" class="Symbol">(</a><a id="4069" href="Data.List.Relation.Unary.Any.html#1227" class="InductiveConstructor">there</a> <a id="4075" class="Symbol">(</a><a id="4076" href="Data.List.Relation.Unary.Any.html#1174" class="InductiveConstructor">here</a> <a id="4081" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="4085" class="Symbol">)))</a>

    <a id="4094" href="SL.html#4094" class="Function">p₂</a> <a id="4097" class="Symbol">:</a> <a id="4099" class="Symbol">(</a><a id="4100" href="Prelude.Maps.Interface.html#8784" class="Function">run</a> <a id="4104" href="Ledger.html#1860" class="Function Operator">[</a> <a id="4106" href="SL.html#3398" class="Bound">A</a> <a id="4108" href="Ledger.html#1860" class="Function Operator">∣</a> <a id="4110" href="SL.html#3404" class="Bound">v</a> <a id="4112" href="Ledger.html#1860" class="Function Operator">↦</a> <a id="4114" href="SL.html#3408" class="Bound">B</a> <a id="4116" href="Ledger.html#1860" class="Function Operator">]</a> <a id="4118" href="SL.html#3423" class="Bound">s₁</a><a id="4120" class="Symbol">)</a> <a id="4122" href="Prelude.Maps.Interface.html#321" class="Function Operator">∪</a> <a id="4124" href="SL.html#3419" class="Bound">s₂</a> <a id="4127" href="Prelude.Maps.Interface.html#636" class="Function Operator">≈</a> <a id="4129" href="Prelude.Maps.Interface.html#8784" class="Function">run</a> <a id="4133" href="Ledger.html#1860" class="Function Operator">[</a> <a id="4135" href="SL.html#3398" class="Bound">A</a> <a id="4137" href="Ledger.html#1860" class="Function Operator">∣</a> <a id="4139" href="SL.html#3404" class="Bound">v</a> <a id="4141" href="Ledger.html#1860" class="Function Operator">↦</a> <a id="4143" href="SL.html#3408" class="Bound">B</a> <a id="4145" href="Ledger.html#1860" class="Function Operator">]</a> <a id="4147" href="SL.html#3427" class="Bound">s</a>
    <a id="4153" href="SL.html#4094" class="Function">p₂</a> <a id="4156" href="SL.html#4156" class="Bound">k</a>
      <a id="4164" class="Keyword">with</a> <a id="4169" href="SL.html#4169" class="Bound">eq</a> ← <a id="4174" href="SL.html#3447" class="Bound">≡s</a> <a id="4177" href="SL.html#4156" class="Bound">k</a>
      <a id="4185" class="Keyword">with</a> <a id="4190" href="SL.html#4190" class="Bound">eqᵃ</a> ← <a id="4196" href="SL.html#3447" class="Bound">≡s</a> <a id="4199" href="SL.html#3398" class="Bound">A</a>
      <a id="4207" class="Keyword">with</a> <a id="4212" href="SL.html#4212" class="Bound">eqᵇ</a> ← <a id="4218" href="SL.html#3447" class="Bound">≡s</a> <a id="4221" href="SL.html#3408" class="Bound">B</a>
      <a id="4229" class="Keyword">with</a> <a id="4234" href="Prelude.Decidable.html#408" class="Function Operator">¿</a> <a id="4236" href="SL.html#4156" class="Bound">k</a> <a id="4238" href="Prelude.Maps.Interface.html#383" class="Function Operator">∈ᵈ</a> <a id="4241" href="SL.html#3419" class="Bound">s₂</a> <a id="4244" href="Prelude.Decidable.html#408" class="Function Operator">¿</a>
    <a id="4250" class="Symbol">...</a> <a id="4254" class="Symbol">|</a> <a id="4256" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="4260" href="SL.html#4260" class="Bound">k∈</a>
      <a id="4269" class="Keyword">with</a> <a id="4274" href="SL.html#4274" class="Bound">k≢A</a> <a id="4278" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4280" href="SL.html#4280" class="Bound">k≢B</a> ← <a id="4286" href="SL.html#3809" class="Function">∉⇒≢</a> <a id="4290" class="Bound">k</a> <a id="4292" href="SL.html#4260" class="Bound">k∈</a>
      <a id="4301" class="Keyword">rewrite</a> <a id="4309" href="Prelude.Maps.Interface.html#2130" class="Function">∪-chooseᵣ</a> <a id="4319" href="SL.html#3736" class="Function">p₁</a> <a id="4322" href="SL.html#4260" class="Bound">k∈</a>
            <a id="4337" class="Symbol">|</a> <a id="4339" href="Prelude.Maps.Interface.html#2130" class="Function">∪-chooseᵣ</a> <a id="4349" href="SL.html#3439" class="Bound">s₁♯s₂</a> <a id="4355" href="SL.html#4260" class="Bound">k∈</a>
            <a id="4370" class="Symbol">|</a> <a id="4372" href="Ledger.html#3923" class="Function">drop-[∣↦]</a> <a id="4382" class="Symbol">{</a><a id="4383" class="Argument">v</a> <a id="4385" class="Symbol">=</a> <a id="4387" href="SL.html#3404" class="Bound">v</a><a id="4388" class="Symbol">}</a> <a id="4390" class="Symbol">{</a><a id="4391" class="Argument">s</a> <a id="4393" class="Symbol">=</a> <a id="4395" href="SL.html#3427" class="Bound">s</a><a id="4396" class="Symbol">}</a> <a id="4398" class="Bound">k</a> <a id="4400" href="SL.html#4274" class="Bound">k≢A</a> <a id="4404" href="SL.html#4280" class="Bound">k≢B</a>
            <a id="4420" class="Symbol">=</a> <a id="4422" href="SL.html#4169" class="Bound">eq</a>
    <a id="4429" class="Symbol">...</a> <a id="4433" class="Symbol">|</a> <a id="4435" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="4438" href="SL.html#4438" class="Bound">k∉</a>
      <a id="4447" class="Keyword">rewrite</a> <a id="4455" href="Prelude.Maps.Interface.html#2049" class="Function">∪-chooseₗ</a> <a id="4465" href="SL.html#3736" class="Function">p₁</a> <a id="4468" href="SL.html#4438" class="Bound">k∉</a>
            <a id="4483" class="Symbol">|</a> <a id="4485" href="Prelude.Maps.Interface.html#2049" class="Function">∪-chooseₗ</a> <a id="4495" href="SL.html#3439" class="Bound">s₁♯s₂</a> <a id="4501" href="SL.html#4438" class="Bound">k∉</a>
      <a id="4510" class="Keyword">with</a> <a id="4515" href="SL.html#3423" class="Bound">s₁</a> <a id="4518" href="Prelude.Maps.Interface.html#355" class="Function Operator">⁉</a> <a id="4520" href="SL.html#3398" class="Bound">A</a> <a id="4522" class="Symbol">|</a> <a id="4524" href="Relation.Binary.PropositionalEquality.html#3845" class="Function">inspect</a> <a id="4532" class="Symbol">(</a><a id="4533" href="SL.html#3423" class="Bound">s₁</a> <a id="4536" href="Prelude.Maps.Interface.html#355" class="Function Operator">⁉_</a><a id="4538" class="Symbol">)</a> <a id="4540" href="SL.html#3398" class="Bound">A</a>
         <a id="4551" class="Symbol">|</a> <a id="4553" href="SL.html#3427" class="Bound">s</a>  <a id="4556" href="Prelude.Maps.Interface.html#355" class="Function Operator">⁉</a> <a id="4558" href="SL.html#3398" class="Bound">A</a> <a id="4560" class="Symbol">|</a> <a id="4562" href="Relation.Binary.PropositionalEquality.html#3845" class="Function">inspect</a> <a id="4570" class="Symbol">(</a><a id="4571" href="SL.html#3427" class="Bound">s</a>  <a id="4574" href="Prelude.Maps.Interface.html#355" class="Function Operator">⁉_</a><a id="4576" class="Symbol">)</a> <a id="4578" href="SL.html#3398" class="Bound">A</a>
         <a id="4589" class="Symbol">|</a> <a id="4591" href="SL.html#4190" class="Bound">eqᵃ</a>
    <a id="4599" class="Symbol">...</a> <a id="4603" class="Symbol">|</a> <a id="4605" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="4613" class="Symbol">|</a> <a id="4615" class="Symbol">_</a> <a id="4617" class="Symbol">|</a> <a id="4619" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="4627" class="Symbol">|</a> <a id="4629" class="Symbol">_</a> <a id="4631" class="Symbol">|</a> <a id="4633" class="Symbol">_</a> <a id="4635" class="Symbol">=</a> <a id="4637" href="SL.html#4169" class="Bound">eq</a>
    <a id="4644" class="Symbol">...</a> <a id="4648" class="Symbol">|</a> <a id="4650" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="4658" class="Symbol">|</a> <a id="4660" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">≡[</a> <a id="4663" href="SL.html#4663" class="Bound">s₁A≡</a> <a id="4668" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">]</a> <a id="4670" class="Symbol">|</a> <a id="4672" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="4677" class="Symbol">_</a>  <a id="4680" class="Symbol">|</a> <a id="4682" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">≡[</a> <a id="4685" href="SL.html#4685" class="Bound">sA≡</a> <a id="4689" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">]</a> <a id="4691" class="Symbol">|</a> <a id="4693" class="Symbol">_</a>
        <a id="4703" class="Symbol">=</a> <a id="4705" class="Keyword">let</a> <a id="4709" href="SL.html#4709" class="Bound">p</a> <a id="4711" class="Symbol">=</a> <a id="4713" href="Prelude.Maps.Interface.html#1523" class="Function">↦-∪⁺ʳ</a> <a id="4719" class="Symbol">{</a><a id="4720" class="Argument">s₂</a> <a id="4723" class="Symbol">=</a> <a id="4725" href="SL.html#3419" class="Bound">s₂</a><a id="4727" class="Symbol">}</a> <a id="4729" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="4731" href="Prelude.Maps.Interface.html#2891" class="Function">⁉⇒∉ᵈ</a> <a id="4736" class="Symbol">(</a><a id="4737" href="Relation.Binary.PropositionalEquality.Core.html#1076" class="Function">subst</a> <a id="4743" href="Data.Maybe.html#852" class="Function">Is-nothing</a> <a id="4754" class="Symbol">(</a><a id="4755" href="Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="4759" href="SL.html#4663" class="Bound">s₁A≡</a><a id="4763" class="Symbol">)</a> <a id="4765" href="Prelude.Decidable.html#184" class="Function">auto</a><a id="4769" class="Symbol">)</a>
          <a id="4781" class="Keyword">in</a> <a id="4784" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="4791" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="4793" href="SL.html#3618" class="Function">A∉₂</a> <a id="4797" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="4799" href="Prelude.Maps.Interface.html#1341" class="Function">⁉⇒∈ᵈ</a> <a id="4804" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="4806" href="Relation.Binary.PropositionalEquality.Core.html#1076" class="Function">subst</a> <a id="4812" href="Data.Maybe.html#801" class="Function">Is-just</a> <a id="4820" class="Symbol">(</a><a id="4821" href="Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="4825" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="4827" href="Relation.Binary.PropositionalEquality.Core.html#1025" class="Function">trans</a> <a id="4833" href="SL.html#4709" class="Bound">p</a> <a id="4835" class="Symbol">(</a><a id="4836" href="Relation.Binary.PropositionalEquality.Core.html#1025" class="Function">trans</a> <a id="4842" href="SL.html#4190" class="Bound">eqᵃ</a> <a id="4846" href="SL.html#4685" class="Bound">sA≡</a><a id="4849" class="Symbol">))</a> <a id="4852" href="Prelude.Decidable.html#184" class="Function">auto</a>
    <a id="4861" class="Symbol">...</a> <a id="4865" class="Symbol">|</a> <a id="4867" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="4872" href="SL.html#4872" class="Bound">vᵃ</a> <a id="4875" class="Symbol">|</a> <a id="4877" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">≡[</a> <a id="4880" href="SL.html#4880" class="Bound">s₁A≡</a> <a id="4885" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">]</a> <a id="4887" class="Symbol">|</a> <a id="4889" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="4897" class="Symbol">|</a> <a id="4899" class="Symbol">_</a> <a id="4901" class="Symbol">|</a> <a id="4903" href="SL.html#4903" class="Bound">eqᵃ′</a>
        <a id="4916" class="Symbol">=</a> <a id="4918" href="Function.Base.html#3544" class="Function Operator">case</a> <a id="4923" href="Relation.Binary.PropositionalEquality.Core.html#1025" class="Function">trans</a> <a id="4929" class="Symbol">(</a><a id="4930" href="Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="4934" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="4936" class="Symbol">(</a><a id="4937" href="Prelude.Maps.Interface.html#1460" class="Function">↦-∪⁺ˡ</a> <a id="4943" class="Symbol">{</a><a id="4944" class="Argument">s₂</a> <a id="4947" class="Symbol">=</a> <a id="4949" href="SL.html#3419" class="Bound">s₂</a><a id="4951" class="Symbol">}</a> <a id="4953" href="SL.html#4880" class="Bound">s₁A≡</a><a id="4957" class="Symbol">))</a> <a id="4960" href="SL.html#4903" class="Bound">eqᵃ′</a> <a id="4965" href="Function.Base.html#3544" class="Function Operator">of</a> <a id="4968" class="Symbol">λ</a> <a id="4970" class="Symbol">()</a>
    <a id="4977" class="Symbol">...</a> <a id="4981" class="Symbol">|</a> <a id="4983" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="4988" href="SL.html#4988" class="Bound">vᵃ</a>  <a id="4992" class="Symbol">|</a> <a id="4994" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">≡[</a> <a id="4997" href="SL.html#4997" class="Bound">s₁A≡</a> <a id="5002" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">]</a> <a id="5004" class="Symbol">|</a> <a id="5006" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="5011" href="SL.html#5011" class="Bound">vᵃ′</a> <a id="5015" class="Symbol">|</a> <a id="5017" class="Symbol">_</a> <a id="5019" class="Symbol">|</a> <a id="5021" href="SL.html#5021" class="Bound">eqᵃ′</a>
      <a id="5032" class="Keyword">with</a> <a id="5037" href="SL.html#4988" class="Bound">vᵃ</a> <a id="5040" href="Prelude.DecEq.html#601" class="Field Operator">≟</a> <a id="5042" href="SL.html#5011" class="Bound">vᵃ′</a>
    <a id="5050" class="Symbol">...</a> <a id="5054" class="Symbol">|</a> <a id="5056" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="5059" href="SL.html#5059" class="Bound">neq</a> <a id="5063" class="Symbol">=</a> <a id="5065" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="5072" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="5074" href="SL.html#5059" class="Bound">neq</a> <a id="5078" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="5080" href="Data.Maybe.Properties.html#937" class="Function">M.just-injective</a> <a id="5097" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="5099" href="Relation.Binary.PropositionalEquality.Core.html#1025" class="Function">trans</a> <a id="5105" class="Symbol">(</a><a id="5106" href="Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="5110" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="5112" href="Prelude.Maps.Interface.html#1460" class="Function">↦-∪⁺ˡ</a> <a id="5118" class="Symbol">{</a><a id="5119" class="Argument">s₂</a> <a id="5122" class="Symbol">=</a> <a id="5124" href="SL.html#3419" class="Bound">s₂</a><a id="5126" class="Symbol">}</a> <a id="5128" class="Bound">s₁A≡</a><a id="5132" class="Symbol">)</a> <a id="5134" class="Bound">eqᵃ′</a>
    <a id="5143" class="Symbol">...</a> <a id="5147" class="Symbol">|</a> <a id="5149" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="5153" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
      <a id="5164" class="Keyword">with</a> <a id="5169" href="SL.html#3423" class="Bound">s₁</a> <a id="5172" href="Prelude.Maps.Interface.html#355" class="Function Operator">⁉</a> <a id="5174" href="SL.html#3408" class="Bound">B</a> <a id="5176" class="Symbol">|</a> <a id="5178" href="Relation.Binary.PropositionalEquality.html#3845" class="Function">inspect</a> <a id="5186" class="Symbol">(</a><a id="5187" href="SL.html#3423" class="Bound">s₁</a> <a id="5190" href="Prelude.Maps.Interface.html#355" class="Function Operator">⁉_</a><a id="5192" class="Symbol">)</a> <a id="5194" href="SL.html#3408" class="Bound">B</a>
         <a id="5205" class="Symbol">|</a> <a id="5207" href="SL.html#3427" class="Bound">s</a>  <a id="5210" href="Prelude.Maps.Interface.html#355" class="Function Operator">⁉</a> <a id="5212" href="SL.html#3408" class="Bound">B</a> <a id="5214" class="Symbol">|</a> <a id="5216" href="Relation.Binary.PropositionalEquality.html#3845" class="Function">inspect</a> <a id="5224" class="Symbol">(</a><a id="5225" href="SL.html#3427" class="Bound">s</a>  <a id="5228" href="Prelude.Maps.Interface.html#355" class="Function Operator">⁉_</a><a id="5230" class="Symbol">)</a> <a id="5232" href="SL.html#3408" class="Bound">B</a>
         <a id="5243" class="Symbol">|</a> <a id="5245" href="SL.html#4212" class="Bound">eqᵇ</a>
    <a id="5253" class="Symbol">...</a> <a id="5257" class="Symbol">|</a> <a id="5259" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="5267" class="Symbol">|</a> <a id="5269" class="Symbol">_</a> <a id="5271" class="Symbol">|</a> <a id="5273" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="5281" class="Symbol">|</a> <a id="5283" class="Symbol">_</a> <a id="5285" class="Symbol">|</a> <a id="5287" class="Symbol">_</a>
        <a id="5297" class="Symbol">=</a> <a id="5299" href="SL.html#4169" class="Bound">eq</a>
    <a id="5306" class="Symbol">...</a> <a id="5310" class="Symbol">|</a> <a id="5312" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="5320" class="Symbol">|</a> <a id="5322" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">≡[</a> <a id="5325" href="SL.html#5325" class="Bound">s₁B≡</a> <a id="5330" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">]</a> <a id="5332" class="Symbol">|</a> <a id="5334" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="5339" class="Symbol">_</a>  <a id="5342" class="Symbol">|</a> <a id="5344" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">≡[</a> <a id="5347" href="SL.html#5347" class="Bound">sB≡</a> <a id="5351" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">]</a> <a id="5353" class="Symbol">|</a> <a id="5355" class="Symbol">_</a>
        <a id="5365" class="Symbol">=</a> <a id="5367" class="Keyword">let</a> <a id="5371" href="SL.html#5371" class="Bound">p</a> <a id="5373" class="Symbol">=</a> <a id="5375" href="Prelude.Maps.Interface.html#1523" class="Function">↦-∪⁺ʳ</a> <a id="5381" class="Symbol">{</a><a id="5382" class="Argument">s₂</a> <a id="5385" class="Symbol">=</a> <a id="5387" href="SL.html#3419" class="Bound">s₂</a><a id="5389" class="Symbol">}</a> <a id="5391" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="5393" href="Prelude.Maps.Interface.html#2891" class="Function">⁉⇒∉ᵈ</a> <a id="5398" class="Symbol">(</a><a id="5399" href="Relation.Binary.PropositionalEquality.Core.html#1076" class="Function">subst</a> <a id="5405" href="Data.Maybe.html#852" class="Function">Is-nothing</a> <a id="5416" class="Symbol">(</a><a id="5417" href="Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="5421" href="SL.html#5325" class="Bound">s₁B≡</a><a id="5425" class="Symbol">)</a> <a id="5427" href="Prelude.Decidable.html#184" class="Function">auto</a><a id="5431" class="Symbol">)</a>
          <a id="5443" class="Keyword">in</a> <a id="5446" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="5453" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="5455" href="SL.html#3673" class="Function">B∉₂</a> <a id="5459" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="5461" href="Prelude.Maps.Interface.html#1341" class="Function">⁉⇒∈ᵈ</a> <a id="5466" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="5468" href="Relation.Binary.PropositionalEquality.Core.html#1076" class="Function">subst</a> <a id="5474" href="Data.Maybe.html#801" class="Function">Is-just</a> <a id="5482" class="Symbol">(</a><a id="5483" href="Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="5487" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="5489" href="Relation.Binary.PropositionalEquality.Core.html#1025" class="Function">trans</a> <a id="5495" href="SL.html#5371" class="Bound">p</a> <a id="5497" class="Symbol">(</a><a id="5498" href="Relation.Binary.PropositionalEquality.Core.html#1025" class="Function">trans</a> <a id="5504" href="SL.html#4212" class="Bound">eqᵇ</a> <a id="5508" href="SL.html#5347" class="Bound">sB≡</a><a id="5511" class="Symbol">))</a> <a id="5514" href="Prelude.Decidable.html#184" class="Function">auto</a>
    <a id="5523" class="Symbol">...</a> <a id="5527" class="Symbol">|</a> <a id="5529" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="5534" href="SL.html#5534" class="Bound">vᵇ</a> <a id="5537" class="Symbol">|</a> <a id="5539" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">≡[</a> <a id="5542" href="SL.html#5542" class="Bound">s₁B≡</a> <a id="5547" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">]</a> <a id="5549" class="Symbol">|</a> <a id="5551" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="5559" class="Symbol">|</a> <a id="5561" class="Symbol">_</a> <a id="5563" class="Symbol">|</a> <a id="5565" href="SL.html#5565" class="Bound">eqᵇ′</a>
        <a id="5578" class="Symbol">=</a> <a id="5580" href="Function.Base.html#3544" class="Function Operator">case</a> <a id="5585" href="Relation.Binary.PropositionalEquality.Core.html#1025" class="Function">trans</a> <a id="5591" class="Symbol">(</a><a id="5592" href="Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="5596" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="5598" class="Symbol">(</a><a id="5599" href="Prelude.Maps.Interface.html#1460" class="Function">↦-∪⁺ˡ</a> <a id="5605" class="Symbol">{</a><a id="5606" class="Argument">s₂</a> <a id="5609" class="Symbol">=</a> <a id="5611" href="SL.html#3419" class="Bound">s₂</a><a id="5613" class="Symbol">}</a> <a id="5615" href="SL.html#5542" class="Bound">s₁B≡</a><a id="5619" class="Symbol">))</a> <a id="5622" href="SL.html#5565" class="Bound">eqᵇ′</a> <a id="5627" href="Function.Base.html#3544" class="Function Operator">of</a> <a id="5630" class="Symbol">λ</a> <a id="5632" class="Symbol">()</a>
    <a id="5639" class="Symbol">...</a> <a id="5643" class="Symbol">|</a> <a id="5645" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="5650" href="SL.html#5650" class="Bound">vᵇ</a>  <a id="5654" class="Symbol">|</a> <a id="5656" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">≡[</a> <a id="5659" href="SL.html#5659" class="Bound">s₁B≡</a> <a id="5664" href="Relation.Binary.PropositionalEquality.html#3819" class="InductiveConstructor Operator">]</a> <a id="5666" class="Symbol">|</a> <a id="5668" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="5673" href="SL.html#5673" class="Bound">vᵇ′</a> <a id="5677" class="Symbol">|</a> <a id="5679" class="Symbol">_</a> <a id="5681" class="Symbol">|</a> <a id="5683" href="SL.html#5683" class="Bound">eqᵇ′</a>
      <a id="5694" class="Keyword">with</a> <a id="5699" href="SL.html#5650" class="Bound">vᵇ</a> <a id="5702" href="Prelude.DecEq.html#601" class="Field Operator">≟</a> <a id="5704" href="SL.html#5673" class="Bound">vᵇ′</a>
    <a id="5712" class="Symbol">...</a> <a id="5716" class="Symbol">|</a> <a id="5718" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="5721" href="SL.html#5721" class="Bound">neq</a> <a id="5725" class="Symbol">=</a> <a id="5727" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="5734" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="5736" href="SL.html#5721" class="Bound">neq</a> <a id="5740" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="5742" href="Data.Maybe.Properties.html#937" class="Function">M.just-injective</a> <a id="5759" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="5761" href="Relation.Binary.PropositionalEquality.Core.html#1025" class="Function">trans</a> <a id="5767" class="Symbol">(</a><a id="5768" href="Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="5772" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="5774" href="Prelude.Maps.Interface.html#1460" class="Function">↦-∪⁺ˡ</a> <a id="5780" class="Symbol">{</a><a id="5781" class="Argument">s₂</a> <a id="5784" class="Symbol">=</a> <a id="5786" href="SL.html#3419" class="Bound">s₂</a><a id="5788" class="Symbol">}</a> <a id="5790" class="Bound">s₁B≡</a><a id="5794" class="Symbol">)</a> <a id="5796" class="Bound">eqᵇ′</a>
    <a id="5805" class="Symbol">...</a> <a id="5809" class="Symbol">|</a> <a id="5811" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="5815" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
      <a id="5826" class="Keyword">with</a> <a id="5831" href="SL.html#3404" class="Bound">v</a> <a id="5833" href="Data.Nat.Properties.html#4678" class="Function Operator">≤?</a> <a id="5836" class="Bound">vᵃ</a>
    <a id="5843" class="Symbol">...</a> <a id="5847" class="Symbol">|</a> <a id="5849" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a>  <a id="5853" class="Symbol">_</a> <a id="5855" class="Symbol">=</a> <a id="5857" href="SL.html#4169" class="Bound">eq</a>
    <a id="5864" class="Symbol">...</a> <a id="5868" class="Symbol">|</a> <a id="5870" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="5874" class="Symbol">_</a> <a id="5876" class="Symbol">=</a> <a id="5878" href="Prelude.Maps.Interface.html#6810" class="Function">≡-cong-update</a> <a id="5892" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="5894" href="Prelude.Maps.Interface.html#6810" class="Function">≡-cong-update</a> <a id="5908" href="SL.html#4169" class="Bound">eq</a>

    <a id="5916" href="SL.html#5916" class="Function">p′</a> <a id="5919" class="Symbol">:</a> <a id="5921" href="Prelude.Maps.Interface.html#1103" class="Function Operator">⟨</a> <a id="5923" href="Prelude.Maps.Interface.html#8784" class="Function">run</a> <a id="5927" href="Ledger.html#1860" class="Function Operator">[</a> <a id="5929" href="SL.html#3398" class="Bound">A</a> <a id="5931" href="Ledger.html#1860" class="Function Operator">∣</a> <a id="5933" href="SL.html#3404" class="Bound">v</a> <a id="5935" href="Ledger.html#1860" class="Function Operator">↦</a> <a id="5937" href="SL.html#3408" class="Bound">B</a> <a id="5939" href="Ledger.html#1860" class="Function Operator">]</a> <a id="5941" href="SL.html#3423" class="Bound">s₁</a> <a id="5944" href="Prelude.Maps.Interface.html#1103" class="Function Operator">⊎</a> <a id="5946" href="SL.html#3419" class="Bound">s₂</a> <a id="5949" href="Prelude.Maps.Interface.html#1103" class="Function Operator">⟩≡</a> <a id="5952" href="Prelude.Maps.Interface.html#8784" class="Function">run</a> <a id="5956" href="Ledger.html#1860" class="Function Operator">[</a> <a id="5958" href="SL.html#3398" class="Bound">A</a> <a id="5960" href="Ledger.html#1860" class="Function Operator">∣</a> <a id="5962" href="SL.html#3404" class="Bound">v</a> <a id="5964" href="Ledger.html#1860" class="Function Operator">↦</a> <a id="5966" href="SL.html#3408" class="Bound">B</a> <a id="5968" href="Ledger.html#1860" class="Function Operator">]</a> <a id="5970" href="SL.html#3427" class="Bound">s</a>
    <a id="5976" href="SL.html#5916" class="Function">p′</a> <a id="5979" class="Symbol">=</a> <a id="5981" href="SL.html#3736" class="Function">p₁</a> <a id="5984" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5986" href="SL.html#4094" class="Function">p₂</a>

<a id="5990" class="Comment">-- The proof of the frame rule from separation logic, allowing us to prove formulas in minimal contexts</a>
<a id="6094" class="Comment">-- and then weaken our results to the desired context (assuming the rest of the context is disjoint).</a>
<a id="[FRAME]"></a><a id="6196" href="SL.html#6196" class="Function">[FRAME]</a> <a id="6204" class="Symbol">:</a> <a id="6206" class="Symbol">∀</a> <a id="6208" href="SL.html#6208" class="Bound">R</a>
  <a id="6212" class="Symbol">→</a> <a id="6214" href="Ledger.html#762" class="Generalizable">l</a> <a id="6216" href="SL.html#810" class="Function Operator">♯♯</a> <a id="6219" href="SL.html#6208" class="Bound">R</a>
  <a id="6223" class="Symbol">→</a> <a id="6225" href="HoareLogic.html#1694" class="Datatype Operator">⟨</a> <a id="6227" href="HoareLogic.html#948" class="Generalizable">P</a> <a id="6229" href="HoareLogic.html#1694" class="Datatype Operator">⟩</a> <a id="6231" href="Ledger.html#762" class="Generalizable">l</a> <a id="6233" href="HoareLogic.html#1694" class="Datatype Operator">⟨</a> <a id="6235" href="HoareLogic.html#959" class="Generalizable">Q</a> <a id="6237" href="HoareLogic.html#1694" class="Datatype Operator">⟩</a>
    <a id="6243" class="Comment">-----------------------</a>
  <a id="6269" class="Symbol">→</a> <a id="6271" href="HoareLogic.html#1694" class="Datatype Operator">⟨</a> <a id="6273" href="HoareLogic.html#948" class="Generalizable">P</a> <a id="6275" href="HoareLogic.html#710" class="InductiveConstructor Operator">`∗</a> <a id="6278" href="SL.html#6208" class="Bound">R</a> <a id="6280" href="HoareLogic.html#1694" class="Datatype Operator">⟩</a> <a id="6282" href="Ledger.html#762" class="Generalizable">l</a> <a id="6284" href="HoareLogic.html#1694" class="Datatype Operator">⟨</a> <a id="6286" href="HoareLogic.html#959" class="Generalizable">Q</a> <a id="6288" href="HoareLogic.html#710" class="InductiveConstructor Operator">`∗</a> <a id="6291" href="SL.html#6208" class="Bound">R</a> <a id="6293" href="HoareLogic.html#1694" class="Datatype Operator">⟩</a>
<a id="6295" href="SL.html#6196" class="Function">[FRAME]</a> <a id="6303" class="Symbol">{</a><a id="6304" href="SL.html#6304" class="Bound">l</a><a id="6305" class="Symbol">}{</a><a id="6307" href="SL.html#6307" class="Bound">P</a><a id="6308" class="Symbol">}{</a><a id="6310" href="SL.html#6310" class="Bound">Q</a><a id="6311" class="Symbol">}</a> <a id="6313" href="SL.html#6313" class="Bound">R</a> <a id="6315" href="SL.html#6315" class="Bound">l♯R</a> <a id="6319" href="SL.html#6319" class="Bound">PlQ</a> <a id="6323" class="Symbol">=</a> <a id="6325" href="HoareLogic.html#2737" class="Function">denot⇒axiom</a> <a id="6337" href="SL.html#6351" class="Function">d</a>
  <a id="6341" class="Keyword">where</a>
    <a id="6351" href="SL.html#6351" class="Function">d</a> <a id="6353" class="Symbol">:</a> <a id="6355" class="Symbol">(</a><a id="6356" href="SL.html#6307" class="Bound">P</a> <a id="6358" href="HoareLogic.html#710" class="InductiveConstructor Operator">`∗</a> <a id="6361" href="SL.html#6313" class="Bound">R</a><a id="6362" class="Symbol">)</a> <a id="6364" href="HoareLogic.html#1505" class="Function Operator">`⊢</a> <a id="6367" class="Symbol">(</a><a id="6368" href="SL.html#6310" class="Bound">Q</a> <a id="6370" href="HoareLogic.html#710" class="InductiveConstructor Operator">`∗</a> <a id="6373" href="SL.html#6313" class="Bound">R</a><a id="6374" class="Symbol">)</a> <a id="6376" href="HoareLogic.html#781" class="InductiveConstructor Operator">`∘⟦</a> <a id="6380" href="SL.html#6304" class="Bound">l</a> <a id="6382" href="HoareLogic.html#781" class="InductiveConstructor Operator">⟧</a>
    <a id="6388" href="SL.html#6351" class="Function">d</a> <a id="6390" class="Symbol">{</a><a id="6391" href="SL.html#6391" class="Bound">s</a><a id="6392" class="Symbol">}</a> <a id="6394" class="Symbol">(</a><a id="6395" href="SL.html#6395" class="Bound">s₁</a> <a id="6398" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6400" href="SL.html#6400" class="Bound">s₂</a> <a id="6403" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6405" href="SL.html#6405" class="Bound">s₁♯s₂</a> <a id="6411" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6413" href="SL.html#6413" class="Bound">Ps₁</a> <a id="6417" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6419" href="SL.html#6419" class="Bound">Rs₂</a><a id="6422" class="Symbol">)</a> <a id="6424" class="Symbol">=</a> <a id="6426" href="Ledger.html#1048" class="Field Operator">⟦</a> <a id="6428" href="SL.html#6304" class="Bound">l</a> <a id="6430" href="Ledger.html#1048" class="Field Operator">⟧</a> <a id="6432" href="SL.html#6395" class="Bound">s₁</a> <a id="6435" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6437" href="SL.html#6400" class="Bound">s₂</a>  <a id="6441" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6443" href="SL.html#6542" class="Function">p</a> <a id="6445" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6447" href="SL.html#6478" class="Function">Qs₁′</a> <a id="6452" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6454" href="SL.html#6419" class="Bound">Rs₂</a>
      <a id="6464" class="Keyword">where</a>
        <a id="6478" href="SL.html#6478" class="Function">Qs₁′</a> <a id="6483" class="Symbol">:</a> <a id="6485" href="SL.html#6310" class="Bound">Q</a> <a id="6487" href="HoareLogic.html#1566" class="Function Operator">∙</a> <a id="6489" href="Ledger.html#1048" class="Field Operator">⟦</a> <a id="6491" href="SL.html#6304" class="Bound">l</a> <a id="6493" href="Ledger.html#1048" class="Field Operator">⟧</a> <a id="6495" href="SL.html#6395" class="Bound">s₁</a>
        <a id="6506" href="SL.html#6478" class="Function">Qs₁′</a> <a id="6511" class="Symbol">=</a> <a id="6513" href="HoareLogic.html#2554" class="Function">axiom⇒denot</a> <a id="6525" href="SL.html#6319" class="Bound">PlQ</a> <a id="6529" href="SL.html#6413" class="Bound">Ps₁</a>

        <a id="6542" href="SL.html#6542" class="Function">p</a> <a id="6544" class="Symbol">:</a> <a id="6546" href="Prelude.Maps.Interface.html#1103" class="Function Operator">⟨</a> <a id="6548" href="Ledger.html#1048" class="Field Operator">⟦</a> <a id="6550" href="SL.html#6304" class="Bound">l</a> <a id="6552" href="Ledger.html#1048" class="Field Operator">⟧</a> <a id="6554" href="SL.html#6395" class="Bound">s₁</a> <a id="6557" href="Prelude.Maps.Interface.html#1103" class="Function Operator">⊎</a> <a id="6559" href="SL.html#6400" class="Bound">s₂</a> <a id="6562" href="Prelude.Maps.Interface.html#1103" class="Function Operator">⟩≡</a> <a id="6565" href="Ledger.html#1048" class="Field Operator">⟦</a> <a id="6567" href="SL.html#6304" class="Bound">l</a> <a id="6569" href="Ledger.html#1048" class="Field Operator">⟧</a> <a id="6571" href="SL.html#6391" class="Bound">s</a>
        <a id="6581" href="SL.html#6542" class="Function">p</a> <a id="6583" class="Symbol">=</a> <a id="6585" href="SL.html#3229" class="Function">frame-helper</a> <a id="6598" class="Symbol">{</a><a id="6599" class="Argument">R</a> <a id="6601" class="Symbol">=</a> <a id="6603" href="SL.html#6313" class="Bound">R</a><a id="6604" class="Symbol">}</a> <a id="6606" href="SL.html#6315" class="Bound">l♯R</a> <a id="6610" href="SL.html#6419" class="Bound">Rs₂</a> <a id="6614" href="SL.html#6405" class="Bound">s₁♯s₂</a>
</pre></body></html>