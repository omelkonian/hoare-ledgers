<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>EUTxOErr.DoubleSatisfaction</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/hoare-ledgers/tree/master///EUTxOErr/DoubleSatisfaction.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="EUTxOErr.DoubleSatisfaction.html" class="Module">EUTxOErr.DoubleSatisfaction</a> <a id="36" class="Keyword">where</a>

<a id="43" class="Keyword">open</a> <a id="48" class="Keyword">import</a> <a id="55" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="67" class="Symbol">;</a> <a id="69" class="Keyword">open</a> <a id="74" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="84" class="Keyword">open</a> <a id="89" class="Keyword">import</a> <a id="96" href="Prelude.General.html" class="Module">Prelude.General</a> <a id="112" class="Keyword">using</a> <a id="118" class="Symbol">(</a><a id="119" href="Prelude.General.html#4125" class="Function">true⇒T</a><a id="125" class="Symbol">)</a>
<a id="127" class="Keyword">open</a> <a id="132" class="Keyword">import</a> <a id="139" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="153" class="Keyword">open</a> <a id="158" class="Keyword">import</a> <a id="165" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="183" class="Keyword">open</a> <a id="188" class="Keyword">import</a> <a id="195" href="Prelude.Membership.html" class="Module">Prelude.Membership</a>
<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Prelude.Allable.html" class="Module">Prelude.Allable</a>
<a id="242" class="Keyword">open</a> <a id="247" class="Keyword">import</a> <a id="254" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>

<a id="278" class="Keyword">open</a> <a id="283" class="Keyword">import</a> <a id="290" href="EUTxOErr.html" class="Module">EUTxOErr</a>
  <a id="301" class="Keyword">hiding</a> <a id="308" class="Symbol">(</a><a id="309" href="EUTxOErr.Ledger.html#514" class="Generalizable">s</a><a id="310" class="Symbol">)</a>
  <a id="314" class="Keyword">renaming</a> <a id="323" class="Symbol">(</a><a id="324" href="EUTxOErr.EUTxO.html#3865" class="Function">S</a> <a id="326" class="Symbol">to</a> <a id="329" class="Function">UTxOSet</a><a id="336" class="Symbol">)</a>
  <a id="340" class="Keyword">renaming</a> <a id="349" class="Symbol">(</a><a id="350" href="Common.Maps.html#1257" class="Function Operator">_‼_</a> <a id="354" class="Symbol">to</a> <a id="357" class="Function Operator">_‼ᵐ_</a><a id="361" class="Symbol">)</a>
<a id="363" class="Keyword">open</a> <a id="368" class="Keyword">import</a> <a id="375" href="Prelude.Lists.Indexed.html" class="Module">Prelude.Lists.Indexed</a> <a id="397" class="Keyword">using</a> <a id="403" class="Symbol">(</a><a id="404" href="Prelude.Lists.Indexed.html#650" class="Function Operator">_‼_</a><a id="407" class="Symbol">)</a>

<a id="410" class="Keyword">data</a> <a id="S"></a><a id="415" href="EUTxOErr.DoubleSatisfaction.html#415" class="Datatype">S</a> <a id="417" class="Symbol">:</a> <a id="419" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="424" class="Keyword">where</a>
  <a id="S.◇"></a><a id="432" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a> <a id="S.◆"></a><a id="434" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="436" class="Symbol">:</a> <a id="438" href="EUTxOErr.DoubleSatisfaction.html#415" class="Datatype">S</a>

<a id="toggleS"></a><a id="441" href="EUTxOErr.DoubleSatisfaction.html#441" class="Function">toggleS</a> <a id="449" class="Symbol">:</a> <a id="451" href="EUTxOErr.DoubleSatisfaction.html#415" class="Datatype">S</a> <a id="453" class="Symbol">→</a> <a id="455" href="EUTxOErr.DoubleSatisfaction.html#415" class="Datatype">S</a>
<a id="457" href="EUTxOErr.DoubleSatisfaction.html#441" class="Function">toggleS</a> <a id="465" class="Symbol">=</a> <a id="467" class="Symbol">λ</a> <a id="469" class="Keyword">where</a>
  <a id="477" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a> <a id="479" class="Symbol">→</a> <a id="481" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a>
  <a id="485" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="487" class="Symbol">→</a> <a id="489" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a>

<a id="492" class="Keyword">instance</a>
  <a id="503" href="EUTxOErr.DoubleSatisfaction.html#503" class="Function">_</a> <a id="505" class="Symbol">:</a> <a id="507" href="Common.Data.html#246" class="Record">ToData</a> <a id="514" href="EUTxOErr.DoubleSatisfaction.html#415" class="Datatype">S</a>
  <a id="518" class="Symbol">_</a> <a id="520" class="Symbol">=</a> <a id="522" class="Keyword">record</a> <a id="529" class="Symbol">{</a><a id="530" href="Common.Data.html#289" class="Field">serialise</a> <a id="540" class="Symbol">=</a> <a id="542" href="EUTxOErr.DoubleSatisfaction.html#606" class="Function">ser</a><a id="545" class="Symbol">;</a> <a id="547" href="Common.Data.html#318" class="Field">serialise-inj</a> <a id="561" class="Symbol">=</a> <a id="563" href="EUTxOErr.DoubleSatisfaction.html#820" class="Function">serInj</a><a id="569" class="Symbol">;</a> <a id="571" href="Common.Data.html#359" class="Field">deserialise</a> <a id="583" class="Symbol">=</a> <a id="585" href="EUTxOErr.DoubleSatisfaction.html#653" class="Function">deser</a><a id="590" class="Symbol">}</a>
    <a id="596" class="Keyword">where</a>
    <a id="606" href="EUTxOErr.DoubleSatisfaction.html#606" class="Function">ser</a> <a id="610" class="Symbol">=</a> <a id="612" class="Symbol">λ</a> <a id="614" class="Keyword">where</a>
      <a id="626" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a> <a id="628" class="Symbol">→</a> <a id="630" class="String">&quot;◇&quot;</a>
      <a id="640" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="642" class="Symbol">→</a> <a id="644" class="String">&quot;◆&quot;</a>

    <a id="653" href="EUTxOErr.DoubleSatisfaction.html#653" class="Function">deser</a> <a id="659" class="Symbol">:</a> <a id="661" class="Symbol">_</a>
    <a id="667" href="EUTxOErr.DoubleSatisfaction.html#653" class="Function">deser</a> <a id="673" href="EUTxOErr.DoubleSatisfaction.html#673" class="Bound">d</a> <a id="675" class="Symbol">=</a>
      <a id="683" href="Relation.Nullary.Decidable.Core.html#3645" class="Function">Nullary.map′</a>
        <a id="704" href="Data.Sum.Base.html#929" class="Function Operator">Sum.[</a> <a id="710" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a> <a id="712" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,_</a> <a id="715" href="Data.Sum.Base.html#929" class="Function Operator">,</a> <a id="717" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="719" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,_</a> <a id="722" href="Data.Sum.Base.html#929" class="Function Operator">]</a>
        <a id="732" class="Symbol">(λ</a> <a id="735" class="Keyword">where</a> <a id="741" class="Symbol">(</a><a id="742" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a> <a id="744" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="746" href="EUTxOErr.DoubleSatisfaction.html#746" class="Bound">d≡</a><a id="748" class="Symbol">)</a> <a id="750" class="Symbol">→</a> <a id="752" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="757" href="EUTxOErr.DoubleSatisfaction.html#746" class="Bound">d≡</a><a id="759" class="Symbol">;</a> <a id="761" class="Symbol">(</a><a id="762" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="764" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="766" href="EUTxOErr.DoubleSatisfaction.html#766" class="Bound">d≡</a><a id="768" class="Symbol">)</a> <a id="770" class="Symbol">→</a> <a id="772" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="777" href="EUTxOErr.DoubleSatisfaction.html#766" class="Bound">d≡</a><a id="779" class="Symbol">)</a>
        <a id="789" href="Prelude.Decidable.Core.html#475" class="Function Operator">¿</a> <a id="791" class="Symbol">(</a><a id="792" href="EUTxOErr.DoubleSatisfaction.html#673" class="Bound">d</a> <a id="794" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="796" class="String">&quot;◇&quot;</a><a id="799" class="Symbol">)</a> <a id="801" href="Data.Sum.Base.html#743" class="Datatype Operator">⊎</a> <a id="803" class="Symbol">(</a><a id="804" href="EUTxOErr.DoubleSatisfaction.html#673" class="Bound">d</a> <a id="806" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="808" class="String">&quot;◆&quot;</a><a id="811" class="Symbol">)</a> <a id="813" href="Prelude.Decidable.Core.html#475" class="Function Operator">¿</a>

    <a id="820" href="EUTxOErr.DoubleSatisfaction.html#820" class="Function">serInj</a> <a id="827" class="Symbol">:</a> <a id="829" href="Prelude.Init.html#1705" class="Function">Injective≡</a> <a id="840" href="EUTxOErr.DoubleSatisfaction.html#606" class="Function">ser</a>
    <a id="848" href="EUTxOErr.DoubleSatisfaction.html#820" class="Function">serInj</a> <a id="855" class="Symbol">{</a><a id="856" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a><a id="857" class="Symbol">}{</a><a id="859" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a><a id="860" class="Symbol">}</a> <a id="862" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="867" class="Symbol">=</a> <a id="869" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="878" href="EUTxOErr.DoubleSatisfaction.html#820" class="Function">serInj</a> <a id="885" class="Symbol">{</a><a id="886" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a><a id="887" class="Symbol">}{</a><a id="889" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a><a id="890" class="Symbol">}</a> <a id="892" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="897" class="Symbol">=</a> <a id="899" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="908" href="EUTxOErr.DoubleSatisfaction.html#820" class="Function">serInj</a> <a id="915" class="Symbol">{</a><a id="916" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a><a id="917" class="Symbol">}{</a><a id="919" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a><a id="920" class="Symbol">}</a> <a id="922" class="Symbol">()</a>
    <a id="929" href="EUTxOErr.DoubleSatisfaction.html#820" class="Function">serInj</a> <a id="936" class="Symbol">{</a><a id="937" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a><a id="938" class="Symbol">}{</a><a id="940" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a><a id="941" class="Symbol">}</a> <a id="943" class="Symbol">()</a>

<a id="947" class="Comment">-- ** Validator</a>
<a id="toggle"></a><a id="963" href="EUTxOErr.DoubleSatisfaction.html#963" class="Function">toggle</a> <a id="970" class="Symbol">:</a> <a id="972" href="EUTxOErr.EUTxO.html#2161" class="Function">Validator</a>
<a id="982" href="EUTxOErr.DoubleSatisfaction.html#963" class="Function">toggle</a> <a id="989" href="EUTxOErr.DoubleSatisfaction.html#989" class="Bound">toggle♯</a> <a id="997" class="Keyword">record</a> <a id="1004" class="Symbol">{</a><a id="1005" href="EUTxOErr.EUTxO.html#1548" class="Field">inputs</a> <a id="1012" class="Symbol">=</a> <a id="1014" href="EUTxOErr.DoubleSatisfaction.html#1014" class="Bound">is</a><a id="1016" class="Symbol">;</a> <a id="1018" href="EUTxOErr.EUTxO.html#1583" class="Field">outputs</a> <a id="1026" class="Symbol">=</a> <a id="1028" href="EUTxOErr.DoubleSatisfaction.html#1028" class="Bound">os</a><a id="1030" class="Symbol">}</a> <a id="1032" class="Symbol">_</a> <a id="1034" href="EUTxOErr.DoubleSatisfaction.html#1034" class="Bound">d</a>
  <a id="1038" class="Keyword">with</a> <a id="1043" href="Common.Data.html#359" class="Field">deserialise</a> <a id="1055" class="Symbol">{</a><a id="1056" class="Argument">A</a> <a id="1058" class="Symbol">=</a> <a id="1060" href="EUTxOErr.DoubleSatisfaction.html#415" class="Datatype">S</a><a id="1061" class="Symbol">}</a> <a id="1063" href="EUTxOErr.DoubleSatisfaction.html#1034" class="Bound">d</a>
<a id="1065" class="Symbol">...</a> <a id="1069" class="Symbol">|</a> <a id="1071" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="1074" class="Symbol">_</a> <a id="1076" class="Symbol">=</a> <a id="1078" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>
<a id="1084" class="Symbol">...</a> <a id="1088" class="Symbol">|</a> <a id="1090" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="1094" class="Symbol">(</a><a id="1095" href="EUTxOErr.DoubleSatisfaction.html#1095" class="Bound">s</a> <a id="1097" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1099" class="Symbol">_)</a> <a id="1102" class="Symbol">=</a> <a id="1104" href="Relation.Nullary.Decidable.Core.html#1321" class="Function Operator">⌊</a> <a id="1106" href="EUTxOErr.DoubleSatisfaction.html#1156" class="Function">consume◇</a> <a id="1115" href="Prelude.Membership.html#455" class="Field Operator">∈?</a> <a id="1118" class="Bound">is</a> <a id="1121" href="Relation.Nullary.Decidable.Core.html#1321" class="Function Operator">⌋</a> <a id="1123" href="Data.Bool.Base.html#995" class="Function Operator">∧</a> <a id="1125" href="Relation.Nullary.Decidable.Core.html#1321" class="Function Operator">⌊</a> <a id="1127" href="EUTxOErr.DoubleSatisfaction.html#1293" class="Function">produce◆</a> <a id="1136" href="Prelude.Membership.html#455" class="Field Operator">∈?</a> <a id="1139" class="Bound">os</a> <a id="1142" href="Relation.Nullary.Decidable.Core.html#1321" class="Function Operator">⌋</a>
  <a id="1146" class="Keyword">where</a>
    <a id="1156" href="EUTxOErr.DoubleSatisfaction.html#1156" class="Function">consume◇</a> <a id="1165" class="Symbol">=</a> <a id="1167" class="Keyword">record</a>
      <a id="1180" class="Symbol">{</a> <a id="1182" href="EUTxOErr.EUTxO.html#1274" class="Field">outputRef</a> <a id="1192" class="Symbol">=</a> <a id="1194" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">⦉</a> <a id="1196" href="Common.Data.html#289" class="Field">serialise</a> <a id="1206" href="EUTxOErr.DoubleSatisfaction.html#1095" class="Bound">s</a> <a id="1208" href="Common.Hash.html#96" class="Postulate Operator">♯</a> <a id="1210" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">⦊</a> <a id="1212" class="Number">1</a> <a id="1214" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="1216" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">at</a> <a id="1219" class="Bound">toggle♯</a>
      <a id="1233" class="Symbol">;</a> <a id="1235" href="EUTxOErr.EUTxO.html#1377" class="Field">validatorHash</a> <a id="1249" class="Symbol">=</a> <a id="1251" class="Bound">toggle♯</a>
      <a id="1265" class="Symbol">;</a> <a id="1267" href="EUTxOErr.EUTxO.html#1408" class="Field">redeemerHash</a> <a id="1280" class="Symbol">=</a> <a id="1282" class="String">&quot;&quot;</a> <a id="1285" href="Common.Hash.html#96" class="Postulate Operator">♯</a> <a id="1287" class="Symbol">}</a>
    <a id="1293" href="EUTxOErr.DoubleSatisfaction.html#1293" class="Function">produce◆</a> <a id="1302" class="Symbol">=</a> <a id="1304" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">⦉</a> <a id="1306" href="Common.Data.html#289" class="Field">serialise</a> <a id="1316" class="Symbol">(</a><a id="1317" href="EUTxOErr.DoubleSatisfaction.html#441" class="Function">toggleS</a> <a id="1325" href="EUTxOErr.DoubleSatisfaction.html#1095" class="Bound">s</a><a id="1326" class="Symbol">)</a> <a id="1328" href="Common.Hash.html#96" class="Postulate Operator">♯</a> <a id="1330" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">⦊</a> <a id="1332" class="Number">1</a> <a id="1334" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="1336" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">at</a> <a id="1339" class="Bound">toggle♯</a>
<a id="toggle♯"></a><a id="1347" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a> <a id="1355" class="Symbol">=</a> <a id="1357" href="EUTxOErr.DoubleSatisfaction.html#963" class="Function">toggle</a> <a id="1364" href="Common.Hash.html#96" class="Postulate Operator">♯</a>

<a id="1367" class="Comment">-- Fix one direction for now: ◇ ↝ ◆</a>
<a id="consume◇"></a><a id="1403" href="EUTxOErr.DoubleSatisfaction.html#1403" class="Function">consume◇</a> <a id="1412" class="Symbol">=</a> <a id="1414" href="EUTxOErr.EUTxO.html#1243" class="Record">InputInfo</a> <a id="1424" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1426" class="Keyword">record</a>
  <a id="1435" class="Symbol">{</a> <a id="1437" href="EUTxOErr.EUTxO.html#1274" class="Field">outputRef</a>     <a id="1451" class="Symbol">=</a> <a id="1453" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">⦉</a> <a id="1455" href="Common.Data.html#289" class="Field">serialise</a> <a id="1465" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a> <a id="1467" href="Common.Hash.html#96" class="Postulate Operator">♯</a> <a id="1469" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">⦊</a> <a id="1471" class="Number">1</a> <a id="1473" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="1475" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">at</a> <a id="1478" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a>
  <a id="1488" class="Symbol">;</a> <a id="1490" href="EUTxOErr.EUTxO.html#1377" class="Field">validatorHash</a> <a id="1504" class="Symbol">=</a> <a id="1506" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a>
  <a id="1516" class="Symbol">;</a> <a id="1518" href="EUTxOErr.EUTxO.html#1408" class="Field">redeemerHash</a>  <a id="1532" class="Symbol">=</a> <a id="1534" class="String">&quot;&quot;</a> <a id="1537" href="Common.Hash.html#96" class="Postulate Operator">♯</a> <a id="1539" class="Symbol">}</a>
<a id="produce◆"></a><a id="1541" href="EUTxOErr.DoubleSatisfaction.html#1541" class="Function">produce◆</a> <a id="1550" class="Symbol">=</a> <a id="1552" href="EUTxOErr.EUTxO.html#993" class="Record">OutputInfo</a> <a id="1563" href="Function.Base.html#4571" class="Function Operator">∋</a>
  <a id="1567" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">⦉</a> <a id="1569" href="Common.Data.html#289" class="Field">serialise</a> <a id="1579" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="1581" href="Common.Hash.html#96" class="Postulate Operator">♯</a> <a id="1583" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">⦊</a> <a id="1585" class="Number">1</a> <a id="1587" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="1589" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">at</a> <a id="1592" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a>

<a id="1601" class="Keyword">module</a> <a id="1608" href="EUTxOErr.DoubleSatisfaction.html#1608" class="Module">_</a>
  <a id="1612" class="Symbol">{</a><a id="1613" href="EUTxOErr.DoubleSatisfaction.html#1613" class="Bound">r</a> <a id="1615" class="Symbol">:</a> <a id="1617" href="Common.Data.html#224" class="Function">DATA</a><a id="1621" class="Symbol">}</a> <a id="1623" class="Symbol">{</a><a id="1624" href="EUTxOErr.DoubleSatisfaction.html#1624" class="Bound">txi</a> <a id="1628" class="Symbol">:</a> <a id="1630" href="EUTxOErr.EUTxO.html#1520" class="Record">TxInfo</a><a id="1636" class="Symbol">}</a>
  <a id="1640" class="Symbol">(</a><a id="1641" class="Keyword">let</a> <a id="1645" href="EUTxOErr.DoubleSatisfaction.html#1645" class="Bound">d</a> <a id="1647" class="Symbol">=</a> <a id="1649" href="Common.Data.html#289" class="Field">serialise</a> <a id="1659" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a>
       <a id="1668" class="Keyword">record</a> <a id="1675" class="Symbol">{</a><a id="1676" href="EUTxOErr.EUTxO.html#1548" class="Field">inputs</a> <a id="1683" class="Symbol">=</a> <a id="1685" href="EUTxOErr.DoubleSatisfaction.html#1685" class="Bound">is</a><a id="1687" class="Symbol">;</a> <a id="1689" href="EUTxOErr.EUTxO.html#1583" class="Field">outputs</a> <a id="1697" class="Symbol">=</a> <a id="1699" href="EUTxOErr.DoubleSatisfaction.html#1699" class="Bound">os</a><a id="1701" class="Symbol">}</a> <a id="1703" class="Symbol">=</a> <a id="1705" href="EUTxOErr.DoubleSatisfaction.html#1624" class="Bound">txi</a><a id="1708" class="Symbol">)</a>
  <a id="1712" class="Keyword">where</a>

  <a id="1721" href="EUTxOErr.DoubleSatisfaction.html#1721" class="Function">toggle≡</a> <a id="1729" class="Symbol">:</a>
    <a id="1735" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="1737" href="EUTxOErr.DoubleSatisfaction.html#1403" class="Function">consume◇</a> <a id="1746" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="1748" href="EUTxOErr.DoubleSatisfaction.html#1685" class="Bound">is</a>
    <a id="1755" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="1757" href="EUTxOErr.DoubleSatisfaction.html#1541" class="Function">produce◆</a> <a id="1766" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="1768" href="EUTxOErr.DoubleSatisfaction.html#1699" class="Bound">os</a>
      <a id="1777" href="Prelude.InferenceRules.html#13967" class="Function Operator">──────────────────────────</a>
      <a id="1810" href="EUTxOErr.EUTxO.html#2304" class="Function">call</a> <a id="1815" href="EUTxOErr.DoubleSatisfaction.html#963" class="Function">toggle</a> <a id="1822" href="EUTxOErr.DoubleSatisfaction.html#1624" class="Bound">txi</a> <a id="1826" href="EUTxOErr.DoubleSatisfaction.html#1613" class="Bound">r</a> <a id="1828" href="EUTxOErr.DoubleSatisfaction.html#1645" class="Bound">d</a> <a id="1830" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1832" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>
  <a id="1839" href="EUTxOErr.DoubleSatisfaction.html#1721" class="Function">toggle≡</a> <a id="1847" href="EUTxOErr.DoubleSatisfaction.html#1847" class="Bound">◇∈is</a> <a id="1852" href="EUTxOErr.DoubleSatisfaction.html#1852" class="Bound">◆∈os</a>
    <a id="1861" class="Keyword">rewrite</a> <a id="1869" href="Common.Data.html#421" class="Function">deserialise∘serialise</a> <a id="1891" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a>
          <a id="1903" class="Symbol">|</a> <a id="1905" href="Relation.Nullary.Decidable.Core.html#3175" class="Function">dec-yes</a> <a id="1913" class="Symbol">(</a><a id="1914" href="EUTxOErr.DoubleSatisfaction.html#1403" class="Function">consume◇</a> <a id="1923" href="Prelude.Membership.html#455" class="Field Operator">∈?</a> <a id="1926" href="EUTxOErr.DoubleSatisfaction.html#1685" class="Bound">is</a><a id="1928" class="Symbol">)</a> <a id="1930" href="EUTxOErr.DoubleSatisfaction.html#1847" class="Bound">◇∈is</a> <a id="1935" class="Symbol">.</a><a id="1936" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
          <a id="1952" class="Symbol">|</a> <a id="1954" href="Relation.Nullary.Decidable.Core.html#3175" class="Function">dec-yes</a> <a id="1962" class="Symbol">(</a><a id="1963" href="EUTxOErr.DoubleSatisfaction.html#1541" class="Function">produce◆</a> <a id="1972" href="Prelude.Membership.html#455" class="Field Operator">∈?</a> <a id="1975" href="EUTxOErr.DoubleSatisfaction.html#1699" class="Bound">os</a><a id="1977" class="Symbol">)</a> <a id="1979" href="EUTxOErr.DoubleSatisfaction.html#1852" class="Bound">◆∈os</a> <a id="1984" class="Symbol">.</a><a id="1985" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
          <a id="2001" class="Symbol">=</a> <a id="2003" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="2008" class="Comment">--</a>

<a id="t₀"></a><a id="2012" href="EUTxOErr.DoubleSatisfaction.html#2012" class="Function">t₀</a> <a id="2015" class="Symbol">=</a> <a id="2017" href="EUTxOErr.EUTxO.html#2512" class="Record">Tx</a> <a id="2020" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="2022" class="Keyword">record</a>
  <a id="2031" class="Symbol">{</a> <a id="2033" href="EUTxOErr.EUTxO.html#2536" class="Field">inputs</a> <a id="2040" class="Symbol">=</a> <a id="2042" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
  <a id="2047" class="Symbol">;</a> <a id="2049" href="EUTxOErr.EUTxO.html#2567" class="Field">outputs</a> <a id="2057" class="Symbol">=</a> <a id="2059" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="2061" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="2063" href="Common.Data.html#289" class="Field">serialise</a> <a id="2073" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a> <a id="2075" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="2077" class="Number">1</a> <a id="2079" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="2081" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="2084" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a> <a id="2092" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
  <a id="2096" class="Symbol">;</a> <a id="2098" href="EUTxOErr.EUTxO.html#2599" class="Field">forge</a> <a id="2104" class="Symbol">=</a> <a id="2106" class="Number">1</a> <a id="2108" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="2110" class="Symbol">}</a>
<a id="t₀₀"></a><a id="2112" href="EUTxOErr.DoubleSatisfaction.html#2112" class="Function">t₀₀</a> <a id="2116" class="Symbol">=</a> <a id="2118" class="Symbol">(</a><a id="2119" href="EUTxOErr.DoubleSatisfaction.html#2012" class="Function">t₀</a> <a id="2122" href="Common.Hash.html#96" class="Postulate Operator">♯</a><a id="2123" class="Symbol">)</a> <a id="2125" href="EUTxOErr.EUTxO.html#2009" class="InductiveConstructor Operator">indexed-at</a> <a id="2136" class="Number">0</a>

<a id="o"></a><a id="2139" href="EUTxOErr.DoubleSatisfaction.html#2139" class="Function">o</a>  <a id="2142" class="Symbol">=</a> <a id="2144" href="EUTxOErr.EUTxO.html#1720" class="Record">TxOutput</a>      <a id="2158" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="2160" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="2162" href="Common.Data.html#289" class="Field">serialise</a> <a id="2172" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a> <a id="2174" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="2176" class="Number">1</a> <a id="2178" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="2180" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="2183" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a>
<a id="i"></a><a id="2191" href="EUTxOErr.DoubleSatisfaction.html#2191" class="Function">i</a>  <a id="2194" class="Symbol">=</a> <a id="2196" href="EUTxOErr.EUTxO.html#2376" class="Record">TxInput</a>       <a id="2210" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="2212" class="Keyword">record</a> <a id="2219" class="Symbol">{</a> <a id="2221" href="EUTxOErr.EUTxO.html#2405" class="Field">outputRef</a> <a id="2231" class="Symbol">=</a> <a id="2233" href="EUTxOErr.DoubleSatisfaction.html#2112" class="Function">t₀₀</a> <a id="2237" class="Symbol">;</a> <a id="2239" href="EUTxOErr.EUTxO.html#2437" class="Field">validator</a> <a id="2249" class="Symbol">=</a> <a id="2251" href="EUTxOErr.DoubleSatisfaction.html#963" class="Function">toggle</a> <a id="2258" class="Symbol">;</a> <a id="2260" href="EUTxOErr.EUTxO.html#2467" class="Field">redeemer</a> <a id="2269" class="Symbol">=</a> <a id="2271" class="String">&quot;&quot;</a> <a id="2274" class="Symbol">}</a>
<a id="ri"></a><a id="2276" href="EUTxOErr.DoubleSatisfaction.html#2276" class="Function">ri</a> <a id="2279" class="Symbol">=</a> <a id="2281" href="EUTxOErr.EUTxO.html#2886" class="Function">ResolvedInput</a> <a id="2295" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="2297" href="EUTxOErr.DoubleSatisfaction.html#2191" class="Function">i</a> <a id="2299" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2301" href="EUTxOErr.DoubleSatisfaction.html#2139" class="Function">o</a>

<a id="t₁"></a><a id="2304" href="EUTxOErr.DoubleSatisfaction.html#2304" class="Function">t₁</a> <a id="2307" class="Symbol">=</a> <a id="2309" href="EUTxOErr.EUTxO.html#2512" class="Record">Tx</a> <a id="2312" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="2314" class="Keyword">record</a>
  <a id="2323" class="Symbol">{</a> <a id="2325" href="EUTxOErr.EUTxO.html#2536" class="Field">inputs</a>  <a id="2333" class="Symbol">=</a> <a id="2335" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="2337" href="EUTxOErr.DoubleSatisfaction.html#2191" class="Function">i</a> <a id="2339" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
  <a id="2343" class="Symbol">;</a> <a id="2345" href="EUTxOErr.EUTxO.html#2567" class="Field">outputs</a> <a id="2353" class="Symbol">=</a> <a id="2355" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="2357" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="2359" href="Common.Data.html#289" class="Field">serialise</a> <a id="2369" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="2371" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="2373" class="Number">1</a> <a id="2375" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="2377" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="2380" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a> <a id="2388" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
  <a id="2392" class="Symbol">;</a> <a id="2394" href="EUTxOErr.EUTxO.html#2599" class="Field">forge</a>   <a id="2402" class="Symbol">=</a> <a id="2404" class="Number">0</a> <a id="2406" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="2408" class="Symbol">}</a>
<a id="t₁₀"></a><a id="2410" href="EUTxOErr.DoubleSatisfaction.html#2410" class="Function">t₁₀</a> <a id="2414" class="Symbol">=</a> <a id="2416" class="Symbol">(</a><a id="2417" href="EUTxOErr.DoubleSatisfaction.html#2304" class="Function">t₁</a> <a id="2420" href="Common.Hash.html#96" class="Postulate Operator">♯</a><a id="2421" class="Symbol">)</a> <a id="2423" href="EUTxOErr.EUTxO.html#2009" class="InductiveConstructor Operator">indexed-at</a> <a id="2434" class="Number">0</a>

<a id="t₁′"></a><a id="2437" href="EUTxOErr.DoubleSatisfaction.html#2437" class="Function">t₁′</a> <a id="2441" class="Symbol">=</a> <a id="2443" href="EUTxOErr.EUTxO.html#2512" class="Record">Tx</a> <a id="2446" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="2448" class="Keyword">record</a>
  <a id="2457" class="Symbol">{</a> <a id="2459" href="EUTxOErr.EUTxO.html#2536" class="Field">inputs</a>  <a id="2467" class="Symbol">=</a> <a id="2469" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="2471" href="EUTxOErr.DoubleSatisfaction.html#2191" class="Function">i</a> <a id="2473" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
  <a id="2477" class="Symbol">;</a> <a id="2479" href="EUTxOErr.EUTxO.html#2567" class="Field">outputs</a> <a id="2487" class="Symbol">=</a> <a id="2489" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="2491" href="Common.Data.html#289" class="Field">serialise</a> <a id="2501" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="2503" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="2505" class="Number">1</a> <a id="2507" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="2509" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="2512" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a>
            <a id="2532" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2534" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="2536" href="Common.Data.html#289" class="Field">serialise</a> <a id="2546" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="2548" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="2550" class="Number">1</a> <a id="2552" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="2554" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="2557" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a>
            <a id="2577" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2579" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
  <a id="2584" class="Symbol">;</a> <a id="2586" href="EUTxOErr.EUTxO.html#2599" class="Field">forge</a>   <a id="2594" class="Symbol">=</a> <a id="2596" class="Number">1</a> <a id="2598" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="2600" class="Symbol">}</a>
<a id="t₁′₀"></a><a id="2602" href="EUTxOErr.DoubleSatisfaction.html#2602" class="Function">t₁′₀</a> <a id="2607" class="Symbol">=</a> <a id="2609" class="Symbol">(</a><a id="2610" href="EUTxOErr.DoubleSatisfaction.html#2437" class="Function">t₁′</a> <a id="2614" href="Common.Hash.html#96" class="Postulate Operator">♯</a><a id="2615" class="Symbol">)</a> <a id="2617" href="EUTxOErr.EUTxO.html#2009" class="InductiveConstructor Operator">indexed-at</a> <a id="2628" class="Number">0</a>
<a id="t₁′₁"></a><a id="2630" href="EUTxOErr.DoubleSatisfaction.html#2630" class="Function">t₁′₁</a> <a id="2635" class="Symbol">=</a> <a id="2637" class="Symbol">(</a><a id="2638" href="EUTxOErr.DoubleSatisfaction.html#2437" class="Function">t₁′</a> <a id="2642" href="Common.Hash.html#96" class="Postulate Operator">♯</a><a id="2643" class="Symbol">)</a> <a id="2645" href="EUTxOErr.EUTxO.html#2009" class="InductiveConstructor Operator">indexed-at</a> <a id="2656" class="Number">1</a>

<a id="singleSat"></a><a id="2659" href="EUTxOErr.DoubleSatisfaction.html#2659" class="Function">singleSat</a> <a id="doubleSat"></a><a id="2669" href="EUTxOErr.DoubleSatisfaction.html#2669" class="Function">doubleSat</a> <a id="2679" class="Symbol">:</a> <a id="2681" href="EUTxOErr.EUTxO.html#2670" class="Function">L</a>
<a id="2683" href="EUTxOErr.DoubleSatisfaction.html#2659" class="Function">singleSat</a> <a id="2693" class="Symbol">=</a> <a id="2695" href="EUTxOErr.DoubleSatisfaction.html#2012" class="Function">t₀</a> <a id="2698" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2700" href="EUTxOErr.DoubleSatisfaction.html#2304" class="Function">t₁</a>  <a id="2704" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2706" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
<a id="2709" href="EUTxOErr.DoubleSatisfaction.html#2669" class="Function">doubleSat</a> <a id="2719" class="Symbol">=</a> <a id="2721" href="EUTxOErr.DoubleSatisfaction.html#2012" class="Function">t₀</a> <a id="2724" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2726" href="EUTxOErr.DoubleSatisfaction.html#2437" class="Function">t₁′</a> <a id="2730" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2732" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>

<a id="v₀"></a><a id="2736" href="EUTxOErr.DoubleSatisfaction.html#2736" class="Function">v₀</a> <a id="2739" class="Symbol">:</a> <a id="2741" href="EUTxOErr.Ledger.html#980" class="Datatype">VL</a> <a id="2744" href="Prelude.Maps.AsSets.html#930" class="InductiveConstructor">∅</a> <a id="2746" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="2748" href="EUTxOErr.DoubleSatisfaction.html#2012" class="Function">t₀</a> <a id="2751" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
<a id="2753" href="EUTxOErr.DoubleSatisfaction.html#2736" class="Function">v₀</a> <a id="2756" class="Symbol">=</a> <a id="2758" href="EUTxOErr.DoubleSatisfaction.html#2012" class="Function">t₀</a>
  <a id="2763" href="EUTxOErr.Ledger.html#1039" class="InductiveConstructor Operator">⊣</a> <a id="2765" class="Keyword">record</a> <a id="2772" class="Symbol">{</a> <a id="2774" href="EUTxOErr.EUTxO.html#4282" class="Field">noDoubleSpending</a>    <a id="2794" class="Symbol">=</a> <a id="2796" href="Data.List.Relation.Unary.AllPairs.Core.html#990" class="InductiveConstructor">[]</a>
           <a id="2810" class="Symbol">;</a> <a id="2812" href="EUTxOErr.EUTxO.html#4336" class="Field">validOutputRefs</a>     <a id="2832" class="Symbol">=</a> <a id="2834" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a>
           <a id="2848" class="Symbol">;</a> <a id="2850" href="EUTxOErr.EUTxO.html#4575" class="Field">preservesValues</a>     <a id="2870" class="Symbol">=</a> <a id="2872" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
           <a id="2888" class="Symbol">;</a> <a id="2890" href="EUTxOErr.EUTxO.html#4673" class="Field">allInputsValidate</a>   <a id="2910" class="Symbol">=</a> <a id="2912" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a>
           <a id="2926" class="Symbol">;</a> <a id="2928" href="EUTxOErr.EUTxO.html#4798" class="Field">validateValidHashes</a> <a id="2948" class="Symbol">=</a> <a id="2950" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a> <a id="2953" class="Symbol">}</a>
  <a id="2957" href="EUTxOErr.Ledger.html#1039" class="InductiveConstructor Operator">∷</a> <a id="2959" href="EUTxOErr.Ledger.html#1007" class="InductiveConstructor">[]</a>

<a id="s₀"></a><a id="2963" href="EUTxOErr.DoubleSatisfaction.html#2963" class="Function">s₀</a> <a id="2966" class="Symbol">=</a> <a id="2968" href="Common.Denotational.html#692" class="Function Operator">⟦</a> <a id="2970" href="EUTxOErr.DoubleSatisfaction.html#2012" class="Function">t₀</a> <a id="2973" href="Common.Denotational.html#692" class="Function Operator">⟧₀</a> <a id="2976" href="Prelude.Maps.AsSets.html#930" class="InductiveConstructor">∅</a>

<a id="2979" href="EUTxOErr.DoubleSatisfaction.html#2979" class="Function">_</a> <a id="2981" class="Symbol">=</a> <a id="2983" href="EUTxOErr.DoubleSatisfaction.html#2963" class="Function">s₀</a> <a id="2986" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2988" href="Prelude.Maps.AsSets.html#944" class="Function">singleton</a> <a id="2998" class="Symbol">(</a><a id="2999" href="EUTxOErr.DoubleSatisfaction.html#2112" class="Function">t₀₀</a> <a id="3003" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3005" href="EUTxOErr.DoubleSatisfaction.html#2139" class="Function">o</a><a id="3006" class="Symbol">)</a>
  <a id="3010" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="3012" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="3018" class="Keyword">module</a> <a id="⦅1⦆"></a><a id="3025" href="EUTxOErr.DoubleSatisfaction.html#3025" class="Module">⦅1⦆</a> <a id="3029" class="Keyword">where</a>
  <a id="⦅1⦆.vor"></a><a id="3037" href="EUTxOErr.DoubleSatisfaction.html#3037" class="Function">vor</a> <a id="3041" class="Symbol">:</a> <a id="3043" href="Prelude.Allable.html#267" class="Function">∀[</a> <a id="3046" href="EUTxOErr.DoubleSatisfaction.html#3046" class="Bound">ref</a> <a id="3050" href="Prelude.Allable.html#267" class="Function">∈</a> <a id="3052" href="EUTxOErr.EUTxO.html#2710" class="Function">outputRefs</a> <a id="3063" href="EUTxOErr.DoubleSatisfaction.html#2304" class="Function">t₁</a> <a id="3066" href="Prelude.Allable.html#267" class="Function">]</a> <a id="3068" class="Symbol">(</a><a id="3069" href="EUTxOErr.DoubleSatisfaction.html#3046" class="Bound">ref</a> <a id="3073" href="Prelude.Maps.AsSets.html#1627" class="Function Operator">∈ᵈ</a> <a id="3076" href="EUTxOErr.DoubleSatisfaction.html#2963" class="Function">s₀</a><a id="3078" class="Symbol">)</a>
  <a id="3082" href="EUTxOErr.DoubleSatisfaction.html#3037" class="Function">vor</a> <a id="3086" class="Symbol">=</a> <a id="3088" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="3093" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="3098" href="Data.List.Relation.Unary.All.html#1533" class="InductiveConstructor Operator">∷</a> <a id="3100" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a>

  <a id="⦅1⦆.rt₁"></a><a id="3106" href="EUTxOErr.DoubleSatisfaction.html#3106" class="Function">rt₁</a> <a id="3110" class="Symbol">=</a> <a id="3112" href="EUTxOErr.EUTxO.html#2782" class="Function">Resolved</a> <a id="3121" href="EUTxOErr.DoubleSatisfaction.html#2304" class="Function">t₁</a>
      <a id="3130" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="3132" href="Data.List.Relation.Unary.All.html#2944" class="Function">L.All.map</a> <a id="3142" class="Symbol">(</a><a id="3143" href="EUTxOErr.DoubleSatisfaction.html#2963" class="Function">s₀</a> <a id="3146" href="EUTxOErr.DoubleSatisfaction.html#357" class="Function Operator">‼ᵐ_</a><a id="3149" class="Symbol">)</a> <a id="3151" href="EUTxOErr.DoubleSatisfaction.html#3037" class="Function">vor</a>

  <a id="3158" href="EUTxOErr.DoubleSatisfaction.html#3158" class="Function">_</a> <a id="3160" class="Symbol">=</a> <a id="3162" href="EUTxOErr.EUTxO.html#3909" class="Function">mkUtxo</a> <a id="3169" href="EUTxOErr.DoubleSatisfaction.html#2012" class="Function">t₀</a> <a id="3172" class="Symbol">(</a><a id="3173" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="3178" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="3182" class="Symbol">)</a> <a id="3184" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3186" class="Symbol">(</a><a id="3187" href="EUTxOErr.DoubleSatisfaction.html#2112" class="Function">t₀₀</a> <a id="3191" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3193" href="EUTxOErr.DoubleSatisfaction.html#2139" class="Function">o</a><a id="3194" class="Symbol">)</a>
    <a id="3200" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="3202" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

  <a id="⦅1⦆.rt≡"></a><a id="3210" href="EUTxOErr.DoubleSatisfaction.html#3210" class="Function">rt≡</a> <a id="3214" class="Symbol">:</a> <a id="3216" href="EUTxOErr.DoubleSatisfaction.html#3106" class="Function">rt₁</a> <a id="3220" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3222" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="3224" href="EUTxOErr.DoubleSatisfaction.html#2139" class="Function">o</a> <a id="3226" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
  <a id="3230" href="EUTxOErr.DoubleSatisfaction.html#3210" class="Function">rt≡</a> <a id="3234" class="Symbol">=</a> <a id="3236" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="3241" class="Symbol">(</a><a id="3242" href="Data.List.Relation.Unary.All.html#1533" class="InductiveConstructor Operator">_∷</a> <a id="3245" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a><a id="3247" class="Symbol">)</a> <a id="3249" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3251" href="Common.Maps.html#1568" class="Postulate">‼-singleton</a> <a id="3263" class="Symbol">{</a><a id="3264" class="Argument">k</a> <a id="3266" class="Symbol">=</a> <a id="3268" href="EUTxOErr.DoubleSatisfaction.html#2112" class="Function">t₀₀</a><a id="3271" class="Symbol">}{</a><a id="3273" href="EUTxOErr.DoubleSatisfaction.html#2139" class="Function">o</a><a id="3274" class="Symbol">}</a>

  <a id="⦅1⦆.txi"></a><a id="3279" href="EUTxOErr.DoubleSatisfaction.html#3279" class="Function">txi</a>  <a id="3284" class="Symbol">=</a> <a id="3286" href="EUTxOErr.EUTxO.html#3589" class="Function">mkTxInfo</a> <a id="3295" href="EUTxOErr.DoubleSatisfaction.html#2304" class="Function">t₁</a> <a id="3298" href="EUTxOErr.DoubleSatisfaction.html#3106" class="Function">rt₁</a>
  <a id="⦅1⦆.is"></a><a id="3304" href="EUTxOErr.DoubleSatisfaction.html#3304" class="Function">is</a> <a id="3307" class="Symbol">=</a> <a id="3309" href="EUTxOErr.DoubleSatisfaction.html#3279" class="Function">txi</a> <a id="3313" class="Symbol">.</a><a id="3314" href="EUTxOErr.EUTxO.html#1548" class="Field">TxInfo.inputs</a>
  <a id="⦅1⦆.os"></a><a id="3330" href="EUTxOErr.DoubleSatisfaction.html#3330" class="Function">os</a> <a id="3333" class="Symbol">=</a> <a id="3335" href="EUTxOErr.DoubleSatisfaction.html#3279" class="Function">txi</a> <a id="3339" class="Symbol">.</a><a id="3340" href="EUTxOErr.EUTxO.html#1583" class="Field">TxInfo.outputs</a>

  <a id="⦅1⦆.ris"></a><a id="3358" href="EUTxOErr.DoubleSatisfaction.html#3358" class="Function">ris</a> <a id="3362" class="Symbol">=</a> <a id="3364" href="EUTxOErr.EUTxO.html#2922" class="Function">ResolvedInputs</a>
      <a id="3385" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="3387" href="EUTxOErr.EUTxO.html#2959" class="Function">resolveInputs</a> <a id="3401" href="EUTxOErr.DoubleSatisfaction.html#2304" class="Function">t₁</a> <a id="3404" href="EUTxOErr.DoubleSatisfaction.html#3106" class="Function">rt₁</a>

  <a id="3411" class="Keyword">postulate</a> <a id="⦅1⦆.ris≡"></a><a id="3421" href="EUTxOErr.DoubleSatisfaction.html#3421" class="Postulate">ris≡</a> <a id="3426" class="Symbol">:</a> <a id="3428" href="EUTxOErr.DoubleSatisfaction.html#3358" class="Function">ris</a> <a id="3432" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3434" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="3436" href="EUTxOErr.DoubleSatisfaction.html#2276" class="Function">ri</a> <a id="3439" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
  <a id="3443" class="Comment">-- ris≡ rewrite ≟-refl 0 | ≟-refl &quot;&quot; | ≟-refl &#39;◇&#39; = cong [_] (cong (i ,_) refl)</a>

  <a id="⦅1⦆.val≡"></a><a id="3526" href="EUTxOErr.DoubleSatisfaction.html#3526" class="Function">val≡</a> <a id="3531" class="Symbol">:</a> <a id="3533" href="Data.Bool.Base.html#1460" class="Function">T</a> <a id="3535" class="Symbol">(</a><a id="3536" href="EUTxOErr.EUTxO.html#2304" class="Function">call</a> <a id="3541" class="Symbol">(</a><a id="3542" href="EUTxOErr.DoubleSatisfaction.html#2191" class="Function">i</a> <a id="3544" class="Symbol">.</a><a id="3545" href="EUTxOErr.EUTxO.html#2437" class="Field">validator</a><a id="3554" class="Symbol">)</a> <a id="3556" href="EUTxOErr.DoubleSatisfaction.html#3279" class="Function">txi</a> <a id="3560" class="Symbol">(</a><a id="3561" href="EUTxOErr.DoubleSatisfaction.html#2191" class="Function">i</a> <a id="3563" class="Symbol">.</a><a id="3564" href="EUTxOErr.EUTxO.html#2467" class="Field">redeemer</a><a id="3572" class="Symbol">)</a> <a id="3574" class="Symbol">(</a><a id="3575" href="EUTxOErr.DoubleSatisfaction.html#2139" class="Function">o</a> <a id="3577" class="Symbol">.</a><a id="3578" href="EUTxOErr.EUTxO.html#1772" class="Field">datum</a><a id="3583" class="Symbol">))</a>
  <a id="3588" href="EUTxOErr.DoubleSatisfaction.html#3526" class="Function">val≡</a> <a id="3593" class="Symbol">=</a> <a id="3595" href="Prelude.General.html#4125" class="Function">true⇒T</a> <a id="3602" href="Function.Base.html#1928" class="Function Operator">$</a>
    <a id="3608" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="3620" href="EUTxOErr.EUTxO.html#2304" class="Function">call</a> <a id="3625" class="Symbol">(</a><a id="3626" href="EUTxOErr.DoubleSatisfaction.html#2191" class="Function">i</a> <a id="3628" class="Symbol">.</a><a id="3629" href="EUTxOErr.EUTxO.html#2437" class="Field">validator</a><a id="3638" class="Symbol">)</a> <a id="3640" href="EUTxOErr.DoubleSatisfaction.html#3279" class="Function">txi</a> <a id="3644" class="Symbol">(</a><a id="3645" href="EUTxOErr.DoubleSatisfaction.html#2191" class="Function">i</a> <a id="3647" class="Symbol">.</a><a id="3648" href="EUTxOErr.EUTxO.html#2467" class="Field">redeemer</a><a id="3656" class="Symbol">)</a> <a id="3658" class="Symbol">(</a><a id="3659" href="EUTxOErr.DoubleSatisfaction.html#2139" class="Function">o</a> <a id="3661" class="Symbol">.</a><a id="3662" href="EUTxOErr.EUTxO.html#1772" class="Field">datum</a><a id="3667" class="Symbol">)</a>
    <a id="3673" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="3683" href="EUTxOErr.DoubleSatisfaction.html#963" class="Function">toggle</a> <a id="3690" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a> <a id="3698" href="EUTxOErr.DoubleSatisfaction.html#3279" class="Function">txi</a> <a id="3702" class="String">&quot;&quot;</a> <a id="3705" class="Symbol">(</a><a id="3706" href="Common.Data.html#289" class="Field">serialise</a> <a id="3716" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a><a id="3717" class="Symbol">)</a>
    <a id="3723" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="3726" href="EUTxOErr.DoubleSatisfaction.html#1721" class="Function">toggle≡</a> <a id="3734" class="Symbol">{</a><a id="3735" class="String">&quot;&quot;</a><a id="3737" class="Symbol">}{</a><a id="3739" href="EUTxOErr.DoubleSatisfaction.html#3279" class="Function">txi</a><a id="3742" class="Symbol">}</a>
        <a id="3752" class="Symbol">(</a> <a id="3754" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="3760" class="Symbol">(</a><a id="3761" href="Data.List.Relation.Unary.Any.html#1165" class="Datatype">Any</a> <a id="3765" class="Symbol">(</a><a id="3766" href="EUTxOErr.DoubleSatisfaction.html#1403" class="Function">consume◇</a> <a id="3775" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡_</a><a id="3777" class="Symbol">)</a> <a id="3779" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="3781" href="Data.List.Base.html#1553" class="Function">map</a> <a id="3785" href="EUTxOErr.EUTxO.html#3413" class="Function">mkInputInfo</a><a id="3796" class="Symbol">)</a> <a id="3798" class="Symbol">(</a><a id="3799" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="3803" href="EUTxOErr.DoubleSatisfaction.html#3421" class="Postulate">ris≡</a><a id="3807" class="Symbol">)</a>
        <a id="3817" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3819" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="3824" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="3837" class="Symbol">)</a>
        <a id="3847" class="Symbol">(</a><a id="3848" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="3853" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="3857" class="Symbol">)</a> <a id="3859" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="3867" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>
    <a id="3876" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="3878" class="Keyword">where</a> <a id="3884" class="Keyword">open</a> <a id="3889" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

  <a id="3904" href="EUTxOErr.DoubleSatisfaction.html#3904" class="Function">_</a> <a id="3906" class="Symbol">:</a> <a id="3908" href="EUTxOErr.Ledger.html#980" class="Datatype">VL</a> <a id="3911" href="Prelude.Maps.AsSets.html#930" class="InductiveConstructor">∅</a> <a id="3913" href="EUTxOErr.DoubleSatisfaction.html#2659" class="Function">singleSat</a>
  <a id="3925" class="Symbol">_</a> <a id="3927" class="Symbol">=</a> <a id="3929" href="EUTxOErr.DoubleSatisfaction.html#2012" class="Function">t₀</a>
    <a id="3936" href="EUTxOErr.Ledger.html#1039" class="InductiveConstructor Operator">⊣</a> <a id="3938" class="Keyword">record</a>
      <a id="3951" class="Symbol">{</a> <a id="3953" href="EUTxOErr.EUTxO.html#4282" class="Field">noDoubleSpending</a>    <a id="3973" class="Symbol">=</a> <a id="3975" href="Data.List.Relation.Unary.AllPairs.Core.html#990" class="InductiveConstructor">[]</a>
      <a id="3984" class="Symbol">;</a> <a id="3986" href="EUTxOErr.EUTxO.html#4336" class="Field">validOutputRefs</a>     <a id="4006" class="Symbol">=</a> <a id="4008" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a>
      <a id="4017" class="Symbol">;</a> <a id="4019" href="EUTxOErr.EUTxO.html#4575" class="Field">preservesValues</a>     <a id="4039" class="Symbol">=</a> <a id="4041" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="4052" class="Symbol">;</a> <a id="4054" href="EUTxOErr.EUTxO.html#4673" class="Field">allInputsValidate</a>   <a id="4074" class="Symbol">=</a> <a id="4076" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a>
      <a id="4085" class="Symbol">;</a> <a id="4087" href="EUTxOErr.EUTxO.html#4798" class="Field">validateValidHashes</a> <a id="4107" class="Symbol">=</a> <a id="4109" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a>
      <a id="4118" class="Symbol">}</a>
    <a id="4124" href="EUTxOErr.Ledger.html#1039" class="InductiveConstructor Operator">∷</a> <a id="4126" href="EUTxOErr.DoubleSatisfaction.html#2304" class="Function">t₁</a>
    <a id="4133" href="EUTxOErr.Ledger.html#1039" class="InductiveConstructor Operator">⊣</a> <a id="4135" class="Keyword">record</a>
      <a id="4148" class="Symbol">{</a> <a id="4150" href="EUTxOErr.EUTxO.html#4282" class="Field">noDoubleSpending</a>    <a id="4170" class="Symbol">=</a> <a id="4172" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a> <a id="4175" href="Data.List.Relation.Unary.AllPairs.Core.html#1010" class="InductiveConstructor Operator">∷</a> <a id="4177" href="Data.List.Relation.Unary.AllPairs.Core.html#990" class="InductiveConstructor">[]</a>
      <a id="4186" class="Symbol">;</a> <a id="4188" href="EUTxOErr.EUTxO.html#4336" class="Field">validOutputRefs</a>     <a id="4208" class="Symbol">=</a> <a id="4210" href="EUTxOErr.DoubleSatisfaction.html#3037" class="Function">vor</a>
      <a id="4220" class="Symbol">;</a> <a id="4222" href="EUTxOErr.EUTxO.html#4575" class="Field">preservesValues</a>     <a id="4242" class="Symbol">=</a> <a id="4244" href="EUTxOErr.DoubleSatisfaction.html#4346" class="Function">pv</a>
      <a id="4253" class="Symbol">;</a> <a id="4255" href="EUTxOErr.EUTxO.html#4673" class="Field">allInputsValidate</a>   <a id="4275" class="Symbol">=</a> <a id="4277" href="EUTxOErr.DoubleSatisfaction.html#4473" class="Function">aiv</a>
      <a id="4287" class="Symbol">;</a> <a id="4289" href="EUTxOErr.EUTxO.html#4798" class="Field">validateValidHashes</a> <a id="4309" class="Symbol">=</a> <a id="4311" href="EUTxOErr.DoubleSatisfaction.html#4623" class="Function">vvh</a>
      <a id="4321" class="Symbol">}</a>
    <a id="4327" href="EUTxOErr.Ledger.html#1039" class="InductiveConstructor Operator">∷</a> <a id="4329" href="EUTxOErr.Ledger.html#1007" class="InductiveConstructor">[]</a>
    <a id="4336" class="Keyword">where</a>
    <a id="4346" href="EUTxOErr.DoubleSatisfaction.html#4346" class="Function">pv</a> <a id="4349" class="Symbol">:</a> <a id="4351" href="EUTxOErr.DoubleSatisfaction.html#2304" class="Function">t₁</a> <a id="4354" class="Symbol">.</a><a id="4355" href="EUTxOErr.EUTxO.html#2599" class="Field">forge</a> <a id="4361" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4363" href="Common.Utils.html#101" class="Function">∑</a> <a id="4365" href="EUTxOErr.DoubleSatisfaction.html#3358" class="Function">ris</a> <a id="4369" class="Symbol">(</a><a id="4370" href="EUTxOErr.EUTxO.html#1796" class="Field">value</a> <a id="4376" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="4378" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="4383" class="Symbol">)</a> <a id="4385" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4387" href="Common.Utils.html#101" class="Function">∑</a> <a id="4389" class="Symbol">(</a><a id="4390" href="EUTxOErr.DoubleSatisfaction.html#2304" class="Function">t₁</a> <a id="4393" class="Symbol">.</a><a id="4394" href="EUTxOErr.EUTxO.html#2567" class="Field">outputs</a><a id="4401" class="Symbol">)</a> <a id="4403" href="EUTxOErr.EUTxO.html#1796" class="Field">value</a>
    <a id="4413" href="EUTxOErr.DoubleSatisfaction.html#4346" class="Function">pv</a> <a id="4416" class="Symbol">=</a> <a id="4418" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="4423" class="Symbol">(λ</a> <a id="4426" href="EUTxOErr.DoubleSatisfaction.html#4426" class="Bound">⋆</a> <a id="4428" class="Symbol">→</a> <a id="4430" href="EUTxOErr.DoubleSatisfaction.html#2304" class="Function">t₁</a> <a id="4433" class="Symbol">.</a><a id="4434" href="EUTxOErr.EUTxO.html#2599" class="Field">forge</a> <a id="4440" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4442" href="Common.Utils.html#101" class="Function">∑</a> <a id="4444" href="EUTxOErr.DoubleSatisfaction.html#4426" class="Bound">⋆</a> <a id="4446" class="Symbol">(</a><a id="4447" href="EUTxOErr.EUTxO.html#1796" class="Field">value</a> <a id="4453" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="4455" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="4460" class="Symbol">))</a> <a id="4463" href="EUTxOErr.DoubleSatisfaction.html#3421" class="Postulate">ris≡</a>

    <a id="4473" href="EUTxOErr.DoubleSatisfaction.html#4473" class="Function">aiv</a> <a id="4477" class="Symbol">:</a> <a id="4479" href="Prelude.Allable.html#267" class="Function">∀[</a> <a id="4482" href="EUTxOErr.DoubleSatisfaction.html#4482" class="Bound">(</a><a id="4483" href="EUTxOErr.DoubleSatisfaction.html#4483" class="Bound">i</a> <a id="4485" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4487" href="EUTxOErr.DoubleSatisfaction.html#4487" class="Bound">o</a><a id="4488" href="EUTxOErr.DoubleSatisfaction.html#4482" class="Bound">)</a> <a id="4490" href="Prelude.Allable.html#267" class="Function">∈</a> <a id="4492" href="EUTxOErr.DoubleSatisfaction.html#3358" class="Function">ris</a> <a id="4496" href="Prelude.Allable.html#267" class="Function">]</a>
      <a id="4504" href="Data.Bool.Base.html#1460" class="Function">T</a> <a id="4506" class="Symbol">(</a><a id="4507" href="EUTxOErr.EUTxO.html#2304" class="Function">call</a> <a id="4512" class="Symbol">(</a><a id="4513" href="EUTxOErr.DoubleSatisfaction.html#4483" class="Bound">i</a> <a id="4515" class="Symbol">.</a><a id="4516" href="EUTxOErr.EUTxO.html#2437" class="Field">validator</a><a id="4525" class="Symbol">)</a> <a id="4527" href="EUTxOErr.DoubleSatisfaction.html#3279" class="Function">txi</a> <a id="4531" class="Symbol">(</a><a id="4532" href="EUTxOErr.DoubleSatisfaction.html#4483" class="Bound">i</a> <a id="4534" class="Symbol">.</a><a id="4535" href="EUTxOErr.EUTxO.html#2467" class="Field">redeemer</a><a id="4543" class="Symbol">)</a> <a id="4545" class="Symbol">(</a><a id="4546" href="EUTxOErr.DoubleSatisfaction.html#4487" class="Bound">o</a> <a id="4548" class="Symbol">.</a><a id="4549" href="EUTxOErr.EUTxO.html#1772" class="Field">datum</a><a id="4554" class="Symbol">))</a>
    <a id="4561" href="EUTxOErr.DoubleSatisfaction.html#4473" class="Function">aiv</a> <a id="4565" class="Symbol">=</a> <a id="4567" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="4573" class="Symbol">(</a><a id="4574" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">L.All.All</a> <a id="4584" class="Symbol">_)</a> <a id="4587" class="Symbol">(</a><a id="4588" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="4592" href="EUTxOErr.DoubleSatisfaction.html#3421" class="Postulate">ris≡</a><a id="4596" class="Symbol">)</a>
        <a id="4606" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="4608" href="EUTxOErr.DoubleSatisfaction.html#3526" class="Function">val≡</a> <a id="4613" href="Data.List.Relation.Unary.All.html#1533" class="InductiveConstructor Operator">∷</a> <a id="4615" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a>

    <a id="4623" href="EUTxOErr.DoubleSatisfaction.html#4623" class="Function">vvh</a> <a id="4627" class="Symbol">:</a> <a id="4629" href="Prelude.Allable.html#267" class="Function">∀[</a> <a id="4632" href="EUTxOErr.DoubleSatisfaction.html#4632" class="Bound">(</a><a id="4633" href="EUTxOErr.DoubleSatisfaction.html#4633" class="Bound">i</a> <a id="4635" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4637" href="EUTxOErr.DoubleSatisfaction.html#4637" class="Bound">o</a><a id="4638" href="EUTxOErr.DoubleSatisfaction.html#4632" class="Bound">)</a> <a id="4640" href="Prelude.Allable.html#267" class="Function">∈</a> <a id="4642" href="EUTxOErr.DoubleSatisfaction.html#3358" class="Function">ris</a> <a id="4646" href="Prelude.Allable.html#267" class="Function">]</a>
      <a id="4654" class="Symbol">(</a><a id="4655" href="EUTxOErr.DoubleSatisfaction.html#4637" class="Bound">o</a> <a id="4657" class="Symbol">.</a><a id="4658" href="EUTxOErr.EUTxO.html#1821" class="Field">address</a> <a id="4666" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4668" href="EUTxOErr.DoubleSatisfaction.html#4633" class="Bound">i</a> <a id="4670" class="Symbol">.</a><a id="4671" href="EUTxOErr.EUTxO.html#2437" class="Field">validator</a> <a id="4681" href="Common.Hash.html#96" class="Postulate Operator">♯</a><a id="4682" class="Symbol">)</a>
    <a id="4688" href="EUTxOErr.DoubleSatisfaction.html#4623" class="Function">vvh</a> <a id="4692" class="Symbol">=</a> <a id="4694" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="4700" class="Symbol">(</a><a id="4701" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">L.All.All</a> <a id="4711" class="Symbol">_)</a> <a id="4714" class="Symbol">(</a><a id="4715" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="4719" href="EUTxOErr.DoubleSatisfaction.html#3421" class="Postulate">ris≡</a><a id="4723" class="Symbol">)</a>
        <a id="4733" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="4735" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="4740" href="Data.List.Relation.Unary.All.html#1533" class="InductiveConstructor Operator">∷</a> <a id="4742" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a>

  <a id="4748" class="Keyword">open</a> <a id="4753" href="Common.HoareLogic.html#2892" class="Module">HoareReasoning</a> <a id="4768" class="Comment">-- unsolved metas if inlined in `where` clause :(</a>
  <a id="4820" href="EUTxOErr.DoubleSatisfaction.html#4820" class="Function">_</a> <a id="4822" class="Symbol">=</a>
    <a id="4828" href="Common.HoareLogic.html#3073" class="Field Operator">begin</a>
      <a id="4840" href="EUTxOErr.HoareLogic.html#729" class="Function">emp</a>
    <a id="4848" href="Common.HoareLogic.html#3519" class="Function Operator">~⟨</a> <a id="4851" href="EUTxOErr.DoubleSatisfaction.html#2012" class="Function">t₀</a> <a id="4854" href="Common.HoareLogic.html#3519" class="Function Operator">∶-</a> <a id="4857" href="EUTxOErr.HoareLogic.html#2028" class="Function">𝟘⇒𝟙</a> <a id="4861" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="4866" href="Common.HoareLogic.html#3519" class="Function Operator">⟩</a>
      <a id="4874" href="EUTxOErr.DoubleSatisfaction.html#2112" class="Function">t₀₀</a> <a id="4878" href="EUTxOErr.HoareLogic.html#847" class="Function Operator">↦</a> <a id="4880" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="4882" href="Common.Data.html#289" class="Field">serialise</a> <a id="4892" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a> <a id="4894" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="4896" class="Number">1</a> <a id="4898" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="4900" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="4903" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a>
    <a id="4915" href="Common.HoareLogic.html#3519" class="Function Operator">~⟨</a> <a id="4918" href="EUTxOErr.DoubleSatisfaction.html#2304" class="Function">t₁</a> <a id="4921" href="Common.HoareLogic.html#3519" class="Function Operator">∶-</a> <a id="4924" href="EUTxOErr.HoareLogic.html#2661" class="Function">𝟙⇒𝟙</a> <a id="4928" href="EUTxOErr.DoubleSatisfaction.html#3106" class="Function">rt₁</a> <a id="4932" href="EUTxOErr.DoubleSatisfaction.html#3526" class="Function">val≡</a> <a id="4937" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="4942" href="Common.HoareLogic.html#3519" class="Function Operator">⟩</a>
      <a id="4950" href="EUTxOErr.DoubleSatisfaction.html#2410" class="Function">t₁₀</a> <a id="4954" href="EUTxOErr.HoareLogic.html#847" class="Function Operator">↦</a> <a id="4956" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="4958" href="Common.Data.html#289" class="Field">serialise</a> <a id="4968" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="4970" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="4972" class="Number">1</a> <a id="4974" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="4976" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="4979" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a>
    <a id="4991" href="Common.HoareLogic.html#3972" class="Function Operator">∎</a>

<a id="4994" class="Keyword">module</a> <a id="⦅12⦆"></a><a id="5001" href="EUTxOErr.DoubleSatisfaction.html#5001" class="Module">⦅12⦆</a> <a id="5006" class="Keyword">where</a>
  <a id="⦅12⦆.vor"></a><a id="5014" href="EUTxOErr.DoubleSatisfaction.html#5014" class="Function">vor</a> <a id="5018" class="Symbol">:</a> <a id="5020" href="Prelude.Allable.html#267" class="Function">∀[</a> <a id="5023" href="EUTxOErr.DoubleSatisfaction.html#5023" class="Bound">ref</a> <a id="5027" href="Prelude.Allable.html#267" class="Function">∈</a> <a id="5029" href="EUTxOErr.EUTxO.html#2710" class="Function">outputRefs</a> <a id="5040" href="EUTxOErr.DoubleSatisfaction.html#2437" class="Function">t₁′</a> <a id="5044" href="Prelude.Allable.html#267" class="Function">]</a> <a id="5046" class="Symbol">(</a><a id="5047" href="EUTxOErr.DoubleSatisfaction.html#5023" class="Bound">ref</a> <a id="5051" href="Prelude.Maps.AsSets.html#1627" class="Function Operator">∈ᵈ</a> <a id="5054" href="EUTxOErr.DoubleSatisfaction.html#2963" class="Function">s₀</a><a id="5056" class="Symbol">)</a>
  <a id="5060" href="EUTxOErr.DoubleSatisfaction.html#5014" class="Function">vor</a> <a id="5064" class="Symbol">=</a> <a id="5066" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="5071" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="5076" href="Data.List.Relation.Unary.All.html#1533" class="InductiveConstructor Operator">∷</a> <a id="5078" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a>

  <a id="⦅12⦆.rt₁′"></a><a id="5084" href="EUTxOErr.DoubleSatisfaction.html#5084" class="Function">rt₁′</a> <a id="5089" class="Symbol">=</a> <a id="5091" href="EUTxOErr.EUTxO.html#2782" class="Function">Resolved</a> <a id="5100" href="EUTxOErr.DoubleSatisfaction.html#2437" class="Function">t₁′</a>
       <a id="5111" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="5113" href="Data.List.Relation.Unary.All.html#2944" class="Function">L.All.map</a> <a id="5123" class="Symbol">(</a><a id="5124" href="EUTxOErr.DoubleSatisfaction.html#2963" class="Function">s₀</a> <a id="5127" href="EUTxOErr.DoubleSatisfaction.html#357" class="Function Operator">‼ᵐ_</a><a id="5130" class="Symbol">)</a> <a id="5132" href="EUTxOErr.DoubleSatisfaction.html#5014" class="Function">vor</a>

  <a id="5139" href="EUTxOErr.DoubleSatisfaction.html#5139" class="Function">_</a> <a id="5141" class="Symbol">=</a> <a id="5143" href="EUTxOErr.EUTxO.html#3909" class="Function">mkUtxo</a> <a id="5150" href="EUTxOErr.DoubleSatisfaction.html#2012" class="Function">t₀</a> <a id="5153" class="Symbol">(</a><a id="5154" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="5159" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="5163" class="Symbol">)</a> <a id="5165" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5167" class="Symbol">(</a><a id="5168" href="EUTxOErr.DoubleSatisfaction.html#2112" class="Function">t₀₀</a> <a id="5172" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5174" href="EUTxOErr.DoubleSatisfaction.html#2139" class="Function">o</a><a id="5175" class="Symbol">)</a>
    <a id="5181" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="5183" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

  <a id="⦅12⦆.rt≡"></a><a id="5191" href="EUTxOErr.DoubleSatisfaction.html#5191" class="Function">rt≡</a> <a id="5195" class="Symbol">:</a> <a id="5197" href="EUTxOErr.DoubleSatisfaction.html#5084" class="Function">rt₁′</a> <a id="5202" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5204" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="5206" href="EUTxOErr.DoubleSatisfaction.html#2139" class="Function">o</a> <a id="5208" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
  <a id="5212" href="EUTxOErr.DoubleSatisfaction.html#5191" class="Function">rt≡</a> <a id="5216" class="Symbol">=</a> <a id="5218" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="5223" class="Symbol">(</a><a id="5224" href="Data.List.Relation.Unary.All.html#1533" class="InductiveConstructor Operator">_∷</a> <a id="5227" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a><a id="5229" class="Symbol">)</a> <a id="5231" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5233" href="Common.Maps.html#1568" class="Postulate">‼-singleton</a> <a id="5245" class="Symbol">{</a><a id="5246" class="Argument">k</a> <a id="5248" class="Symbol">=</a> <a id="5250" href="EUTxOErr.DoubleSatisfaction.html#2112" class="Function">t₀₀</a><a id="5253" class="Symbol">}{</a><a id="5255" href="EUTxOErr.DoubleSatisfaction.html#2139" class="Function">o</a><a id="5256" class="Symbol">}</a>

  <a id="⦅12⦆.txi"></a><a id="5261" href="EUTxOErr.DoubleSatisfaction.html#5261" class="Function">txi</a>  <a id="5266" class="Symbol">=</a> <a id="5268" href="EUTxOErr.EUTxO.html#3589" class="Function">mkTxInfo</a> <a id="5277" href="EUTxOErr.DoubleSatisfaction.html#2437" class="Function">t₁′</a> <a id="5281" href="EUTxOErr.DoubleSatisfaction.html#5084" class="Function">rt₁′</a>
  <a id="⦅12⦆.is"></a><a id="5288" href="EUTxOErr.DoubleSatisfaction.html#5288" class="Function">is</a> <a id="5291" class="Symbol">=</a> <a id="5293" href="EUTxOErr.DoubleSatisfaction.html#5261" class="Function">txi</a> <a id="5297" class="Symbol">.</a><a id="5298" href="EUTxOErr.EUTxO.html#1548" class="Field">TxInfo.inputs</a>
  <a id="⦅12⦆.os"></a><a id="5314" href="EUTxOErr.DoubleSatisfaction.html#5314" class="Function">os</a> <a id="5317" class="Symbol">=</a> <a id="5319" href="EUTxOErr.DoubleSatisfaction.html#5261" class="Function">txi</a> <a id="5323" class="Symbol">.</a><a id="5324" href="EUTxOErr.EUTxO.html#1583" class="Field">TxInfo.outputs</a>

  <a id="⦅12⦆.ris"></a><a id="5342" href="EUTxOErr.DoubleSatisfaction.html#5342" class="Function">ris</a> <a id="5346" class="Symbol">=</a> <a id="5348" href="EUTxOErr.EUTxO.html#2922" class="Function">ResolvedInputs</a>
      <a id="5369" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="5371" href="EUTxOErr.EUTxO.html#2959" class="Function">resolveInputs</a> <a id="5385" href="EUTxOErr.DoubleSatisfaction.html#2437" class="Function">t₁′</a> <a id="5389" href="EUTxOErr.DoubleSatisfaction.html#5084" class="Function">rt₁′</a>

  <a id="5397" class="Keyword">postulate</a> <a id="⦅12⦆.ris≡"></a><a id="5407" href="EUTxOErr.DoubleSatisfaction.html#5407" class="Postulate">ris≡</a> <a id="5412" class="Symbol">:</a> <a id="5414" href="EUTxOErr.DoubleSatisfaction.html#5342" class="Function">ris</a> <a id="5418" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5420" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="5422" href="EUTxOErr.DoubleSatisfaction.html#2191" class="Function">i</a> <a id="5424" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5426" href="EUTxOErr.DoubleSatisfaction.html#2139" class="Function">o</a> <a id="5428" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
  <a id="5432" class="Comment">-- ris≡ rewrite ≟-refl 0 | ≟-refl &quot;&quot; | ≟-refl &#39;◇&#39; = cong [_] (cong (i ,_) refl)</a>

  <a id="⦅12⦆.val≡"></a><a id="5515" href="EUTxOErr.DoubleSatisfaction.html#5515" class="Function">val≡</a> <a id="5520" class="Symbol">:</a> <a id="5522" href="Data.Bool.Base.html#1460" class="Function">T</a> <a id="5524" class="Symbol">(</a><a id="5525" href="EUTxOErr.EUTxO.html#2304" class="Function">call</a> <a id="5530" class="Symbol">(</a><a id="5531" href="EUTxOErr.DoubleSatisfaction.html#2191" class="Function">i</a> <a id="5533" class="Symbol">.</a><a id="5534" href="EUTxOErr.EUTxO.html#2437" class="Field">validator</a><a id="5543" class="Symbol">)</a> <a id="5545" href="EUTxOErr.DoubleSatisfaction.html#5261" class="Function">txi</a> <a id="5549" class="Symbol">(</a><a id="5550" href="EUTxOErr.DoubleSatisfaction.html#2191" class="Function">i</a> <a id="5552" class="Symbol">.</a><a id="5553" href="EUTxOErr.EUTxO.html#2467" class="Field">redeemer</a><a id="5561" class="Symbol">)</a> <a id="5563" class="Symbol">(</a><a id="5564" href="EUTxOErr.DoubleSatisfaction.html#2139" class="Function">o</a> <a id="5566" class="Symbol">.</a><a id="5567" href="EUTxOErr.EUTxO.html#1772" class="Field">datum</a><a id="5572" class="Symbol">))</a>
  <a id="5577" href="EUTxOErr.DoubleSatisfaction.html#5515" class="Function">val≡</a> <a id="5582" class="Symbol">=</a> <a id="5584" href="Prelude.General.html#4125" class="Function">true⇒T</a> <a id="5591" href="Function.Base.html#1928" class="Function Operator">$</a>
    <a id="5597" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="5609" href="EUTxOErr.EUTxO.html#2304" class="Function">call</a> <a id="5614" class="Symbol">(</a><a id="5615" href="EUTxOErr.DoubleSatisfaction.html#2191" class="Function">i</a> <a id="5617" class="Symbol">.</a><a id="5618" href="EUTxOErr.EUTxO.html#2437" class="Field">validator</a><a id="5627" class="Symbol">)</a> <a id="5629" href="EUTxOErr.DoubleSatisfaction.html#5261" class="Function">txi</a> <a id="5633" class="Symbol">(</a><a id="5634" href="EUTxOErr.DoubleSatisfaction.html#2191" class="Function">i</a> <a id="5636" class="Symbol">.</a><a id="5637" href="EUTxOErr.EUTxO.html#2467" class="Field">redeemer</a><a id="5645" class="Symbol">)</a> <a id="5647" class="Symbol">(</a><a id="5648" href="EUTxOErr.DoubleSatisfaction.html#2139" class="Function">o</a> <a id="5650" class="Symbol">.</a><a id="5651" href="EUTxOErr.EUTxO.html#1772" class="Field">datum</a><a id="5656" class="Symbol">)</a>
    <a id="5662" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="5672" href="EUTxOErr.DoubleSatisfaction.html#963" class="Function">toggle</a> <a id="5679" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a> <a id="5687" href="EUTxOErr.DoubleSatisfaction.html#5261" class="Function">txi</a> <a id="5691" class="String">&quot;&quot;</a> <a id="5694" class="Symbol">(</a><a id="5695" href="Common.Data.html#289" class="Field">serialise</a> <a id="5705" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a><a id="5706" class="Symbol">)</a>
    <a id="5712" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5715" href="EUTxOErr.DoubleSatisfaction.html#1721" class="Function">toggle≡</a> <a id="5723" class="Symbol">{</a><a id="5724" class="String">&quot;&quot;</a><a id="5726" class="Symbol">}{</a><a id="5728" href="EUTxOErr.DoubleSatisfaction.html#5261" class="Function">txi</a><a id="5731" class="Symbol">}</a>
        <a id="5741" class="Symbol">(</a> <a id="5743" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="5749" class="Symbol">(</a><a id="5750" href="Data.List.Relation.Unary.Any.html#1165" class="Datatype">Any</a> <a id="5754" class="Symbol">(</a><a id="5755" href="EUTxOErr.DoubleSatisfaction.html#1403" class="Function">consume◇</a> <a id="5764" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡_</a><a id="5766" class="Symbol">)</a> <a id="5768" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="5770" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5774" href="EUTxOErr.EUTxO.html#3413" class="Function">mkInputInfo</a><a id="5785" class="Symbol">)</a> <a id="5787" class="Symbol">(</a><a id="5788" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="5792" href="EUTxOErr.DoubleSatisfaction.html#5407" class="Postulate">ris≡</a><a id="5796" class="Symbol">)</a>
        <a id="5806" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5808" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="5813" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="5826" class="Symbol">)</a>
        <a id="5836" class="Symbol">(</a><a id="5837" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="5842" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="5846" class="Symbol">)</a> <a id="5848" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="5856" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>
    <a id="5865" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="5867" class="Keyword">where</a> <a id="5873" class="Keyword">open</a> <a id="5878" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

  <a id="5893" href="EUTxOErr.DoubleSatisfaction.html#5893" class="Function">_</a> <a id="5895" class="Symbol">:</a> <a id="5897" href="EUTxOErr.Ledger.html#980" class="Datatype">VL</a> <a id="5900" href="Prelude.Maps.AsSets.html#930" class="InductiveConstructor">∅</a> <a id="5902" href="EUTxOErr.DoubleSatisfaction.html#2669" class="Function">doubleSat</a>
  <a id="5914" class="Symbol">_</a> <a id="5916" class="Symbol">=</a> <a id="5918" href="EUTxOErr.DoubleSatisfaction.html#2012" class="Function">t₀</a>
    <a id="5925" href="EUTxOErr.Ledger.html#1039" class="InductiveConstructor Operator">⊣</a> <a id="5927" class="Keyword">record</a>
      <a id="5940" class="Symbol">{</a> <a id="5942" href="EUTxOErr.EUTxO.html#4282" class="Field">noDoubleSpending</a>    <a id="5962" class="Symbol">=</a> <a id="5964" href="Data.List.Relation.Unary.AllPairs.Core.html#990" class="InductiveConstructor">[]</a>
      <a id="5973" class="Symbol">;</a> <a id="5975" href="EUTxOErr.EUTxO.html#4336" class="Field">validOutputRefs</a>     <a id="5995" class="Symbol">=</a> <a id="5997" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a>
      <a id="6006" class="Symbol">;</a> <a id="6008" href="EUTxOErr.EUTxO.html#4575" class="Field">preservesValues</a>     <a id="6028" class="Symbol">=</a> <a id="6030" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="6041" class="Symbol">;</a> <a id="6043" href="EUTxOErr.EUTxO.html#4673" class="Field">allInputsValidate</a>   <a id="6063" class="Symbol">=</a> <a id="6065" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a>
      <a id="6074" class="Symbol">;</a> <a id="6076" href="EUTxOErr.EUTxO.html#4798" class="Field">validateValidHashes</a> <a id="6096" class="Symbol">=</a> <a id="6098" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a>
      <a id="6107" class="Symbol">}</a>
    <a id="6113" href="EUTxOErr.Ledger.html#1039" class="InductiveConstructor Operator">∷</a> <a id="6115" href="EUTxOErr.DoubleSatisfaction.html#2437" class="Function">t₁′</a>
    <a id="6123" href="EUTxOErr.Ledger.html#1039" class="InductiveConstructor Operator">⊣</a> <a id="6125" class="Keyword">record</a>
      <a id="6138" class="Symbol">{</a> <a id="6140" href="EUTxOErr.EUTxO.html#4282" class="Field">noDoubleSpending</a>    <a id="6160" class="Symbol">=</a> <a id="6162" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a> <a id="6165" href="Data.List.Relation.Unary.AllPairs.Core.html#1010" class="InductiveConstructor Operator">∷</a> <a id="6167" href="Data.List.Relation.Unary.AllPairs.Core.html#990" class="InductiveConstructor">[]</a>
      <a id="6176" class="Symbol">;</a> <a id="6178" href="EUTxOErr.EUTxO.html#4336" class="Field">validOutputRefs</a>     <a id="6198" class="Symbol">=</a> <a id="6200" href="EUTxOErr.DoubleSatisfaction.html#5014" class="Function">vor</a>
      <a id="6210" class="Symbol">;</a> <a id="6212" href="EUTxOErr.EUTxO.html#4575" class="Field">preservesValues</a>     <a id="6232" class="Symbol">=</a> <a id="6234" href="EUTxOErr.DoubleSatisfaction.html#6336" class="Function">pv</a>
      <a id="6243" class="Symbol">;</a> <a id="6245" href="EUTxOErr.EUTxO.html#4673" class="Field">allInputsValidate</a>   <a id="6265" class="Symbol">=</a> <a id="6267" href="EUTxOErr.DoubleSatisfaction.html#6466" class="Function">aiv</a>
      <a id="6277" class="Symbol">;</a> <a id="6279" href="EUTxOErr.EUTxO.html#4798" class="Field">validateValidHashes</a> <a id="6299" class="Symbol">=</a> <a id="6301" href="EUTxOErr.DoubleSatisfaction.html#6616" class="Function">vvh</a>
      <a id="6311" class="Symbol">}</a>
    <a id="6317" href="EUTxOErr.Ledger.html#1039" class="InductiveConstructor Operator">∷</a> <a id="6319" href="EUTxOErr.Ledger.html#1007" class="InductiveConstructor">[]</a>
    <a id="6326" class="Keyword">where</a>
    <a id="6336" href="EUTxOErr.DoubleSatisfaction.html#6336" class="Function">pv</a> <a id="6339" class="Symbol">:</a> <a id="6341" href="EUTxOErr.DoubleSatisfaction.html#2437" class="Function">t₁′</a> <a id="6345" class="Symbol">.</a><a id="6346" href="EUTxOErr.EUTxO.html#2599" class="Field">forge</a> <a id="6352" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="6354" href="Common.Utils.html#101" class="Function">∑</a> <a id="6356" href="EUTxOErr.DoubleSatisfaction.html#5342" class="Function">ris</a> <a id="6360" class="Symbol">(</a><a id="6361" href="EUTxOErr.EUTxO.html#1796" class="Field">value</a> <a id="6367" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="6369" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="6374" class="Symbol">)</a> <a id="6376" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6378" href="Common.Utils.html#101" class="Function">∑</a> <a id="6380" class="Symbol">(</a><a id="6381" href="EUTxOErr.DoubleSatisfaction.html#2437" class="Function">t₁′</a> <a id="6385" class="Symbol">.</a><a id="6386" href="EUTxOErr.EUTxO.html#2567" class="Field">outputs</a><a id="6393" class="Symbol">)</a> <a id="6395" href="EUTxOErr.EUTxO.html#1796" class="Field">value</a>
    <a id="6405" href="EUTxOErr.DoubleSatisfaction.html#6336" class="Function">pv</a> <a id="6408" class="Symbol">=</a> <a id="6410" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="6415" class="Symbol">(λ</a> <a id="6418" href="EUTxOErr.DoubleSatisfaction.html#6418" class="Bound">⋆</a> <a id="6420" class="Symbol">→</a> <a id="6422" href="EUTxOErr.DoubleSatisfaction.html#2437" class="Function">t₁′</a> <a id="6426" class="Symbol">.</a><a id="6427" href="EUTxOErr.EUTxO.html#2599" class="Field">forge</a> <a id="6433" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="6435" href="Common.Utils.html#101" class="Function">∑</a> <a id="6437" href="EUTxOErr.DoubleSatisfaction.html#6418" class="Bound">⋆</a> <a id="6439" class="Symbol">(</a><a id="6440" href="EUTxOErr.EUTxO.html#1796" class="Field">value</a> <a id="6446" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="6448" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="6453" class="Symbol">))</a> <a id="6456" href="EUTxOErr.DoubleSatisfaction.html#5407" class="Postulate">ris≡</a>

    <a id="6466" href="EUTxOErr.DoubleSatisfaction.html#6466" class="Function">aiv</a> <a id="6470" class="Symbol">:</a> <a id="6472" href="Prelude.Allable.html#267" class="Function">∀[</a> <a id="6475" href="EUTxOErr.DoubleSatisfaction.html#6475" class="Bound">(</a><a id="6476" href="EUTxOErr.DoubleSatisfaction.html#6476" class="Bound">i</a> <a id="6478" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6480" href="EUTxOErr.DoubleSatisfaction.html#6480" class="Bound">o</a><a id="6481" href="EUTxOErr.DoubleSatisfaction.html#6475" class="Bound">)</a> <a id="6483" href="Prelude.Allable.html#267" class="Function">∈</a> <a id="6485" href="EUTxOErr.DoubleSatisfaction.html#5342" class="Function">ris</a> <a id="6489" href="Prelude.Allable.html#267" class="Function">]</a>
      <a id="6497" href="Data.Bool.Base.html#1460" class="Function">T</a> <a id="6499" class="Symbol">(</a><a id="6500" href="EUTxOErr.EUTxO.html#2304" class="Function">call</a> <a id="6505" class="Symbol">(</a><a id="6506" href="EUTxOErr.DoubleSatisfaction.html#6476" class="Bound">i</a> <a id="6508" class="Symbol">.</a><a id="6509" href="EUTxOErr.EUTxO.html#2437" class="Field">validator</a><a id="6518" class="Symbol">)</a> <a id="6520" href="EUTxOErr.DoubleSatisfaction.html#5261" class="Function">txi</a> <a id="6524" class="Symbol">(</a><a id="6525" href="EUTxOErr.DoubleSatisfaction.html#6476" class="Bound">i</a> <a id="6527" class="Symbol">.</a><a id="6528" href="EUTxOErr.EUTxO.html#2467" class="Field">redeemer</a><a id="6536" class="Symbol">)</a> <a id="6538" class="Symbol">(</a><a id="6539" href="EUTxOErr.DoubleSatisfaction.html#6480" class="Bound">o</a> <a id="6541" class="Symbol">.</a><a id="6542" href="EUTxOErr.EUTxO.html#1772" class="Field">datum</a><a id="6547" class="Symbol">))</a>
    <a id="6554" href="EUTxOErr.DoubleSatisfaction.html#6466" class="Function">aiv</a> <a id="6558" class="Symbol">=</a> <a id="6560" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="6566" class="Symbol">(</a><a id="6567" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">L.All.All</a> <a id="6577" class="Symbol">_)</a> <a id="6580" class="Symbol">(</a><a id="6581" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="6585" href="EUTxOErr.DoubleSatisfaction.html#5407" class="Postulate">ris≡</a><a id="6589" class="Symbol">)</a>
        <a id="6599" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6601" href="EUTxOErr.DoubleSatisfaction.html#5515" class="Function">val≡</a> <a id="6606" href="Data.List.Relation.Unary.All.html#1533" class="InductiveConstructor Operator">∷</a> <a id="6608" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a>

    <a id="6616" href="EUTxOErr.DoubleSatisfaction.html#6616" class="Function">vvh</a> <a id="6620" class="Symbol">:</a> <a id="6622" href="Prelude.Allable.html#267" class="Function">∀[</a> <a id="6625" href="EUTxOErr.DoubleSatisfaction.html#6625" class="Bound">(</a><a id="6626" href="EUTxOErr.DoubleSatisfaction.html#6626" class="Bound">i</a> <a id="6628" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6630" href="EUTxOErr.DoubleSatisfaction.html#6630" class="Bound">o</a><a id="6631" href="EUTxOErr.DoubleSatisfaction.html#6625" class="Bound">)</a> <a id="6633" href="Prelude.Allable.html#267" class="Function">∈</a> <a id="6635" href="EUTxOErr.DoubleSatisfaction.html#5342" class="Function">ris</a> <a id="6639" href="Prelude.Allable.html#267" class="Function">]</a>
      <a id="6647" class="Symbol">(</a><a id="6648" href="EUTxOErr.DoubleSatisfaction.html#6630" class="Bound">o</a> <a id="6650" class="Symbol">.</a><a id="6651" href="EUTxOErr.EUTxO.html#1821" class="Field">address</a> <a id="6659" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6661" href="EUTxOErr.DoubleSatisfaction.html#6626" class="Bound">i</a> <a id="6663" class="Symbol">.</a><a id="6664" href="EUTxOErr.EUTxO.html#2437" class="Field">validator</a> <a id="6674" href="Common.Hash.html#96" class="Postulate Operator">♯</a><a id="6675" class="Symbol">)</a>
    <a id="6681" href="EUTxOErr.DoubleSatisfaction.html#6616" class="Function">vvh</a> <a id="6685" class="Symbol">=</a> <a id="6687" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="6693" class="Symbol">(</a><a id="6694" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">L.All.All</a> <a id="6704" class="Symbol">_)</a> <a id="6707" class="Symbol">(</a><a id="6708" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="6712" href="EUTxOErr.DoubleSatisfaction.html#5407" class="Postulate">ris≡</a><a id="6716" class="Symbol">)</a>
        <a id="6726" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6728" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="6733" href="Data.List.Relation.Unary.All.html#1533" class="InductiveConstructor Operator">∷</a> <a id="6735" href="Data.List.Relation.Unary.All.html#1516" class="InductiveConstructor">[]</a>

  <a id="6741" class="Keyword">open</a> <a id="6746" href="Common.HoareLogic.html#2892" class="Module">HoareReasoning</a>
  <a id="6763" href="EUTxOErr.DoubleSatisfaction.html#6763" class="Function">_</a> <a id="6765" class="Symbol">=</a>
    <a id="6771" href="Common.HoareLogic.html#3073" class="Field Operator">begin</a>
      <a id="6783" href="EUTxOErr.HoareLogic.html#729" class="Function">emp</a>
    <a id="6791" href="Common.HoareLogic.html#3519" class="Function Operator">~⟨</a> <a id="6794" href="EUTxOErr.DoubleSatisfaction.html#2012" class="Function">t₀</a> <a id="6797" href="Common.HoareLogic.html#3519" class="Function Operator">∶-</a> <a id="6800" href="EUTxOErr.HoareLogic.html#2028" class="Function">𝟘⇒𝟙</a> <a id="6804" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="6809" href="Common.HoareLogic.html#3519" class="Function Operator">⟩</a>
      <a id="6817" href="EUTxOErr.DoubleSatisfaction.html#2112" class="Function">t₀₀</a> <a id="6821" href="EUTxOErr.HoareLogic.html#847" class="Function Operator">↦</a> <a id="6823" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="6825" href="Common.Data.html#289" class="Field">serialise</a> <a id="6835" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a> <a id="6837" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="6839" class="Number">1</a> <a id="6841" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="6843" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="6846" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a>
    <a id="6858" href="Common.HoareLogic.html#3519" class="Function Operator">~⟨</a> <a id="6861" href="EUTxOErr.DoubleSatisfaction.html#2437" class="Function">t₁′</a> <a id="6865" href="Common.HoareLogic.html#3519" class="Function Operator">∶-</a> <a id="6868" href="EUTxOErr.HoareLogic.html#3414" class="Function">𝟙⇒𝟚</a> <a id="6872" href="EUTxOErr.DoubleSatisfaction.html#5084" class="Function">rt₁′</a> <a id="6877" href="EUTxOErr.DoubleSatisfaction.html#5515" class="Function">val≡</a> <a id="6882" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="6887" href="Common.HoareLogic.html#3519" class="Function Operator">⟩</a>
      <a id="6895" href="EUTxOErr.DoubleSatisfaction.html#2602" class="Function">t₁′₀</a> <a id="6900" href="EUTxOErr.HoareLogic.html#847" class="Function Operator">↦</a> <a id="6902" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="6904" href="Common.Data.html#289" class="Field">serialise</a> <a id="6914" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="6916" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="6918" class="Number">1</a> <a id="6920" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="6922" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="6925" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a>
      <a id="6939" href="EUTxOErr.HoareLogic.html#767" class="Function Operator">∗</a>
      <a id="6947" href="EUTxOErr.DoubleSatisfaction.html#2630" class="Function">t₁′₁</a> <a id="6952" href="EUTxOErr.HoareLogic.html#847" class="Function Operator">↦</a> <a id="6954" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="6956" href="Common.Data.html#289" class="Field">serialise</a> <a id="6966" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="6968" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="6970" class="Number">1</a> <a id="6972" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="6974" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="6977" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a>
    <a id="6989" href="Common.HoareLogic.html#3972" class="Function Operator">∎</a>

<a id="6992" class="Comment">-- ** Rule out double satisfaction</a>

<a id="7028" class="Keyword">data</a> <a id="YesDP"></a><a id="7033" href="EUTxOErr.DoubleSatisfaction.html#7033" class="Datatype">YesDP</a> <a id="7039" class="Symbol">(</a><a id="7040" href="EUTxOErr.DoubleSatisfaction.html#7040" class="Bound">s₀</a> <a id="7043" class="Symbol">:</a> <a id="7045" href="EUTxOErr.DoubleSatisfaction.html#329" class="Function">UTxOSet</a><a id="7052" class="Symbol">)</a> <a id="7054" class="Symbol">:</a> <a id="7056" href="Agda.Primitive.html#320" class="Primitive">Type₁</a> <a id="7062" class="Keyword">where</a>
  <a id="YesDP.yesDP"></a><a id="7070" href="EUTxOErr.DoubleSatisfaction.html#7070" class="InductiveConstructor">yesDP</a> <a id="7076" class="Symbol">:</a> <a id="7078" class="Symbol">∀</a> <a id="7080" class="Symbol">{</a><a id="7081" href="EUTxOErr.DoubleSatisfaction.html#7081" class="Bound">t</a> <a id="7083" href="EUTxOErr.DoubleSatisfaction.html#7083" class="Bound">txi</a> <a id="7087" href="EUTxOErr.DoubleSatisfaction.html#7087" class="Bound">txi′</a> <a id="7092" href="EUTxOErr.DoubleSatisfaction.html#7092" class="Bound">txi″</a> <a id="7097" href="EUTxOErr.DoubleSatisfaction.html#7097" class="Bound">v</a> <a id="7099" href="EUTxOErr.DoubleSatisfaction.html#7099" class="Bound">v′</a> <a id="7102" href="EUTxOErr.DoubleSatisfaction.html#7102" class="Bound">v″</a><a id="7104" class="Symbol">}</a> <a id="7106" class="Symbol">→</a>
    <a id="7112" href="Common.HoareLogic.html#955" class="Function Operator">⟨</a> <a id="7114" href="EUTxOErr.DoubleSatisfaction.html#7083" class="Bound">txi</a>  <a id="7119" href="EUTxOErr.HoareLogic.html#847" class="Function Operator">↦</a> <a id="7121" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="7123" href="Common.Data.html#289" class="Field">serialise</a> <a id="7133" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a> <a id="7135" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="7137" href="EUTxOErr.DoubleSatisfaction.html#7097" class="Bound">v</a>  <a id="7140" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="7142" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="7145" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a> <a id="7153" href="Common.HoareLogic.html#955" class="Function Operator">⟩</a> <a id="7155" class="Comment">-- ∗ R ⟩</a>
    <a id="7168" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="7170" href="EUTxOErr.DoubleSatisfaction.html#7081" class="Bound">t</a> <a id="7172" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
    <a id="7178" href="Common.HoareLogic.html#955" class="Function Operator">⟨</a> <a id="7180" href="EUTxOErr.DoubleSatisfaction.html#7087" class="Bound">txi′</a> <a id="7185" href="EUTxOErr.HoareLogic.html#847" class="Function Operator">↦</a> <a id="7187" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="7189" href="Common.Data.html#289" class="Field">serialise</a> <a id="7199" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="7201" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="7203" href="EUTxOErr.DoubleSatisfaction.html#7099" class="Bound">v′</a> <a id="7206" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="7208" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="7211" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a>
    <a id="7223" href="EUTxOErr.HoareLogic.html#767" class="Function Operator">∗</a> <a id="7225" href="EUTxOErr.DoubleSatisfaction.html#7092" class="Bound">txi″</a> <a id="7230" href="EUTxOErr.HoareLogic.html#847" class="Function Operator">↦</a> <a id="7232" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="7234" href="Common.Data.html#289" class="Field">serialise</a> <a id="7244" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="7246" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="7248" href="EUTxOErr.DoubleSatisfaction.html#7102" class="Bound">v″</a> <a id="7251" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="7253" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="7256" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a> <a id="7264" class="Comment">-- ∗ R</a>
    <a id="7275" href="Common.HoareLogic.html#955" class="Function Operator">⟩＠</a> <a id="7278" href="EUTxOErr.DoubleSatisfaction.html#7040" class="Bound">s₀</a>
    <a id="7285" href="Prelude.InferenceRules.html#13137" class="Function Operator">──────────────────────────────────────────────</a>
    <a id="7336" href="EUTxOErr.DoubleSatisfaction.html#7033" class="Datatype">YesDP</a> <a id="7342" href="EUTxOErr.DoubleSatisfaction.html#7040" class="Bound">s₀</a>

<a id="yesDP-toggle"></a><a id="7346" href="EUTxOErr.DoubleSatisfaction.html#7346" class="Function">yesDP-toggle</a> <a id="7359" class="Symbol">:</a> <a id="7361" class="Symbol">∀</a> <a id="7363" href="EUTxOErr.DoubleSatisfaction.html#7363" class="Bound">s₀</a> <a id="7366" class="Symbol">→</a> <a id="7368" href="EUTxOErr.DoubleSatisfaction.html#7033" class="Datatype">YesDP</a> <a id="7374" href="EUTxOErr.DoubleSatisfaction.html#7363" class="Bound">s₀</a>
<a id="7377" href="EUTxOErr.DoubleSatisfaction.html#7346" class="Function">yesDP-toggle</a> <a id="7390" href="EUTxOErr.DoubleSatisfaction.html#7390" class="Bound">s₀</a> <a id="7393" class="Symbol">=</a> <a id="7395" href="EUTxOErr.DoubleSatisfaction.html#7070" class="InductiveConstructor">yesDP</a> <a id="7401" class="Symbol">{</a><a id="7402" class="Argument">t</a> <a id="7404" class="Symbol">=</a> <a id="7406" href="EUTxOErr.DoubleSatisfaction.html#7682" class="Function">$t</a><a id="7408" class="Symbol">}</a> <a id="7410" class="Symbol">λ</a> <a id="7412" href="EUTxOErr.DoubleSatisfaction.html#7412" class="Bound">Ps₀</a> <a id="7416" class="Symbol">→</a>
  <a id="7420" class="Keyword">let</a> <a id="7424" class="Keyword">open</a> <a id="7429" href="EUTxOErr.DoubleSatisfaction.html#7879" class="Module">𝕄</a> <a id="7431" href="EUTxOErr.DoubleSatisfaction.html#7412" class="Bound">Ps₀</a>
  <a id="7437" class="Keyword">in</a> <a id="7440" href="EUTxOErr.HoareLogic.html#2930" class="Postulate">1⇒2</a> <a id="7444" href="EUTxOErr.DoubleSatisfaction.html#8033" class="Function">rt</a> <a id="7447" href="EUTxOErr.DoubleSatisfaction.html#8343" class="Function">val≡</a> <a id="7452" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="7457" href="EUTxOErr.DoubleSatisfaction.html#7412" class="Bound">Ps₀</a>
  <a id="7463" class="Keyword">where</a>
    <a id="7473" href="EUTxOErr.DoubleSatisfaction.html#7473" class="Function">txi₀</a> <a id="7478" class="Symbol">=</a> <a id="7480" href="EUTxOErr.EUTxO.html#1970" class="Record">TxOutputRef</a> <a id="7492" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="7494" href="EUTxOErr.DoubleSatisfaction.html#2112" class="Function">t₀₀</a>

    <a id="7503" href="EUTxOErr.DoubleSatisfaction.html#7503" class="Function">$o</a>  <a id="7507" class="Symbol">=</a> <a id="7509" href="EUTxOErr.EUTxO.html#1720" class="Record">TxOutput</a> <a id="7518" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="7520" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="7522" href="Common.Data.html#289" class="Field">serialise</a> <a id="7532" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a> <a id="7534" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="7536" class="Number">1</a> <a id="7538" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="7540" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="7543" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a>
    <a id="7555" href="EUTxOErr.DoubleSatisfaction.html#7555" class="Function">$i</a>  <a id="7559" class="Symbol">=</a> <a id="7561" href="EUTxOErr.EUTxO.html#2376" class="Record">TxInput</a>  <a id="7570" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="7572" class="Keyword">record</a>
      <a id="7585" class="Symbol">{</a> <a id="7587" href="EUTxOErr.EUTxO.html#2405" class="Field">outputRef</a> <a id="7597" class="Symbol">=</a> <a id="7599" href="EUTxOErr.DoubleSatisfaction.html#7473" class="Function">txi₀</a> <a id="7604" class="Symbol">;</a> <a id="7606" href="EUTxOErr.EUTxO.html#2437" class="Field">validator</a> <a id="7616" class="Symbol">=</a> <a id="7618" href="EUTxOErr.DoubleSatisfaction.html#963" class="Function">toggle</a> <a id="7625" class="Symbol">;</a> <a id="7627" href="EUTxOErr.EUTxO.html#2467" class="Field">redeemer</a> <a id="7636" class="Symbol">=</a> <a id="7638" class="String">&quot;&quot;</a> <a id="7641" class="Symbol">}</a>
    <a id="7647" href="EUTxOErr.DoubleSatisfaction.html#7647" class="Function">$ri</a> <a id="7651" class="Symbol">=</a> <a id="7653" href="EUTxOErr.EUTxO.html#2886" class="Function">ResolvedInput</a> <a id="7667" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="7669" href="EUTxOErr.DoubleSatisfaction.html#7555" class="Function">$i</a> <a id="7672" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7674" href="EUTxOErr.DoubleSatisfaction.html#7503" class="Function">$o</a>

    <a id="7682" href="EUTxOErr.DoubleSatisfaction.html#7682" class="Function">$t</a> <a id="7685" class="Symbol">=</a> <a id="7687" href="EUTxOErr.EUTxO.html#2512" class="Record">Tx</a> <a id="7690" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="7692" class="Keyword">record</a>
      <a id="7705" class="Symbol">{</a> <a id="7707" href="EUTxOErr.EUTxO.html#2536" class="Field">inputs</a>  <a id="7715" class="Symbol">=</a> <a id="7717" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="7719" href="EUTxOErr.DoubleSatisfaction.html#7555" class="Function">$i</a> <a id="7722" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
      <a id="7730" class="Symbol">;</a> <a id="7732" href="EUTxOErr.EUTxO.html#2567" class="Field">outputs</a> <a id="7740" class="Symbol">=</a> <a id="7742" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="7744" href="Common.Data.html#289" class="Field">serialise</a> <a id="7754" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="7756" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="7758" class="Number">1</a> <a id="7760" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="7762" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="7765" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a>
                <a id="7789" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7791" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="7793" href="Common.Data.html#289" class="Field">serialise</a> <a id="7803" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="7805" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="7807" class="Number">1</a> <a id="7809" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="7811" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="7814" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a>
                <a id="7838" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7840" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
      <a id="7849" class="Symbol">;</a> <a id="7851" href="EUTxOErr.EUTxO.html#2599" class="Field">forge</a>   <a id="7859" class="Symbol">=</a> <a id="7861" class="Number">1</a> <a id="7863" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="7865" class="Symbol">}</a>

    <a id="7872" class="Keyword">module</a> <a id="7879" href="EUTxOErr.DoubleSatisfaction.html#7879" class="Module">𝕄</a> <a id="7881" class="Symbol">(</a><a id="7882" href="EUTxOErr.DoubleSatisfaction.html#7882" class="Bound">Ps₀</a> <a id="7886" class="Symbol">:</a> <a id="7888" class="Symbol">(</a><a id="7889" href="EUTxOErr.DoubleSatisfaction.html#2112" class="Function">t₀₀</a> <a id="7893" href="EUTxOErr.HoareLogic.html#847" class="Function Operator">↦</a> <a id="7895" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="7897" href="Common.Data.html#289" class="Field">serialise</a> <a id="7907" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a> <a id="7909" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="7911" class="Number">1</a> <a id="7913" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="7915" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="7918" href="EUTxOErr.DoubleSatisfaction.html#1347" class="Function">toggle♯</a><a id="7925" class="Symbol">)</a> <a id="7927" href="EUTxOErr.DoubleSatisfaction.html#7390" class="Bound">s₀</a><a id="7929" class="Symbol">)</a> <a id="7931" class="Keyword">where</a>
      <a id="7943" class="Keyword">postulate</a> <a id="7953" href="EUTxOErr.DoubleSatisfaction.html#7953" class="Postulate">vor</a> <a id="7957" class="Symbol">:</a> <a id="7959" href="Prelude.Allable.html#267" class="Function">∀[</a> <a id="7962" href="EUTxOErr.DoubleSatisfaction.html#7962" class="Bound">ref</a> <a id="7966" href="Prelude.Allable.html#267" class="Function">∈</a> <a id="7968" href="EUTxOErr.EUTxO.html#2710" class="Function">outputRefs</a> <a id="7979" href="EUTxOErr.DoubleSatisfaction.html#7682" class="Function">$t</a> <a id="7982" href="Prelude.Allable.html#267" class="Function">]</a> <a id="7984" class="Symbol">(</a><a id="7985" href="EUTxOErr.DoubleSatisfaction.html#7962" class="Bound">ref</a> <a id="7989" href="Prelude.Maps.AsSets.html#1627" class="Function Operator">∈ᵈ</a> <a id="7992" href="EUTxOErr.DoubleSatisfaction.html#7390" class="Bound">s₀</a><a id="7994" class="Symbol">)</a>
      <a id="8002" class="Comment">-- vor = here refl ∷ []</a>

      <a id="8033" href="EUTxOErr.DoubleSatisfaction.html#8033" class="Function">rt</a>  <a id="8037" class="Symbol">=</a> <a id="8039" href="EUTxOErr.EUTxO.html#2782" class="Function">Resolved</a> <a id="8048" href="EUTxOErr.DoubleSatisfaction.html#7682" class="Function">$t</a>
          <a id="8061" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="8063" href="Data.List.Relation.Unary.All.html#2944" class="Function">L.All.map</a> <a id="8073" class="Symbol">(</a><a id="8074" href="EUTxOErr.DoubleSatisfaction.html#7390" class="Bound">s₀</a> <a id="8077" href="EUTxOErr.DoubleSatisfaction.html#357" class="Function Operator">‼ᵐ_</a><a id="8080" class="Symbol">)</a> <a id="8082" href="EUTxOErr.DoubleSatisfaction.html#7953" class="Postulate">vor</a>
      <a id="8092" href="EUTxOErr.DoubleSatisfaction.html#8092" class="Function">txi</a> <a id="8096" class="Symbol">=</a> <a id="8098" href="EUTxOErr.EUTxO.html#3589" class="Function">mkTxInfo</a> <a id="8107" href="EUTxOErr.DoubleSatisfaction.html#7682" class="Function">$t</a> <a id="8110" href="EUTxOErr.DoubleSatisfaction.html#8033" class="Function">rt</a>
      <a id="8119" href="EUTxOErr.DoubleSatisfaction.html#8119" class="Function">is</a>  <a id="8123" class="Symbol">=</a> <a id="8125" href="EUTxOErr.DoubleSatisfaction.html#8092" class="Function">txi</a> <a id="8129" class="Symbol">.</a><a id="8130" href="EUTxOErr.EUTxO.html#1548" class="Field">TxInfo.inputs</a>
      <a id="8150" href="EUTxOErr.DoubleSatisfaction.html#8150" class="Function">os</a>  <a id="8154" class="Symbol">=</a> <a id="8156" href="EUTxOErr.DoubleSatisfaction.html#8092" class="Function">txi</a> <a id="8160" class="Symbol">.</a><a id="8161" href="EUTxOErr.EUTxO.html#1583" class="Field">TxInfo.outputs</a>
      <a id="8182" href="EUTxOErr.DoubleSatisfaction.html#8182" class="Function">ris</a> <a id="8186" class="Symbol">=</a> <a id="8188" href="EUTxOErr.EUTxO.html#2959" class="Function">resolveInputs</a> <a id="8202" href="EUTxOErr.DoubleSatisfaction.html#7682" class="Function">$t</a> <a id="8205" href="EUTxOErr.DoubleSatisfaction.html#8033" class="Function">rt</a>

      <a id="8215" class="Keyword">postulate</a> <a id="8225" href="EUTxOErr.DoubleSatisfaction.html#8225" class="Postulate">rt≡</a> <a id="8229" class="Symbol">:</a> <a id="8231" href="EUTxOErr.DoubleSatisfaction.html#8033" class="Function">rt</a> <a id="8234" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="8236" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="8238" href="EUTxOErr.DoubleSatisfaction.html#7503" class="Function">$o</a> <a id="8241" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
      <a id="8249" class="Comment">-- rt≡ = cong (_∷ []) $ ‼-singleton {k = txi₀}{o}</a>

      <a id="8306" class="Keyword">postulate</a> <a id="8316" href="EUTxOErr.DoubleSatisfaction.html#8316" class="Postulate">ris≡</a> <a id="8321" class="Symbol">:</a> <a id="8323" href="EUTxOErr.DoubleSatisfaction.html#8182" class="Function">ris</a> <a id="8327" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="8329" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="8331" href="EUTxOErr.DoubleSatisfaction.html#2276" class="Function">ri</a> <a id="8334" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>

      <a id="8343" href="EUTxOErr.DoubleSatisfaction.html#8343" class="Function">val≡</a> <a id="8348" class="Symbol">:</a> <a id="8350" href="Data.Bool.Base.html#1460" class="Function">T</a> <a id="8352" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="8354" href="EUTxOErr.EUTxO.html#2304" class="Function">call</a> <a id="8359" href="EUTxOErr.DoubleSatisfaction.html#963" class="Function">toggle</a> <a id="8366" href="EUTxOErr.DoubleSatisfaction.html#8092" class="Function">txi</a> <a id="8370" class="String">&quot;&quot;</a> <a id="8373" class="Symbol">(</a><a id="8374" href="Common.Data.html#289" class="Field">serialise</a> <a id="8384" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a><a id="8385" class="Symbol">)</a>
      <a id="8393" href="EUTxOErr.DoubleSatisfaction.html#8343" class="Function">val≡</a> <a id="8398" class="Symbol">=</a> <a id="8400" href="Prelude.General.html#4125" class="Function">true⇒T</a> <a id="8407" href="Function.Base.html#1928" class="Function Operator">$</a>
        <a id="8417" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
          <a id="8433" href="EUTxOErr.EUTxO.html#2304" class="Function">call</a> <a id="8438" href="EUTxOErr.DoubleSatisfaction.html#963" class="Function">toggle</a> <a id="8445" href="EUTxOErr.DoubleSatisfaction.html#8092" class="Function">txi</a> <a id="8449" class="String">&quot;&quot;</a> <a id="8452" class="Symbol">(</a><a id="8453" href="Common.Data.html#289" class="Field">serialise</a> <a id="8463" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a><a id="8464" class="Symbol">)</a>
        <a id="8474" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="8477" href="EUTxOErr.DoubleSatisfaction.html#1721" class="Function">toggle≡</a> <a id="8485" class="Symbol">{</a><a id="8486" class="String">&quot;&quot;</a><a id="8488" class="Symbol">}{</a><a id="8490" href="EUTxOErr.DoubleSatisfaction.html#8092" class="Function">txi</a><a id="8493" class="Symbol">}</a>
            <a id="8507" class="Symbol">(</a> <a id="8509" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="8515" class="Symbol">(</a><a id="8516" href="Data.List.Relation.Unary.Any.html#1165" class="Datatype">Any</a> <a id="8520" class="Symbol">(</a><a id="8521" href="EUTxOErr.DoubleSatisfaction.html#1403" class="Function">consume◇</a> <a id="8530" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡_</a><a id="8532" class="Symbol">)</a> <a id="8534" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="8536" href="Data.List.Base.html#1553" class="Function">map</a> <a id="8540" href="EUTxOErr.EUTxO.html#3413" class="Function">mkInputInfo</a><a id="8551" class="Symbol">)</a> <a id="8553" class="Symbol">(</a><a id="8554" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="8558" href="EUTxOErr.DoubleSatisfaction.html#8316" class="Postulate">ris≡</a><a id="8562" class="Symbol">)</a>
            <a id="8576" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="8578" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="8583" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="8600" class="Symbol">)</a>
            <a id="8614" class="Symbol">(</a><a id="8615" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="8620" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="8624" class="Symbol">)</a> <a id="8626" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="8638" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>
        <a id="8651" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="8653" class="Keyword">where</a> <a id="8659" class="Keyword">open</a> <a id="8664" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

<a id="8677" class="Comment">-- ** Fixed validator</a>
<a id="toggle′"></a><a id="8699" href="EUTxOErr.DoubleSatisfaction.html#8699" class="Function">toggle′</a> <a id="8707" class="Symbol">:</a> <a id="8709" href="EUTxOErr.EUTxO.html#2161" class="Function">Validator</a>
<a id="8719" href="EUTxOErr.DoubleSatisfaction.html#8699" class="Function">toggle′</a> <a id="8727" href="EUTxOErr.DoubleSatisfaction.html#8727" class="Bound">toggle♯</a> <a id="8735" class="Keyword">record</a> <a id="8742" class="Symbol">{</a><a id="8743" href="EUTxOErr.EUTxO.html#1548" class="Field">inputs</a> <a id="8750" class="Symbol">=</a> <a id="8752" href="EUTxOErr.DoubleSatisfaction.html#8752" class="Bound">is</a><a id="8754" class="Symbol">;</a> <a id="8756" href="EUTxOErr.EUTxO.html#1583" class="Field">outputs</a> <a id="8764" class="Symbol">=</a> <a id="8766" href="EUTxOErr.DoubleSatisfaction.html#8766" class="Bound">os</a><a id="8768" class="Symbol">}</a> <a id="8770" class="Symbol">_</a> <a id="8772" href="EUTxOErr.DoubleSatisfaction.html#8772" class="Bound">d</a>
  <a id="8776" class="Keyword">with</a> <a id="8781" href="Common.Data.html#359" class="Field">deserialise</a> <a id="8793" class="Symbol">{</a><a id="8794" class="Argument">A</a> <a id="8796" class="Symbol">=</a> <a id="8798" href="EUTxOErr.DoubleSatisfaction.html#415" class="Datatype">S</a><a id="8799" class="Symbol">}</a> <a id="8801" href="EUTxOErr.DoubleSatisfaction.html#8772" class="Bound">d</a>
<a id="8803" class="Symbol">...</a> <a id="8807" class="Symbol">|</a> <a id="8809" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="8812" class="Symbol">_</a> <a id="8814" class="Symbol">=</a> <a id="8816" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>
<a id="8822" class="Symbol">...</a> <a id="8826" class="Symbol">|</a> <a id="8828" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="8832" class="Symbol">(</a><a id="8833" href="EUTxOErr.DoubleSatisfaction.html#8833" class="Bound">s</a> <a id="8835" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8837" class="Symbol">_)</a> <a id="8840" class="Symbol">=</a> <a id="8842" href="Relation.Nullary.Decidable.Core.html#1321" class="Function Operator">⌊</a> <a id="8844" href="Prelude.Decidable.Core.html#475" class="Function Operator">¿</a> <a id="8846" class="Symbol">(</a><a id="8847" class="Bound">is</a> <a id="8850" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="8852" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="8854" href="EUTxOErr.DoubleSatisfaction.html#8906" class="Function">consume◇′</a> <a id="8864" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="8865" class="Symbol">)</a> <a id="8867" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="8869" class="Symbol">(</a><a id="8870" class="Bound">os</a> <a id="8873" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="8875" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="8877" href="EUTxOErr.DoubleSatisfaction.html#9044" class="Function">produce◆′</a> <a id="8887" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="8888" class="Symbol">)</a> <a id="8890" href="Prelude.Decidable.Core.html#475" class="Function Operator">¿</a> <a id="8892" href="Relation.Nullary.Decidable.Core.html#1321" class="Function Operator">⌋</a>
  <a id="8896" class="Keyword">where</a>
    <a id="8906" href="EUTxOErr.DoubleSatisfaction.html#8906" class="Function">consume◇′</a> <a id="8916" class="Symbol">=</a> <a id="8918" class="Keyword">record</a>
      <a id="8931" class="Symbol">{</a> <a id="8933" href="EUTxOErr.EUTxO.html#1274" class="Field">outputRef</a> <a id="8943" class="Symbol">=</a> <a id="8945" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">⦉</a> <a id="8947" href="Common.Data.html#289" class="Field">serialise</a> <a id="8957" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a> <a id="8959" href="Common.Hash.html#96" class="Postulate Operator">♯</a> <a id="8961" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">⦊</a> <a id="8963" class="Number">1</a> <a id="8965" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="8967" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">at</a> <a id="8970" class="Bound">toggle♯</a>
      <a id="8984" class="Symbol">;</a> <a id="8986" href="EUTxOErr.EUTxO.html#1377" class="Field">validatorHash</a> <a id="9000" class="Symbol">=</a> <a id="9002" class="Bound">toggle♯</a>
      <a id="9016" class="Symbol">;</a> <a id="9018" href="EUTxOErr.EUTxO.html#1408" class="Field">redeemerHash</a> <a id="9031" class="Symbol">=</a> <a id="9033" class="String">&quot;&quot;</a> <a id="9036" href="Common.Hash.html#96" class="Postulate Operator">♯</a> <a id="9038" class="Symbol">}</a>
    <a id="9044" href="EUTxOErr.DoubleSatisfaction.html#9044" class="Function">produce◆′</a> <a id="9054" class="Symbol">=</a> <a id="9056" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">⦉</a> <a id="9058" href="Common.Data.html#289" class="Field">serialise</a> <a id="9068" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="9070" href="Common.Hash.html#96" class="Postulate Operator">♯</a> <a id="9072" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">⦊</a> <a id="9074" class="Number">1</a> <a id="9076" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="9078" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">at</a> <a id="9081" class="Bound">toggle♯</a>
<a id="toggle′♯"></a><a id="9089" href="EUTxOErr.DoubleSatisfaction.html#9089" class="Function">toggle′♯</a> <a id="9098" class="Symbol">=</a> <a id="9100" href="EUTxOErr.DoubleSatisfaction.html#8699" class="Function">toggle′</a> <a id="9108" href="Common.Hash.html#96" class="Postulate Operator">♯</a>

<a id="consume◇′"></a><a id="9111" href="EUTxOErr.DoubleSatisfaction.html#9111" class="Function">consume◇′</a> <a id="9121" class="Symbol">=</a> <a id="9123" href="EUTxOErr.EUTxO.html#1243" class="Record">InputInfo</a> <a id="9133" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="9135" class="Keyword">record</a>
  <a id="9144" class="Symbol">{</a> <a id="9146" href="EUTxOErr.EUTxO.html#1274" class="Field">outputRef</a>     <a id="9160" class="Symbol">=</a> <a id="9162" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">⦉</a> <a id="9164" href="Common.Data.html#289" class="Field">serialise</a> <a id="9174" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a> <a id="9176" href="Common.Hash.html#96" class="Postulate Operator">♯</a> <a id="9178" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">⦊</a> <a id="9180" class="Number">1</a> <a id="9182" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="9184" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">at</a> <a id="9187" href="EUTxOErr.DoubleSatisfaction.html#9089" class="Function">toggle′♯</a>
  <a id="9198" class="Symbol">;</a> <a id="9200" href="EUTxOErr.EUTxO.html#1377" class="Field">validatorHash</a> <a id="9214" class="Symbol">=</a> <a id="9216" href="EUTxOErr.DoubleSatisfaction.html#9089" class="Function">toggle′♯</a>
  <a id="9227" class="Symbol">;</a> <a id="9229" href="EUTxOErr.EUTxO.html#1408" class="Field">redeemerHash</a>  <a id="9243" class="Symbol">=</a> <a id="9245" class="String">&quot;&quot;</a> <a id="9248" href="Common.Hash.html#96" class="Postulate Operator">♯</a> <a id="9250" class="Symbol">}</a>
<a id="produce◆′"></a><a id="9252" href="EUTxOErr.DoubleSatisfaction.html#9252" class="Function">produce◆′</a> <a id="9262" class="Symbol">=</a> <a id="9264" href="EUTxOErr.EUTxO.html#993" class="Record">OutputInfo</a> <a id="9275" href="Function.Base.html#4571" class="Function Operator">∋</a>
  <a id="9279" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">⦉</a> <a id="9281" href="Common.Data.html#289" class="Field">serialise</a> <a id="9291" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="9293" href="Common.Hash.html#96" class="Postulate Operator">♯</a> <a id="9295" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">⦊</a> <a id="9297" class="Number">1</a> <a id="9299" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="9301" href="EUTxOErr.EUTxO.html#1031" class="InductiveConstructor Operator">at</a> <a id="9304" href="EUTxOErr.DoubleSatisfaction.html#9089" class="Function">toggle′♯</a>

<a id="9314" class="Keyword">module</a> <a id="9321" href="EUTxOErr.DoubleSatisfaction.html#9321" class="Module">_</a>
  <a id="9325" class="Symbol">{</a><a id="9326" href="EUTxOErr.DoubleSatisfaction.html#9326" class="Bound">s</a> <a id="9328" class="Symbol">:</a> <a id="9330" href="EUTxOErr.DoubleSatisfaction.html#415" class="Datatype">S</a><a id="9331" class="Symbol">}</a> <a id="9333" class="Symbol">{</a><a id="9334" href="EUTxOErr.DoubleSatisfaction.html#9334" class="Bound">r</a> <a id="9336" class="Symbol">:</a> <a id="9338" href="Common.Data.html#224" class="Function">DATA</a><a id="9342" class="Symbol">}</a> <a id="9344" class="Symbol">{</a><a id="9345" href="EUTxOErr.DoubleSatisfaction.html#9345" class="Bound">txi</a> <a id="9349" class="Symbol">:</a> <a id="9351" href="EUTxOErr.EUTxO.html#1520" class="Record">TxInfo</a><a id="9357" class="Symbol">}</a>
  <a id="9361" class="Symbol">(</a><a id="9362" class="Keyword">let</a> <a id="9366" href="EUTxOErr.DoubleSatisfaction.html#9366" class="Bound">d</a> <a id="9368" class="Symbol">=</a> <a id="9370" href="Common.Data.html#289" class="Field">serialise</a> <a id="9380" href="EUTxOErr.DoubleSatisfaction.html#9326" class="Bound">s</a>
       <a id="9389" class="Keyword">record</a> <a id="9396" class="Symbol">{</a><a id="9397" href="EUTxOErr.EUTxO.html#1548" class="Field">inputs</a> <a id="9404" class="Symbol">=</a> <a id="9406" href="EUTxOErr.DoubleSatisfaction.html#9406" class="Bound">is</a><a id="9408" class="Symbol">;</a> <a id="9410" href="EUTxOErr.EUTxO.html#1583" class="Field">outputs</a> <a id="9418" class="Symbol">=</a> <a id="9420" href="EUTxOErr.DoubleSatisfaction.html#9420" class="Bound">os</a><a id="9422" class="Symbol">}</a> <a id="9424" class="Symbol">=</a> <a id="9426" href="EUTxOErr.DoubleSatisfaction.html#9345" class="Bound">txi</a><a id="9429" class="Symbol">)</a>
  <a id="9433" class="Keyword">where</a>

  <a id="9442" href="EUTxOErr.DoubleSatisfaction.html#9442" class="Function">toggle′≡</a> <a id="9451" class="Symbol">:</a>
    <a id="9457" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="9459" href="EUTxOErr.DoubleSatisfaction.html#9406" class="Bound">is</a> <a id="9462" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="9464" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="9466" href="EUTxOErr.DoubleSatisfaction.html#9111" class="Function">consume◇′</a> <a id="9476" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
    <a id="9482" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="9484" href="EUTxOErr.DoubleSatisfaction.html#9420" class="Bound">os</a> <a id="9487" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="9489" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="9491" href="EUTxOErr.DoubleSatisfaction.html#9252" class="Function">produce◆′</a> <a id="9501" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
      <a id="9509" href="Prelude.InferenceRules.html#13935" class="Function Operator">───────────────────────────</a>
      <a id="9543" href="EUTxOErr.EUTxO.html#2304" class="Function">call</a> <a id="9548" href="EUTxOErr.DoubleSatisfaction.html#8699" class="Function">toggle′</a> <a id="9556" href="EUTxOErr.DoubleSatisfaction.html#9345" class="Bound">txi</a> <a id="9560" href="EUTxOErr.DoubleSatisfaction.html#9334" class="Bound">r</a> <a id="9562" href="EUTxOErr.DoubleSatisfaction.html#9366" class="Bound">d</a> <a id="9564" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="9566" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>
  <a id="9573" href="EUTxOErr.DoubleSatisfaction.html#9442" class="Function">toggle′≡</a> <a id="9582" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="9587" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="9596" class="Keyword">rewrite</a> <a id="9604" href="Common.Data.html#421" class="Function">deserialise∘serialise</a> <a id="9626" href="EUTxOErr.DoubleSatisfaction.html#9326" class="Bound">s</a>
          <a id="9638" class="Symbol">|</a> <a id="9640" href="Prelude.DecEq.WithK.html#170" class="Function">≟-refl</a> <a id="9647" href="EUTxOErr.DoubleSatisfaction.html#9111" class="Function">consume◇′</a>
          <a id="9667" class="Symbol">|</a> <a id="9669" href="Prelude.DecEq.WithK.html#170" class="Function">≟-refl</a> <a id="9676" href="EUTxOErr.DoubleSatisfaction.html#9252" class="Function">produce◆′</a>
          <a id="9696" class="Symbol">=</a> <a id="9698" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="9703" class="Comment">--</a>

<a id="9707" class="Keyword">data</a> <a id="NoDP"></a><a id="9712" href="EUTxOErr.DoubleSatisfaction.html#9712" class="Datatype">NoDP</a> <a id="9717" class="Symbol">:</a> <a id="9719" href="Agda.Primitive.html#320" class="Primitive">Type₁</a> <a id="9725" class="Keyword">where</a>
  <a id="NoDP.noDP"></a><a id="9733" href="EUTxOErr.DoubleSatisfaction.html#9733" class="InductiveConstructor">noDP</a> <a id="9738" class="Symbol">:</a>
    <a id="9744" class="Symbol">(</a><a id="9745" href="Relation.Nullary.html#665" class="Function Operator">¬</a> <a id="9747" class="Comment">-- ∃ λ R →</a>
       <a id="9765" href="Data.Product.html#1378" class="Function">∃</a> <a id="9767" class="Symbol">λ</a> <a id="9769" href="EUTxOErr.DoubleSatisfaction.html#9769" class="Bound">t</a> <a id="9771" class="Symbol">→</a>
       <a id="9780" href="Data.Product.html#1378" class="Function">∃</a> <a id="9782" class="Symbol">λ</a> <a id="9784" href="EUTxOErr.DoubleSatisfaction.html#9784" class="Bound">txi</a> <a id="9788" class="Symbol">→</a> <a id="9790" href="Data.Product.html#1378" class="Function">∃</a> <a id="9792" class="Symbol">λ</a> <a id="9794" href="EUTxOErr.DoubleSatisfaction.html#9794" class="Bound">txi′</a> <a id="9799" class="Symbol">→</a> <a id="9801" href="Data.Product.html#1378" class="Function">∃</a> <a id="9803" class="Symbol">λ</a> <a id="9805" href="EUTxOErr.DoubleSatisfaction.html#9805" class="Bound">txi″</a> <a id="9810" class="Symbol">→</a>
       <a id="9819" href="Data.Product.html#1378" class="Function">∃</a> <a id="9821" class="Symbol">λ</a> <a id="9823" href="EUTxOErr.DoubleSatisfaction.html#9823" class="Bound">v</a> <a id="9825" class="Symbol">→</a> <a id="9827" href="Data.Product.html#1378" class="Function">∃</a> <a id="9829" class="Symbol">λ</a> <a id="9831" href="EUTxOErr.DoubleSatisfaction.html#9831" class="Bound">v′</a> <a id="9834" class="Symbol">→</a> <a id="9836" href="Data.Product.html#1378" class="Function">∃</a> <a id="9838" class="Symbol">λ</a> <a id="9840" href="EUTxOErr.DoubleSatisfaction.html#9840" class="Bound">v″</a> <a id="9843" class="Symbol">→</a>
      <a id="9851" href="Common.HoareLogic.html#874" class="Function Operator">⟨</a> <a id="9853" href="EUTxOErr.DoubleSatisfaction.html#9784" class="Bound">txi</a>  <a id="9858" href="EUTxOErr.HoareLogic.html#847" class="Function Operator">↦</a> <a id="9860" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="9862" href="Common.Data.html#289" class="Field">serialise</a> <a id="9872" href="EUTxOErr.DoubleSatisfaction.html#432" class="InductiveConstructor">◇</a> <a id="9874" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="9876" href="EUTxOErr.DoubleSatisfaction.html#9823" class="Bound">v</a>  <a id="9879" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="9881" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="9884" href="EUTxOErr.DoubleSatisfaction.html#9089" class="Function">toggle′♯</a> <a id="9893" href="Common.HoareLogic.html#874" class="Function Operator">⟩</a> <a id="9895" class="Comment">-- ∗ R ⟩</a>
      <a id="9910" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="9912" href="EUTxOErr.DoubleSatisfaction.html#9769" class="Bound">t</a> <a id="9914" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
      <a id="9922" href="Common.HoareLogic.html#874" class="Function Operator">⟨</a> <a id="9924" href="EUTxOErr.DoubleSatisfaction.html#9794" class="Bound">txi′</a> <a id="9929" href="EUTxOErr.HoareLogic.html#847" class="Function Operator">↦</a> <a id="9931" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="9933" href="Common.Data.html#289" class="Field">serialise</a> <a id="9943" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="9945" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="9947" href="EUTxOErr.DoubleSatisfaction.html#9831" class="Bound">v′</a> <a id="9950" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="9952" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="9955" href="EUTxOErr.DoubleSatisfaction.html#9089" class="Function">toggle′♯</a>
      <a id="9970" href="EUTxOErr.HoareLogic.html#767" class="Function Operator">∗</a> <a id="9972" href="EUTxOErr.DoubleSatisfaction.html#9805" class="Bound">txi″</a> <a id="9977" href="EUTxOErr.HoareLogic.html#847" class="Function Operator">↦</a> <a id="9979" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦉</a> <a id="9981" href="Common.Data.html#289" class="Field">serialise</a> <a id="9991" href="EUTxOErr.DoubleSatisfaction.html#434" class="InductiveConstructor">◆</a> <a id="9993" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">⦊</a> <a id="9995" href="EUTxOErr.DoubleSatisfaction.html#9840" class="Bound">v″</a> <a id="9998" href="Common.Utils.html#165" class="Function Operator">€</a> <a id="10000" href="EUTxOErr.EUTxO.html#1756" class="InductiveConstructor Operator">at</a> <a id="10003" href="EUTxOErr.DoubleSatisfaction.html#9089" class="Function">toggle′♯</a> <a id="10012" class="Comment">-- ∗ R</a>
      <a id="10025" href="Common.HoareLogic.html#874" class="Function Operator">⟩</a><a id="10026" class="Symbol">)</a>
    <a id="10032" href="Prelude.InferenceRules.html#13085" class="Function Operator">───────────────────────────────────────────────</a>
    <a id="10084" href="EUTxOErr.DoubleSatisfaction.html#9712" class="Datatype">NoDP</a>

<a id="10090" class="Keyword">postulate</a> <a id="noDP-toggle′"></a><a id="10100" href="EUTxOErr.DoubleSatisfaction.html#10100" class="Postulate">noDP-toggle′</a> <a id="10113" class="Symbol">:</a> <a id="10115" href="EUTxOErr.DoubleSatisfaction.html#9712" class="Datatype">NoDP</a>
<a id="10120" class="Comment">-- noDP-toggle′ = noDP λ (t , txi , txi′ , txi″ , v , v′ , v″ , p) →</a>
<a id="10189" class="Comment">--   let Ps₀ = p {s₀} ({!!} , {!!})</a>
<a id="10225" class="Comment">--    in {!!}</a>
</pre></body></html>