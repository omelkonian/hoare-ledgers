<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>UTxOErr.HoareLogic</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/hoare-ledgers/tree/master///UTxOErr/HoareLogic.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">-------------------------</a>
<a id="27" class="Comment">-- ** Axiomatic semantics</a>

<a id="54" class="Keyword">module</a> <a id="61" href="UTxOErr.HoareLogic.html" class="Module">UTxOErr.HoareLogic</a> <a id="80" class="Keyword">where</a>

<a id="87" class="Keyword">open</a> <a id="92" class="Keyword">import</a> <a id="99" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="111" class="Symbol">;</a> <a id="113" class="Keyword">open</a> <a id="118" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="128" class="Keyword">open</a> <a id="133" class="Keyword">import</a> <a id="140" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="156" class="Keyword">open</a> <a id="161" class="Keyword">import</a> <a id="168" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="182" class="Keyword">open</a> <a id="187" class="Keyword">import</a> <a id="194" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Prelude.Semigroup.html" class="Module">Prelude.Semigroup</a>
<a id="242" class="Keyword">open</a> <a id="247" class="Keyword">import</a> <a id="254" href="Prelude.Monoid.html" class="Module">Prelude.Monoid</a>
<a id="269" class="Keyword">open</a> <a id="274" class="Keyword">import</a> <a id="281" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="304" class="Keyword">open</a> <a id="309" class="Keyword">import</a> <a id="316" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="328" class="Keyword">open</a> <a id="333" class="Keyword">import</a> <a id="340" href="Prelude.Functor.html" class="Module">Prelude.Functor</a>
<a id="356" class="Keyword">open</a> <a id="361" class="Keyword">import</a> <a id="368" href="Prelude.Bifunctor.html" class="Module">Prelude.Bifunctor</a>
<a id="386" class="Keyword">open</a> <a id="391" class="Keyword">import</a> <a id="398" href="Prelude.Monad.html" class="Module">Prelude.Monad</a>
<a id="412" class="Keyword">open</a> <a id="417" class="Keyword">import</a> <a id="424" href="Prelude.Apartness.html" class="Module">Prelude.Apartness</a>

<a id="443" class="Keyword">open</a> <a id="448" class="Keyword">import</a> <a id="455" href="UTxOErr.UTxO.html" class="Module">UTxOErr.UTxO</a>
<a id="468" class="Keyword">open</a> <a id="473" class="Keyword">import</a> <a id="480" href="UTxOErr.Ledger.html" class="Module">UTxOErr.Ledger</a>
<a id="495" class="Comment">-- open import UTxOErr.Maps</a>
<a id="523" class="Keyword">open</a> <a id="528" class="Keyword">import</a> <a id="535" href="Prelude.Maps.html" class="Module">Prelude.Maps</a>
<a id="_[_↦_]∅"></a><a id="548" href="UTxOErr.HoareLogic.html#548" class="Function Operator">_[_↦_]∅</a> <a id="556" class="Symbol">:</a> <a id="558" href="UTxOErr.UTxO.html#1063" class="Function">S</a> <a id="560" class="Symbol">→</a> <a id="562" href="UTxOErr.UTxO.html#753" class="Record">TxOutputRef</a> <a id="574" class="Symbol">→</a> <a id="576" href="Common.html#593" class="Record">TxOutput</a> <a id="585" class="Symbol">→</a> <a id="587" href="Agda.Primitive.html#320" class="Primitive">Type</a>
<a id="592" href="UTxOErr.HoareLogic.html#592" class="Bound">m</a> <a id="594" href="UTxOErr.HoareLogic.html#548" class="Function Operator">[</a> <a id="596" href="UTxOErr.HoareLogic.html#596" class="Bound">k</a> <a id="598" href="UTxOErr.HoareLogic.html#548" class="Function Operator">↦</a> <a id="600" href="UTxOErr.HoareLogic.html#600" class="Bound">v</a> <a id="602" href="UTxOErr.HoareLogic.html#548" class="Function Operator">]∅</a> <a id="605" class="Symbol">=</a> <a id="607" href="UTxOErr.HoareLogic.html#592" class="Bound">m</a> <a id="609" href="Prelude.Maps.AsSets.html#2010" class="Function Operator">[</a> <a id="611" href="UTxOErr.HoareLogic.html#596" class="Bound">k</a> <a id="613" href="Prelude.Maps.AsSets.html#2010" class="Function Operator">↦</a> <a id="615" href="UTxOErr.HoareLogic.html#600" class="Bound">v</a> <a id="617" href="Prelude.Maps.AsSets.html#2010" class="Function Operator">]</a> <a id="619" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="621" class="Symbol">∀</a> <a id="623" href="UTxOErr.HoareLogic.html#623" class="Bound">k′</a> <a id="626" class="Symbol">→</a> <a id="628" href="UTxOErr.HoareLogic.html#623" class="Bound">k′</a> <a id="631" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="633" href="UTxOErr.HoareLogic.html#596" class="Bound">k</a> <a id="635" class="Symbol">→</a> <a id="637" href="UTxOErr.HoareLogic.html#623" class="Bound">k′</a> <a id="640" href="Prelude.Maps.AsSets.html#1690" class="Function Operator">∉ᵈ</a> <a id="643" href="UTxOErr.HoareLogic.html#592" class="Bound">m</a>

<a id="646" class="Comment">-- ** Shallow embedding of logic formulas/propositions.</a>
<a id="Assertion"></a><a id="702" href="UTxOErr.HoareLogic.html#702" class="Function">Assertion</a> <a id="712" class="Symbol">=</a> <a id="714" href="Prelude.Init.html#13767" class="Function">Pred₀</a> <a id="720" href="UTxOErr.UTxO.html#1063" class="Function">S</a>

<a id="723" class="Keyword">variable</a> <a id="732" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="734" href="UTxOErr.HoareLogic.html#734" class="Generalizable">P′</a> <a id="737" href="UTxOErr.HoareLogic.html#737" class="Generalizable">P₁</a> <a id="740" href="UTxOErr.HoareLogic.html#740" class="Generalizable">P₂</a> <a id="743" href="UTxOErr.HoareLogic.html#743" class="Generalizable">Q</a> <a id="745" href="UTxOErr.HoareLogic.html#745" class="Generalizable">Q′</a> <a id="748" href="UTxOErr.HoareLogic.html#748" class="Generalizable">Q₁</a> <a id="751" href="UTxOErr.HoareLogic.html#751" class="Generalizable">Q₂</a> <a id="754" href="UTxOErr.HoareLogic.html#754" class="Generalizable">R</a> <a id="756" class="Symbol">:</a> <a id="758" href="UTxOErr.HoareLogic.html#702" class="Function">Assertion</a>

<a id="769" class="Keyword">private</a> <a id="777" class="Keyword">variable</a> <a id="786" href="UTxOErr.HoareLogic.html#786" class="Generalizable">K</a> <a id="788" href="UTxOErr.HoareLogic.html#788" class="Generalizable">V₁</a> <a id="791" href="UTxOErr.HoareLogic.html#791" class="Generalizable">V₂</a> <a id="794" class="Symbol">:</a> <a id="796" href="Agda.Primitive.html#320" class="Primitive">Type</a>

<a id="emp"></a><a id="802" href="UTxOErr.HoareLogic.html#802" class="Function">emp</a> <a id="806" class="Symbol">:</a> <a id="808" href="UTxOErr.HoareLogic.html#702" class="Function">Assertion</a>
<a id="818" href="UTxOErr.HoareLogic.html#802" class="Function">emp</a> <a id="822" href="UTxOErr.HoareLogic.html#822" class="Bound">m</a> <a id="824" class="Symbol">=</a> <a id="826" class="Symbol">∀</a> <a id="828" href="UTxOErr.HoareLogic.html#828" class="Bound">k</a> <a id="830" class="Symbol">→</a> <a id="832" href="UTxOErr.HoareLogic.html#828" class="Bound">k</a> <a id="834" href="Prelude.Maps.AsSets.html#1690" class="Function Operator">∉ᵈ</a> <a id="837" href="UTxOErr.HoareLogic.html#822" class="Bound">m</a>

<a id="_∗_"></a><a id="840" href="UTxOErr.HoareLogic.html#840" class="Function Operator">_∗_</a> <a id="844" class="Symbol">:</a> <a id="846" href="Algebra.Core.html#527" class="Function">Op₂</a> <a id="850" href="UTxOErr.HoareLogic.html#702" class="Function">Assertion</a>
<a id="860" class="Symbol">(</a><a id="861" href="UTxOErr.HoareLogic.html#861" class="Bound">P</a> <a id="863" href="UTxOErr.HoareLogic.html#840" class="Function Operator">∗</a> <a id="865" href="UTxOErr.HoareLogic.html#865" class="Bound">Q</a><a id="866" class="Symbol">)</a> <a id="868" href="UTxOErr.HoareLogic.html#868" class="Bound">s</a> <a id="870" class="Symbol">=</a> <a id="872" href="Data.Product.html#1378" class="Function">∃</a> <a id="874" class="Symbol">λ</a> <a id="876" href="UTxOErr.HoareLogic.html#876" class="Bound">s₁</a> <a id="879" class="Symbol">→</a> <a id="881" href="Data.Product.html#1378" class="Function">∃</a> <a id="883" class="Symbol">λ</a> <a id="885" href="UTxOErr.HoareLogic.html#885" class="Bound">s₂</a> <a id="888" class="Symbol">→</a> <a id="890" href="Prelude.Maps.AsSets.html#4463" class="Function Operator">⟨</a> <a id="892" href="UTxOErr.HoareLogic.html#876" class="Bound">s₁</a> <a id="895" href="Prelude.Maps.AsSets.html#4463" class="Function Operator">⊎</a> <a id="897" href="UTxOErr.HoareLogic.html#885" class="Bound">s₂</a> <a id="900" href="Prelude.Maps.AsSets.html#4463" class="Function Operator">⟩≡</a> <a id="903" href="UTxOErr.HoareLogic.html#868" class="Bound">s</a> <a id="905" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="907" href="UTxOErr.HoareLogic.html#861" class="Bound">P</a> <a id="909" href="UTxOErr.HoareLogic.html#876" class="Bound">s₁</a> <a id="912" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="914" href="UTxOErr.HoareLogic.html#865" class="Bound">Q</a> <a id="916" href="UTxOErr.HoareLogic.html#885" class="Bound">s₂</a>

<a id="_↦_"></a><a id="920" href="UTxOErr.HoareLogic.html#920" class="Function Operator">_↦_</a> <a id="924" class="Symbol">:</a> <a id="926" href="UTxOErr.UTxO.html#753" class="Record">TxOutputRef</a> <a id="938" class="Symbol">→</a> <a id="940" href="Common.html#593" class="Record">TxOutput</a> <a id="949" class="Symbol">→</a> <a id="951" href="UTxOErr.HoareLogic.html#702" class="Function">Assertion</a>
<a id="961" href="UTxOErr.HoareLogic.html#961" class="Bound">or</a> <a id="964" href="UTxOErr.HoareLogic.html#920" class="Function Operator">↦</a> <a id="966" href="UTxOErr.HoareLogic.html#966" class="Bound">o</a> <a id="968" class="Symbol">=</a> <a id="970" href="UTxOErr.HoareLogic.html#548" class="Function Operator">_[</a> <a id="973" href="UTxOErr.HoareLogic.html#961" class="Bound">or</a> <a id="976" href="UTxOErr.HoareLogic.html#548" class="Function Operator">↦</a> <a id="978" href="UTxOErr.HoareLogic.html#966" class="Bound">o</a> <a id="980" href="UTxOErr.HoareLogic.html#548" class="Function Operator">]∅</a>

<a id="984" class="Keyword">infixr</a> <a id="991" class="Number">10</a> <a id="994" href="UTxOErr.HoareLogic.html#840" class="Function Operator">_∗_</a>
<a id="998" class="Keyword">infix</a>  <a id="1005" class="Number">11</a> <a id="1008" href="UTxOErr.HoareLogic.html#920" class="Function Operator">_↦_</a>

<a id="1013" class="Comment">-- ** Hoare triples.</a>
<a id="weak↑"></a><a id="1034" href="UTxOErr.HoareLogic.html#1034" class="Function">weak↑</a> <a id="strong↑"></a><a id="1040" href="UTxOErr.HoareLogic.html#1040" class="Function">strong↑</a> <a id="1048" class="Symbol">:</a> <a id="1050" href="Prelude.Init.html#13767" class="Function">Pred₀</a> <a id="1056" href="UTxOErr.UTxO.html#1063" class="Function">S</a> <a id="1058" class="Symbol">→</a> <a id="1060" href="Prelude.Init.html#13767" class="Function">Pred₀</a> <a id="1066" class="Symbol">(</a><a id="1067" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="1073" href="UTxOErr.UTxO.html#1063" class="Function">S</a><a id="1074" class="Symbol">)</a>
<a id="1076" href="UTxOErr.HoareLogic.html#1034" class="Function">weak↑</a>   <a id="1084" class="Symbol">=</a> <a id="1086" href="Data.Maybe.Relation.Unary.All.html#952" class="Datatype">M.All.All</a>
<a id="1096" href="UTxOErr.HoareLogic.html#1040" class="Function">strong↑</a> <a id="1104" class="Symbol">=</a> <a id="1106" href="Data.Maybe.Relation.Unary.Any.html#839" class="Datatype">M.Any.Any</a>

<a id="1117" class="Keyword">infixl</a> <a id="1124" class="Number">4</a> <a id="1126" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">_↑∘_</a>
<a id="_↑∘_"></a><a id="1131" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">_↑∘_</a> <a id="1136" class="Symbol">:</a> <a id="1138" href="Prelude.Init.html#13767" class="Function">Pred₀</a> <a id="1144" href="UTxOErr.UTxO.html#1063" class="Function">S</a> <a id="1146" class="Symbol">→</a> <a id="1148" class="Symbol">(</a><a id="1149" href="UTxOErr.UTxO.html#1063" class="Function">S</a> <a id="1151" class="Symbol">→</a> <a id="1153" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="1159" href="UTxOErr.UTxO.html#1063" class="Function">S</a><a id="1160" class="Symbol">)</a> <a id="1162" class="Symbol">→</a> <a id="1164" href="Prelude.Init.html#13767" class="Function">Pred₀</a> <a id="1170" href="UTxOErr.UTxO.html#1063" class="Function">S</a>
<a id="1172" href="UTxOErr.HoareLogic.html#1172" class="Bound">P</a> <a id="1174" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">↑∘</a> <a id="1177" href="UTxOErr.HoareLogic.html#1177" class="Bound">f</a> <a id="1179" class="Symbol">=</a> <a id="1181" href="UTxOErr.HoareLogic.html#1040" class="Function">strong↑</a> <a id="1189" href="UTxOErr.HoareLogic.html#1172" class="Bound">P</a> <a id="1191" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1193" href="UTxOErr.HoareLogic.html#1177" class="Bound">f</a>

<a id="lift↑"></a><a id="1196" href="UTxOErr.HoareLogic.html#1196" class="Function">lift↑</a> <a id="1202" class="Symbol">=</a> <a id="1204" href="UTxOErr.HoareLogic.html#1040" class="Function">strong↑</a>
<a id="1212" class="Keyword">pattern</a> <a id="ret↑"></a><a id="1220" href="UTxOErr.HoareLogic.html#1220" class="InductiveConstructor">ret↑</a> <a id="1225" href="UTxOErr.HoareLogic.html#1240" class="Bound">x</a> <a id="1227" class="Symbol">=</a> <a id="1229" href="Data.Maybe.Relation.Unary.Any.html#909" class="InductiveConstructor">M.Any.just</a> <a id="1240" href="UTxOErr.HoareLogic.html#1240" class="Bound">x</a>

<a id="map↑"></a><a id="1243" href="UTxOErr.HoareLogic.html#1243" class="Function">map↑</a> <a id="1248" class="Symbol">:</a> <a id="1250" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="1252" href="Relation.Unary.html#1751" class="Function Operator">⊆¹</a> <a id="1255" href="UTxOErr.HoareLogic.html#743" class="Generalizable">Q</a> <a id="1257" class="Symbol">→</a> <a id="1259" href="UTxOErr.HoareLogic.html#1196" class="Function">lift↑</a> <a id="1265" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="1267" href="Relation.Unary.html#1751" class="Function Operator">⊆¹</a> <a id="1270" href="UTxOErr.HoareLogic.html#1196" class="Function">lift↑</a> <a id="1276" href="UTxOErr.HoareLogic.html#743" class="Generalizable">Q</a>
<a id="1278" href="UTxOErr.HoareLogic.html#1243" class="Function">map↑</a> <a id="1283" class="Symbol">=</a> <a id="1285" href="Data.Maybe.Relation.Unary.Any.html#1261" class="Function">M.Any.map</a>

<a id="⟨_⟩_⟨_⟩"></a><a id="1296" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨_⟩_⟨_⟩</a> <a id="1304" class="Symbol">:</a> <a id="1306" href="UTxOErr.HoareLogic.html#702" class="Function">Assertion</a> <a id="1316" class="Symbol">→</a> <a id="1318" href="Common.html#1622" class="Function">L</a> <a id="1320" class="Symbol">→</a> <a id="1322" href="UTxOErr.HoareLogic.html#702" class="Function">Assertion</a> <a id="1332" class="Symbol">→</a> <a id="1334" href="Agda.Primitive.html#320" class="Primitive">Type</a>
<a id="1339" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="1341" href="UTxOErr.HoareLogic.html#1341" class="Bound">P</a> <a id="1343" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="1345" href="UTxOErr.HoareLogic.html#1345" class="Bound">l</a> <a id="1347" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="1349" href="UTxOErr.HoareLogic.html#1349" class="Bound">Q</a> <a id="1351" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="1353" class="Symbol">=</a> <a id="1355" href="UTxOErr.HoareLogic.html#1341" class="Bound">P</a> <a id="1357" href="Prelude.General.html#1709" class="Function Operator">⊢</a> <a id="1359" href="UTxOErr.HoareLogic.html#1349" class="Bound">Q</a> <a id="1361" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">↑∘</a> <a id="1364" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="1366" href="UTxOErr.HoareLogic.html#1345" class="Bound">l</a> <a id="1368" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a>

<a id="⟨_⟩_⟨_⟩＠_"></a><a id="1371" href="UTxOErr.HoareLogic.html#1371" class="Function Operator">⟨_⟩_⟨_⟩＠_</a> <a id="1381" class="Symbol">:</a> <a id="1383" href="UTxOErr.HoareLogic.html#702" class="Function">Assertion</a> <a id="1393" class="Symbol">→</a> <a id="1395" href="Common.html#1622" class="Function">L</a> <a id="1397" class="Symbol">→</a> <a id="1399" href="UTxOErr.HoareLogic.html#702" class="Function">Assertion</a> <a id="1409" class="Symbol">→</a> <a id="1411" href="UTxOErr.UTxO.html#1063" class="Function">S</a> <a id="1413" class="Symbol">→</a> <a id="1415" href="Agda.Primitive.html#320" class="Primitive">Type</a>
<a id="1420" href="UTxOErr.HoareLogic.html#1371" class="Function Operator">⟨</a> <a id="1422" href="UTxOErr.HoareLogic.html#1422" class="Bound">P</a> <a id="1424" href="UTxOErr.HoareLogic.html#1371" class="Function Operator">⟩</a> <a id="1426" href="UTxOErr.HoareLogic.html#1426" class="Bound">l</a> <a id="1428" href="UTxOErr.HoareLogic.html#1371" class="Function Operator">⟨</a> <a id="1430" href="UTxOErr.HoareLogic.html#1430" class="Bound">Q</a> <a id="1432" href="UTxOErr.HoareLogic.html#1371" class="Function Operator">⟩＠</a> <a id="1435" href="UTxOErr.HoareLogic.html#1435" class="Bound">s</a> <a id="1437" class="Symbol">=</a> <a id="1439" href="UTxOErr.HoareLogic.html#1422" class="Bound">P</a> <a id="1441" href="UTxOErr.HoareLogic.html#1435" class="Bound">s</a> <a id="1443" class="Symbol">→</a> <a id="1445" class="Symbol">(</a><a id="1446" href="UTxOErr.HoareLogic.html#1430" class="Bound">Q</a> <a id="1448" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">↑∘</a> <a id="1451" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="1453" href="UTxOErr.HoareLogic.html#1426" class="Bound">l</a> <a id="1455" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a><a id="1456" class="Symbol">)</a> <a id="1458" href="UTxOErr.HoareLogic.html#1435" class="Bound">s</a>

<a id="hoare-base"></a><a id="1461" href="UTxOErr.HoareLogic.html#1461" class="Function">hoare-base</a> <a id="1472" class="Symbol">:</a>
  <a id="1476" href="Prelude.InferenceRules.html#47407" class="Function Operator">──────────────</a>
  <a id="1493" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="1495" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="1497" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="1499" class="InductiveConstructor">[]</a> <a id="1502" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="1504" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="1506" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a>
<a id="1508" href="UTxOErr.HoareLogic.html#1461" class="Function">hoare-base</a> <a id="1519" class="Symbol">=</a> <a id="1521" href="UTxOErr.HoareLogic.html#1220" class="InductiveConstructor">ret↑</a>

<a id="1527" class="Keyword">module</a> <a id="1534" href="UTxOErr.HoareLogic.html#1534" class="Module">_</a> <a id="1536" class="Symbol">(</a><a id="1537" href="UTxOErr.HoareLogic.html#1537" class="Bound">f</a> <a id="1539" class="Symbol">:</a> <a id="1541" href="UTxOErr.UTxO.html#1063" class="Function">S</a> <a id="1543" class="Symbol">→</a> <a id="1545" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="1551" href="UTxOErr.UTxO.html#1063" class="Function">S</a><a id="1552" class="Symbol">)</a> <a id="1554" class="Keyword">where</a>
  <a id="1562" href="UTxOErr.HoareLogic.html#1562" class="Function">lift∘&gt;&gt;=</a> <a id="1571" class="Symbol">:</a> <a id="1573" class="Symbol">∀</a> <a id="1575" class="Symbol">{</a><a id="1576" href="UTxOErr.HoareLogic.html#1576" class="Bound">ms</a><a id="1578" class="Symbol">}</a>
    <a id="1584" class="Symbol">→</a> <a id="1586" href="UTxOErr.HoareLogic.html#1196" class="Function">lift↑</a> <a id="1592" class="Symbol">(</a><a id="1593" href="UTxOErr.HoareLogic.html#1196" class="Function">lift↑</a> <a id="1599" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="1601" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1603" href="UTxOErr.HoareLogic.html#1537" class="Bound">f</a><a id="1604" class="Symbol">)</a> <a id="1606" href="UTxOErr.HoareLogic.html#1576" class="Bound">ms</a>
    <a id="1613" class="Symbol">→</a> <a id="1615" href="UTxOErr.HoareLogic.html#1196" class="Function">lift↑</a> <a id="1621" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="1623" class="Symbol">(</a><a id="1624" href="UTxOErr.HoareLogic.html#1576" class="Bound">ms</a> <a id="1627" href="Prelude.Monad.html#590" class="Field Operator">&gt;&gt;=</a> <a id="1631" href="UTxOErr.HoareLogic.html#1537" class="Bound">f</a><a id="1632" class="Symbol">)</a>
  <a id="1636" href="UTxOErr.HoareLogic.html#1562" class="Function">lift∘&gt;&gt;=</a> <a id="1645" class="Symbol">(</a><a id="1646" href="UTxOErr.HoareLogic.html#1220" class="InductiveConstructor">ret↑</a> <a id="1651" href="UTxOErr.HoareLogic.html#1651" class="Bound">p</a><a id="1652" class="Symbol">)</a> <a id="1654" class="Symbol">=</a> <a id="1656" href="UTxOErr.HoareLogic.html#1651" class="Bound">p</a>

  <a id="1661" href="UTxOErr.HoareLogic.html#1661" class="Function">lift∘&gt;&gt;=˘</a> <a id="1671" class="Symbol">:</a> <a id="1673" class="Symbol">∀</a> <a id="1675" class="Symbol">{</a><a id="1676" href="UTxOErr.HoareLogic.html#1676" class="Bound">ms</a> <a id="1679" class="Symbol">:</a> <a id="1681" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="1687" href="UTxOErr.UTxO.html#1063" class="Function">S</a><a id="1688" class="Symbol">}</a>
    <a id="1694" class="Symbol">→</a> <a id="1696" href="UTxOErr.HoareLogic.html#1196" class="Function">lift↑</a> <a id="1702" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="1704" class="Symbol">(</a><a id="1705" href="UTxOErr.HoareLogic.html#1676" class="Bound">ms</a> <a id="1708" href="Prelude.Monad.html#590" class="Field Operator">&gt;&gt;=</a> <a id="1712" href="UTxOErr.HoareLogic.html#1537" class="Bound">f</a><a id="1713" class="Symbol">)</a>
    <a id="1719" class="Symbol">→</a> <a id="1721" href="UTxOErr.HoareLogic.html#1196" class="Function">lift↑</a> <a id="1727" class="Symbol">(</a><a id="1728" href="UTxOErr.HoareLogic.html#1196" class="Function">lift↑</a> <a id="1734" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="1736" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1738" href="UTxOErr.HoareLogic.html#1537" class="Bound">f</a><a id="1739" class="Symbol">)</a> <a id="1741" href="UTxOErr.HoareLogic.html#1676" class="Bound">ms</a>
  <a id="1746" href="UTxOErr.HoareLogic.html#1661" class="Function">lift∘&gt;&gt;=˘</a> <a id="1756" class="Symbol">{</a><a id="1757" class="Argument">ms</a> <a id="1760" class="Symbol">=</a> <a id="1762" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="1767" href="UTxOErr.HoareLogic.html#1767" class="Bound">s</a><a id="1768" class="Symbol">}</a> <a id="1770" href="UTxOErr.HoareLogic.html#1770" class="Bound">p</a> <a id="1772" class="Symbol">=</a> <a id="1774" href="UTxOErr.HoareLogic.html#1220" class="InductiveConstructor">ret↑</a> <a id="1779" href="UTxOErr.HoareLogic.html#1770" class="Bound">p</a>

  <a id="1784" href="UTxOErr.HoareLogic.html#1784" class="Function">lift∘=&lt;&lt;</a>  <a id="1794" class="Symbol">=</a> <a id="1796" href="UTxOErr.HoareLogic.html#1562" class="Function">lift∘&gt;&gt;=</a>
  <a id="1807" href="UTxOErr.HoareLogic.html#1807" class="Function">lift∘=&lt;&lt;˘</a> <a id="1817" class="Symbol">=</a> <a id="1819" href="UTxOErr.HoareLogic.html#1661" class="Function">lift∘&gt;&gt;=˘</a>

<a id="1830" class="Keyword">module</a> <a id="1837" href="UTxOErr.HoareLogic.html#1837" class="Module">_</a> <a id="1839" class="Symbol">(</a><a id="1840" href="UTxOErr.HoareLogic.html#1840" class="Bound">f</a> <a id="1842" href="UTxOErr.HoareLogic.html#1842" class="Bound">g</a> <a id="1844" class="Symbol">:</a> <a id="1846" href="UTxOErr.UTxO.html#1063" class="Function">S</a> <a id="1848" class="Symbol">→</a> <a id="1850" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="1856" href="UTxOErr.UTxO.html#1063" class="Function">S</a><a id="1857" class="Symbol">)</a> <a id="1859" class="Keyword">where</a>
  <a id="1867" href="UTxOErr.HoareLogic.html#1867" class="Function">lift²∘&gt;=&gt;</a> <a id="1877" class="Symbol">:</a> <a id="1879" class="Symbol">(</a><a id="1880" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="1882" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">↑∘</a> <a id="1885" href="UTxOErr.HoareLogic.html#1842" class="Bound">g</a> <a id="1887" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">↑∘</a> <a id="1890" href="UTxOErr.HoareLogic.html#1840" class="Bound">f</a><a id="1891" class="Symbol">)</a> <a id="1893" href="Prelude.General.html#1709" class="Function Operator">⊢</a> <a id="1895" class="Symbol">(</a><a id="1896" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="1898" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">↑∘</a> <a id="1901" class="Symbol">(</a><a id="1902" href="UTxOErr.HoareLogic.html#1840" class="Bound">f</a> <a id="1904" href="Prelude.Monad.html#775" class="Function Operator">&gt;=&gt;</a> <a id="1908" href="UTxOErr.HoareLogic.html#1842" class="Bound">g</a><a id="1909" class="Symbol">))</a>
  <a id="1914" href="UTxOErr.HoareLogic.html#1867" class="Function">lift²∘&gt;=&gt;</a> <a id="1924" class="Symbol">=</a> <a id="1926" href="UTxOErr.HoareLogic.html#1784" class="Function">lift∘=&lt;&lt;</a> <a id="1935" class="Symbol">_</a>

  <a id="1940" href="UTxOErr.HoareLogic.html#1940" class="Function">lift²∘&gt;=&gt;˘</a> <a id="1951" class="Symbol">:</a> <a id="1953" class="Symbol">(</a><a id="1954" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="1956" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">↑∘</a> <a id="1959" class="Symbol">(</a><a id="1960" href="UTxOErr.HoareLogic.html#1840" class="Bound">f</a> <a id="1962" href="Prelude.Monad.html#775" class="Function Operator">&gt;=&gt;</a> <a id="1966" href="UTxOErr.HoareLogic.html#1842" class="Bound">g</a><a id="1967" class="Symbol">))</a> <a id="1970" href="Prelude.General.html#1709" class="Function Operator">⊢</a> <a id="1972" class="Symbol">(</a><a id="1973" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="1975" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">↑∘</a> <a id="1978" href="UTxOErr.HoareLogic.html#1842" class="Bound">g</a> <a id="1980" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">↑∘</a> <a id="1983" href="UTxOErr.HoareLogic.html#1840" class="Bound">f</a><a id="1984" class="Symbol">)</a>
  <a id="1988" href="UTxOErr.HoareLogic.html#1940" class="Function">lift²∘&gt;=&gt;˘</a> <a id="1999" class="Symbol">=</a> <a id="2001" href="UTxOErr.HoareLogic.html#1807" class="Function">lift∘=&lt;&lt;˘</a> <a id="2011" class="Symbol">_</a>

<a id="hoare-step"></a><a id="2014" href="UTxOErr.HoareLogic.html#2014" class="Function">hoare-step</a> <a id="2025" class="Symbol">:</a>
  <a id="2029" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2031" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="2033" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="2035" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="2037" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2039" href="UTxOErr.HoareLogic.html#743" class="Generalizable">Q</a> <a id="2041" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a>
  <a id="2045" href="Prelude.InferenceRules.html#13967" class="Function Operator">──────────────────────────</a>
  <a id="2074" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2076" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="2078" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">↑∘</a> <a id="2081" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="2083" href="UTxOErr.Ledger.html#638" class="Generalizable">t</a> <a id="2085" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="2087" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="2089" href="UTxOErr.Ledger.html#638" class="Generalizable">t</a> <a id="2091" class="InductiveConstructor Operator">∷</a> <a id="2093" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="2095" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2097" href="UTxOErr.HoareLogic.html#743" class="Generalizable">Q</a> <a id="2099" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a>
<a id="2101" href="UTxOErr.HoareLogic.html#2014" class="Function">hoare-step</a> <a id="2112" class="Symbol">{</a><a id="2113" class="Argument">t</a> <a id="2115" class="Symbol">=</a> <a id="2117" href="UTxOErr.HoareLogic.html#2117" class="Bound">t</a><a id="2118" class="Symbol">}</a> <a id="2120" href="UTxOErr.HoareLogic.html#2120" class="Bound">PlQ</a> <a id="2124" class="Symbol">{</a><a id="2125" href="UTxOErr.HoareLogic.html#2125" class="Bound">s</a><a id="2126" class="Symbol">}</a> <a id="2128" class="Symbol">=</a> <a id="2130" href="UTxOErr.HoareLogic.html#1867" class="Function">lift²∘&gt;=&gt;</a> <a id="2140" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="2142" href="UTxOErr.HoareLogic.html#2117" class="Bound">t</a> <a id="2144" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="2146" class="Symbol">_</a> <a id="2148" class="Symbol">{</a><a id="2149" class="Argument">x</a> <a id="2151" class="Symbol">=</a> <a id="2153" href="UTxOErr.HoareLogic.html#2125" class="Bound">s</a><a id="2154" class="Symbol">}</a> <a id="2156" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="2158" href="UTxOErr.HoareLogic.html#1243" class="Function">map↑</a> <a id="2163" href="UTxOErr.HoareLogic.html#2120" class="Bound">PlQ</a>

<a id="consequence"></a><a id="2168" href="UTxOErr.HoareLogic.html#2168" class="Function">consequence</a> <a id="2180" class="Symbol">:</a>
  <a id="2184" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="2186" href="UTxOErr.HoareLogic.html#734" class="Generalizable">P′</a> <a id="2189" href="Prelude.General.html#1709" class="Function Operator">⊢</a> <a id="2191" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a>   <a id="2195" class="Comment">-- ^ weakening the pre-condition</a>
  <a id="2230" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="2232" href="UTxOErr.HoareLogic.html#743" class="Generalizable">Q</a>  <a id="2235" href="Prelude.General.html#1709" class="Function Operator">⊢</a> <a id="2237" href="UTxOErr.HoareLogic.html#745" class="Generalizable">Q′</a>  <a id="2241" class="Comment">-- ^ strengthening the post-condition</a>
  <a id="2281" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="2283" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2285" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a>  <a id="2288" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="2290" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="2292" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2294" href="UTxOErr.HoareLogic.html#743" class="Generalizable">Q</a>  <a id="2297" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a>
    <a id="2303" href="Prelude.InferenceRules.html#14253" class="Function Operator">───────────────</a>
    <a id="2323" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2325" href="UTxOErr.HoareLogic.html#734" class="Generalizable">P′</a> <a id="2328" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="2330" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="2332" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2334" href="UTxOErr.HoareLogic.html#745" class="Generalizable">Q′</a> <a id="2337" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a>
<a id="2339" href="UTxOErr.HoareLogic.html#2168" class="Function">consequence</a> <a id="2351" href="UTxOErr.HoareLogic.html#2351" class="Bound">⊢P</a> <a id="2354" href="UTxOErr.HoareLogic.html#2354" class="Bound">Q⊢</a> <a id="2357" href="UTxOErr.HoareLogic.html#2357" class="Bound">PlQ</a> <a id="2361" class="Symbol">=</a> <a id="2363" href="UTxOErr.HoareLogic.html#1243" class="Function">map↑</a> <a id="2368" href="UTxOErr.HoareLogic.html#2354" class="Bound">Q⊢</a> <a id="2371" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="2373" href="UTxOErr.HoareLogic.html#2357" class="Bound">PlQ</a> <a id="2377" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="2379" href="UTxOErr.HoareLogic.html#2351" class="Bound">⊢P</a>

<a id="2383" class="Comment">-- Utilities for Hoare triples.</a>
<a id="weaken"></a><a id="2415" href="UTxOErr.HoareLogic.html#2415" class="Function">weaken</a> <a id="2422" class="Symbol">:</a> <a id="2424" href="UTxOErr.HoareLogic.html#734" class="Generalizable">P′</a> <a id="2427" href="Prelude.General.html#1709" class="Function Operator">⊢</a> <a id="2429" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="2431" class="Symbol">→</a> <a id="2433" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2435" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="2437" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="2439" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="2441" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2443" href="UTxOErr.HoareLogic.html#743" class="Generalizable">Q</a> <a id="2445" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="2447" class="Symbol">→</a> <a id="2449" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2451" href="UTxOErr.HoareLogic.html#734" class="Generalizable">P′</a> <a id="2454" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="2456" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="2458" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2460" href="UTxOErr.HoareLogic.html#743" class="Generalizable">Q</a> <a id="2462" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a>
<a id="2464" href="UTxOErr.HoareLogic.html#2415" class="Function">weaken</a> <a id="2471" class="Symbol">{</a><a id="2472" class="Argument">l</a> <a id="2474" class="Symbol">=</a> <a id="2476" href="UTxOErr.HoareLogic.html#2476" class="Bound">l</a><a id="2477" class="Symbol">}</a> <a id="2479" href="UTxOErr.HoareLogic.html#2479" class="Bound">H</a> <a id="2481" class="Symbol">=</a> <a id="2483" href="UTxOErr.HoareLogic.html#2168" class="Function">consequence</a> <a id="2495" class="Symbol">{</a><a id="2496" class="Argument">l</a> <a id="2498" class="Symbol">=</a> <a id="2500" href="UTxOErr.HoareLogic.html#2476" class="Bound">l</a><a id="2501" class="Symbol">}</a> <a id="2503" href="UTxOErr.HoareLogic.html#2479" class="Bound">H</a> <a id="2505" href="Function.Base.html#624" class="Function">id</a>

<a id="strengthen"></a><a id="2509" href="UTxOErr.HoareLogic.html#2509" class="Function">strengthen</a> <a id="2520" class="Symbol">:</a> <a id="2522" href="UTxOErr.HoareLogic.html#743" class="Generalizable">Q</a> <a id="2524" href="Prelude.General.html#1709" class="Function Operator">⊢</a> <a id="2526" href="UTxOErr.HoareLogic.html#745" class="Generalizable">Q′</a> <a id="2529" class="Symbol">→</a> <a id="2531" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2533" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="2535" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="2537" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="2539" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2541" href="UTxOErr.HoareLogic.html#743" class="Generalizable">Q</a> <a id="2543" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="2545" class="Symbol">→</a> <a id="2547" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2549" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="2551" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="2553" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="2555" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2557" href="UTxOErr.HoareLogic.html#745" class="Generalizable">Q′</a> <a id="2560" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a>
<a id="2562" href="UTxOErr.HoareLogic.html#2509" class="Function">strengthen</a> <a id="2573" class="Symbol">{</a><a id="2574" class="Argument">l</a> <a id="2576" class="Symbol">=</a> <a id="2578" href="UTxOErr.HoareLogic.html#2578" class="Bound">l</a><a id="2579" class="Symbol">}</a> <a id="2581" href="UTxOErr.HoareLogic.html#2581" class="Bound">H</a> <a id="2583" class="Symbol">=</a> <a id="2585" href="UTxOErr.HoareLogic.html#2168" class="Function">consequence</a> <a id="2597" class="Symbol">{</a><a id="2598" class="Argument">l</a> <a id="2600" class="Symbol">=</a> <a id="2602" href="UTxOErr.HoareLogic.html#2578" class="Bound">l</a><a id="2603" class="Symbol">}</a> <a id="2605" href="Function.Base.html#624" class="Function">id</a> <a id="2608" href="UTxOErr.HoareLogic.html#2581" class="Bound">H</a>

<a id="axiom-base⋆"></a><a id="2611" href="UTxOErr.HoareLogic.html#2611" class="Function">axiom-base⋆</a> <a id="2623" class="Symbol">:</a> <a id="2625" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2627" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="2629" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">↑∘</a> <a id="2632" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="2634" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="2636" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="2638" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="2640" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="2642" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2644" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="2646" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a>
<a id="2648" href="UTxOErr.HoareLogic.html#2611" class="Function">axiom-base⋆</a> <a id="2660" class="Symbol">{</a><a id="2661" class="Argument">P</a> <a id="2663" class="Symbol">=</a> <a id="2665" href="UTxOErr.HoareLogic.html#2665" class="Bound">P</a><a id="2666" class="Symbol">}</a> <a id="2668" class="Symbol">{</a><a id="2669" class="Argument">l</a> <a id="2671" class="Symbol">=</a> <a id="2673" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="2675" class="Symbol">}</a> <a id="2677" class="Symbol">=</a> <a id="2679" href="UTxOErr.HoareLogic.html#2415" class="Function">weaken</a> <a id="2686" class="Symbol">{</a><a id="2687" class="Argument">P′</a> <a id="2690" class="Symbol">=</a> <a id="2692" href="UTxOErr.HoareLogic.html#2665" class="Bound">P</a> <a id="2694" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">↑∘</a> <a id="2697" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="2699" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="2702" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a><a id="2703" class="Symbol">}</a> <a id="2705" class="Symbol">{</a><a id="2706" class="Argument">l</a> <a id="2708" class="Symbol">=</a> <a id="2710" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="2712" class="Symbol">}</a> <a id="2714" class="Symbol">(λ</a> <a id="2717" class="Keyword">where</a> <a id="2723" class="Symbol">(</a><a id="2724" href="UTxOErr.HoareLogic.html#1220" class="InductiveConstructor">ret↑</a> <a id="2729" href="UTxOErr.HoareLogic.html#2729" class="Bound">p</a><a id="2730" class="Symbol">)</a> <a id="2732" class="Symbol">→</a> <a id="2734" href="UTxOErr.HoareLogic.html#2729" class="Bound">p</a><a id="2735" class="Symbol">)</a> <a id="2737" href="UTxOErr.HoareLogic.html#1461" class="Function">hoare-base</a>
<a id="2748" href="UTxOErr.HoareLogic.html#2611" class="Function">axiom-base⋆</a> <a id="2760" class="Symbol">{</a><a id="2761" class="Argument">P</a> <a id="2763" class="Symbol">=</a> <a id="2765" href="UTxOErr.HoareLogic.html#2765" class="Bound">P</a><a id="2766" class="Symbol">}</a> <a id="2768" class="Symbol">{</a><a id="2769" class="Argument">l</a> <a id="2771" class="Symbol">=</a> <a id="2773" href="UTxOErr.HoareLogic.html#2773" class="Bound">t</a> <a id="2775" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2777" href="UTxOErr.HoareLogic.html#2777" class="Bound">l</a><a id="2778" class="Symbol">}</a> <a id="2780" class="Symbol">=</a> <a id="2782" href="UTxOErr.HoareLogic.html#1243" class="Function">map↑</a> <a id="2787" href="Function.Base.html#624" class="Function">id</a>

<a id="2791" class="Comment">-- Derived alternative formulation for step, using list concatenation.</a>

<a id="hoare-step′"></a><a id="2863" href="UTxOErr.HoareLogic.html#2863" class="Function">hoare-step′</a> <a id="2875" class="Symbol">:</a>
  <a id="2879" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="2881" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2883" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="2885" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="2887" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a>  <a id="2890" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2892" href="UTxOErr.HoareLogic.html#743" class="Generalizable">Q</a> <a id="2894" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a>
  <a id="2898" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="2900" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2902" href="UTxOErr.HoareLogic.html#743" class="Generalizable">Q</a> <a id="2904" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="2906" href="UTxOErr.Ledger.html#655" class="Generalizable">l′</a> <a id="2909" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2911" href="UTxOErr.HoareLogic.html#754" class="Generalizable">R</a> <a id="2913" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a>
    <a id="2919" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
    <a id="2943" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2945" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="2947" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="2949" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="2951" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="2954" href="UTxOErr.Ledger.html#655" class="Generalizable">l′</a> <a id="2957" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="2959" href="UTxOErr.HoareLogic.html#754" class="Generalizable">R</a> <a id="2961" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a>
<a id="2963" href="UTxOErr.HoareLogic.html#2863" class="Function">hoare-step′</a> <a id="2975" class="Symbol">{</a><a id="2976" href="UTxOErr.HoareLogic.html#2976" class="Bound">P</a><a id="2977" class="Symbol">}{</a><a id="2979" href="UTxOErr.HoareLogic.html#2979" class="Bound">l</a><a id="2980" class="Symbol">}{</a><a id="2982" href="UTxOErr.HoareLogic.html#2982" class="Bound">Q</a><a id="2983" class="Symbol">}{</a><a id="2985" href="UTxOErr.HoareLogic.html#2985" class="Bound">l′</a><a id="2987" class="Symbol">}{</a><a id="2989" href="UTxOErr.HoareLogic.html#2989" class="Bound">R</a><a id="2990" class="Symbol">}</a> <a id="2992" href="UTxOErr.HoareLogic.html#2992" class="Bound">PlQ</a> <a id="2996" href="UTxOErr.HoareLogic.html#2996" class="Bound">QlR</a>
<a id="3000" class="Comment">--   {s} Ps rewrite comp {l}{l′} s</a>
<a id="3035" class="Comment">--   with ⟦ l ⟧ s | PlQ Ps</a>
<a id="3062" class="Comment">-- ... | .(just _) | ret↑ Qs′ = QlR Qs′</a>
  <a id="3104" class="Symbol">=</a> <a id="3106" href="Prelude.General.html#2067" class="Field Operator">begin</a>
    <a id="3116" href="UTxOErr.HoareLogic.html#2976" class="Bound">P</a>
  <a id="3120" href="Prelude.General.html#2248" class="Function Operator">⊢⟨</a> <a id="3123" href="UTxOErr.HoareLogic.html#2992" class="Bound">PlQ</a>  <a id="3128" href="Prelude.General.html#2248" class="Function Operator">⟩</a>
    <a id="3134" href="UTxOErr.HoareLogic.html#2982" class="Bound">Q</a> <a id="3136" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">↑∘</a> <a id="3139" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="3141" href="UTxOErr.HoareLogic.html#2979" class="Bound">l</a> <a id="3143" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a>
  <a id="3147" href="Prelude.General.html#2248" class="Function Operator">⊢⟨</a> <a id="3150" href="UTxOErr.HoareLogic.html#1243" class="Function">map↑</a> <a id="3155" href="UTxOErr.HoareLogic.html#2996" class="Bound">QlR</a> <a id="3159" href="Prelude.General.html#2248" class="Function Operator">⟩</a>
    <a id="3165" href="UTxOErr.HoareLogic.html#2989" class="Bound">R</a> <a id="3167" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">↑∘</a> <a id="3170" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="3172" href="UTxOErr.HoareLogic.html#2985" class="Bound">l′</a> <a id="3175" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="3177" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">↑∘</a> <a id="3180" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="3182" href="UTxOErr.HoareLogic.html#2979" class="Bound">l</a> <a id="3184" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a>
  <a id="3188" href="Prelude.General.html#2248" class="Function Operator">⊢⟨</a> <a id="3191" href="UTxOErr.HoareLogic.html#1867" class="Function">lift²∘&gt;=&gt;</a> <a id="3201" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="3203" href="UTxOErr.HoareLogic.html#2979" class="Bound">l</a> <a id="3205" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="3207" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="3209" href="UTxOErr.HoareLogic.html#2985" class="Bound">l′</a> <a id="3212" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a>  <a id="3215" href="Prelude.General.html#2248" class="Function Operator">⟩</a>
    <a id="3221" href="UTxOErr.HoareLogic.html#2989" class="Bound">R</a> <a id="3223" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">↑∘</a> <a id="3226" class="Symbol">(</a><a id="3227" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="3229" href="UTxOErr.HoareLogic.html#2979" class="Bound">l</a> <a id="3231" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="3233" href="Prelude.Monad.html#775" class="Function Operator">&gt;=&gt;</a> <a id="3237" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="3239" href="UTxOErr.HoareLogic.html#2985" class="Bound">l′</a> <a id="3242" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a><a id="3243" class="Symbol">)</a>
  <a id="3247" href="Prelude.General.html#2654" class="Function Operator">≗˘⟨</a> <a id="3251" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="3256" class="Symbol">(</a><a id="3257" href="UTxOErr.HoareLogic.html#1196" class="Function">lift↑</a> <a id="3263" href="UTxOErr.HoareLogic.html#2989" class="Bound">R</a><a id="3264" class="Symbol">)</a> <a id="3266" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="3268" href="UTxOErr.Ledger.html#1933" class="Function">comp</a> <a id="3273" class="Symbol">{</a><a id="3274" href="UTxOErr.HoareLogic.html#2979" class="Bound">l</a><a id="3275" class="Symbol">}{</a><a id="3277" href="UTxOErr.HoareLogic.html#2985" class="Bound">l′</a><a id="3279" class="Symbol">}</a> <a id="3281" href="Prelude.General.html#2654" class="Function Operator">⟩</a>
    <a id="3287" href="UTxOErr.HoareLogic.html#2989" class="Bound">R</a> <a id="3289" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">↑∘</a> <a id="3292" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="3294" href="UTxOErr.HoareLogic.html#2979" class="Bound">l</a> <a id="3296" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="3299" href="UTxOErr.HoareLogic.html#2985" class="Bound">l′</a> <a id="3302" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a>
  <a id="3306" href="Prelude.General.html#2744" class="Function Operator">∎</a> <a id="3308" class="Keyword">where</a> <a id="3314" class="Keyword">open</a> <a id="3319" href="Prelude.General.html#1896" class="Module">⊢-Reasoning</a>

<a id="3332" class="Comment">-- ** Reasoning syntax for Hoare triples.</a>
<a id="3374" class="Keyword">module</a> <a id="HoareReasoning"></a><a id="3381" href="UTxOErr.HoareLogic.html#3381" class="Module">HoareReasoning</a> <a id="3396" class="Keyword">where</a>
  <a id="3404" class="Comment">-- Reasoning newtype (for better type inference).</a>
  <a id="3456" class="Keyword">record</a> <a id="HoareReasoning.ℝ⟨_⟩_⟨_⟩"></a><a id="3463" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">ℝ⟨_⟩_⟨_⟩</a> <a id="3472" class="Symbol">(</a><a id="3473" href="UTxOErr.HoareLogic.html#3473" class="Bound">P</a> <a id="3475" class="Symbol">:</a> <a id="3477" href="UTxOErr.HoareLogic.html#702" class="Function">Assertion</a><a id="3486" class="Symbol">)</a> <a id="3488" class="Symbol">(</a><a id="3489" href="UTxOErr.HoareLogic.html#3489" class="Bound">l</a> <a id="3491" class="Symbol">:</a> <a id="3493" href="Common.html#1622" class="Function">L</a><a id="3494" class="Symbol">)</a> <a id="3496" class="Symbol">(</a><a id="3497" href="UTxOErr.HoareLogic.html#3497" class="Bound">Q</a> <a id="3499" class="Symbol">:</a> <a id="3501" href="UTxOErr.HoareLogic.html#702" class="Function">Assertion</a><a id="3510" class="Symbol">)</a> <a id="3512" class="Symbol">:</a> <a id="3514" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="3519" class="Keyword">where</a>
    <a id="3529" class="Keyword">constructor</a> <a id="HoareReasoning.mkℝ_"></a><a id="3541" href="UTxOErr.HoareLogic.html#3541" class="InductiveConstructor Operator">mkℝ_</a>
    <a id="3550" class="Keyword">field</a> <a id="HoareReasoning.ℝ⟨_⟩_⟨_⟩.begin_"></a><a id="3556" href="UTxOErr.HoareLogic.html#3556" class="Field Operator">begin_</a> <a id="3563" class="Symbol">:</a> <a id="3565" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="3567" href="UTxOErr.HoareLogic.html#3473" class="Bound">P</a> <a id="3569" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="3571" href="UTxOErr.HoareLogic.html#3489" class="Bound">l</a> <a id="3573" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="3575" href="UTxOErr.HoareLogic.html#3497" class="Bound">Q</a> <a id="3577" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a>
    <a id="3583" class="Keyword">infix</a> <a id="3589" class="Number">-2</a> <a id="3592" href="UTxOErr.HoareLogic.html#3556" class="Field Operator">begin_</a>
  <a id="3601" class="Keyword">open</a> <a id="3606" href="UTxOErr.HoareLogic.html#3463" class="Module Operator">ℝ⟨_⟩_⟨_⟩</a> <a id="3615" class="Keyword">public</a>
  <a id="3624" class="Keyword">infix</a>  <a id="3631" class="Number">-2</a> <a id="3634" href="UTxOErr.HoareLogic.html#3541" class="InductiveConstructor Operator">mkℝ_</a>
  <a id="3641" class="Keyword">infixr</a> <a id="3648" class="Number">-1</a> <a id="3651" href="UTxOErr.HoareLogic.html#3727" class="Function Operator">_~⟪_⟩_</a> <a id="3658" href="UTxOErr.HoareLogic.html#3874" class="Function Operator">_~⟨_⟫_</a> <a id="3665" href="UTxOErr.HoareLogic.html#4002" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="3675" href="UTxOErr.HoareLogic.html#4286" class="Function Operator">_~⟨_∶-_⟩++_</a>
  <a id="3689" class="Keyword">infix</a>  <a id="3696" class="Number">0</a>  <a id="3699" href="UTxOErr.HoareLogic.html#4449" class="Function Operator">_∎</a>

  <a id="3705" class="Comment">-- weakening syntax</a>
  <a id="HoareReasoning._~⟪_⟩_"></a><a id="3727" href="UTxOErr.HoareLogic.html#3727" class="Function Operator">_~⟪_⟩_</a> <a id="3734" class="Symbol">:</a> <a id="3736" class="Symbol">∀</a> <a id="3738" href="UTxOErr.HoareLogic.html#3738" class="Bound">P′</a> <a id="3741" class="Symbol">→</a> <a id="3743" href="UTxOErr.HoareLogic.html#3738" class="Bound">P′</a> <a id="3746" href="Prelude.General.html#1709" class="Function Operator">⊢</a> <a id="3748" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="3750" class="Symbol">→</a> <a id="3752" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">ℝ⟨</a> <a id="3755" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="3757" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟩</a> <a id="3759" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="3761" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟨</a> <a id="3763" href="UTxOErr.HoareLogic.html#754" class="Generalizable">R</a> <a id="3765" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟩</a> <a id="3767" class="Symbol">→</a> <a id="3769" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">ℝ⟨</a> <a id="3772" href="UTxOErr.HoareLogic.html#3738" class="Bound">P′</a> <a id="3775" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟩</a> <a id="3777" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="3779" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟨</a> <a id="3781" href="UTxOErr.HoareLogic.html#754" class="Generalizable">R</a> <a id="3783" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟩</a>
  <a id="3787" href="UTxOErr.HoareLogic.html#3727" class="Function Operator">_~⟪_⟩_</a> <a id="3794" class="Symbol">{</a><a id="3795" class="Argument">l</a> <a id="3797" class="Symbol">=</a> <a id="3799" href="UTxOErr.HoareLogic.html#3799" class="Bound">l</a><a id="3800" class="Symbol">}</a> <a id="3802" class="Symbol">_</a> <a id="3804" href="UTxOErr.HoareLogic.html#3804" class="Bound">H</a> <a id="3806" href="UTxOErr.HoareLogic.html#3806" class="Bound">PlR</a> <a id="3810" class="Symbol">=</a> <a id="3812" href="UTxOErr.HoareLogic.html#3541" class="InductiveConstructor Operator">mkℝ</a> <a id="3816" href="UTxOErr.HoareLogic.html#2415" class="Function">weaken</a> <a id="3823" class="Symbol">{</a><a id="3824" class="Argument">l</a> <a id="3826" class="Symbol">=</a> <a id="3828" href="UTxOErr.HoareLogic.html#3799" class="Bound">l</a><a id="3829" class="Symbol">}</a> <a id="3831" href="UTxOErr.HoareLogic.html#3804" class="Bound">H</a> <a id="3833" class="Symbol">(</a><a id="3834" href="UTxOErr.HoareLogic.html#3556" class="Field Operator">begin</a> <a id="3840" href="UTxOErr.HoareLogic.html#3806" class="Bound">PlR</a><a id="3843" class="Symbol">)</a>

  <a id="3848" class="Comment">-- strengthening syntax</a>
  <a id="HoareReasoning._~⟨_⟫_"></a><a id="3874" href="UTxOErr.HoareLogic.html#3874" class="Function Operator">_~⟨_⟫_</a> <a id="3881" class="Symbol">:</a> <a id="3883" class="Symbol">∀</a> <a id="3885" href="UTxOErr.HoareLogic.html#3885" class="Bound">R′</a> <a id="3888" class="Symbol">→</a> <a id="3890" href="UTxOErr.HoareLogic.html#754" class="Generalizable">R</a> <a id="3892" href="Prelude.General.html#1709" class="Function Operator">⊢</a> <a id="3894" href="UTxOErr.HoareLogic.html#3885" class="Bound">R′</a> <a id="3897" class="Symbol">→</a> <a id="3899" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="3901" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="3903" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="3905" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="3907" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="3909" href="UTxOErr.HoareLogic.html#754" class="Generalizable">R</a> <a id="3911" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="3913" class="Symbol">→</a> <a id="3915" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="3917" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="3919" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a> <a id="3921" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="3923" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟨</a> <a id="3925" href="UTxOErr.HoareLogic.html#3885" class="Bound">R′</a> <a id="3928" href="UTxOErr.HoareLogic.html#1296" class="Function Operator">⟩</a>
  <a id="3932" href="UTxOErr.HoareLogic.html#3874" class="Function Operator">_~⟨_⟫_</a> <a id="3939" class="Symbol">{</a><a id="3940" class="Argument">l</a> <a id="3942" class="Symbol">=</a> <a id="3944" href="UTxOErr.HoareLogic.html#3944" class="Bound">l</a><a id="3945" class="Symbol">}</a> <a id="3947" class="Symbol">_</a> <a id="3949" href="UTxOErr.HoareLogic.html#3949" class="Bound">H</a> <a id="3951" href="UTxOErr.HoareLogic.html#3951" class="Bound">PlR</a> <a id="3955" class="Symbol">=</a> <a id="3957" href="UTxOErr.HoareLogic.html#2509" class="Function">strengthen</a> <a id="3968" class="Symbol">{</a><a id="3969" class="Argument">l</a> <a id="3971" class="Symbol">=</a> <a id="3973" href="UTxOErr.HoareLogic.html#3944" class="Bound">l</a><a id="3974" class="Symbol">}</a> <a id="3976" href="UTxOErr.HoareLogic.html#3949" class="Bound">H</a> <a id="3978" href="UTxOErr.HoareLogic.html#3951" class="Bound">PlR</a>

  <a id="3985" class="Comment">-- step syntax</a>
  <a id="HoareReasoning._~⟨_∶-_⟩_"></a><a id="4002" href="UTxOErr.HoareLogic.html#4002" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="4012" class="Symbol">:</a> <a id="4014" class="Symbol">∀</a> <a id="4016" href="UTxOErr.HoareLogic.html#4016" class="Bound">P′</a> <a id="4019" href="UTxOErr.HoareLogic.html#4019" class="Bound">t</a> <a id="4021" class="Symbol">→</a> <a id="4023" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">ℝ⟨</a> <a id="4026" href="UTxOErr.HoareLogic.html#4016" class="Bound">P′</a> <a id="4029" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟩</a> <a id="4031" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="4033" href="UTxOErr.HoareLogic.html#4019" class="Bound">t</a> <a id="4035" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="4037" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟨</a> <a id="4039" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="4041" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟩</a> <a id="4043" class="Symbol">→</a> <a id="4045" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">ℝ⟨</a> <a id="4048" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="4050" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟩</a> <a id="4052" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="4054" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟨</a> <a id="4056" href="UTxOErr.HoareLogic.html#754" class="Generalizable">R</a> <a id="4058" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟩</a> <a id="4060" class="Symbol">→</a> <a id="4062" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">ℝ⟨</a> <a id="4065" href="UTxOErr.HoareLogic.html#4016" class="Bound">P′</a> <a id="4068" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟩</a> <a id="4070" href="UTxOErr.HoareLogic.html#4019" class="Bound">t</a> <a id="4072" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="4074" href="UTxOErr.Ledger.html#653" class="Generalizable">l</a> <a id="4076" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟨</a> <a id="4078" href="UTxOErr.HoareLogic.html#754" class="Generalizable">R</a> <a id="4080" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟩</a>
  <a id="4084" href="UTxOErr.HoareLogic.html#4002" class="Function Operator">_~⟨_∶-_⟩_</a> <a id="4094" class="Symbol">{</a><a id="4095" class="Argument">l</a> <a id="4097" class="Symbol">=</a> <a id="4099" href="UTxOErr.HoareLogic.html#4099" class="Bound">l</a><a id="4100" class="Symbol">}</a> <a id="4102" class="Symbol">{</a><a id="4103" class="Argument">R</a> <a id="4105" class="Symbol">=</a> <a id="4107" href="UTxOErr.HoareLogic.html#4107" class="Bound">R</a><a id="4108" class="Symbol">}</a> <a id="4110" href="UTxOErr.HoareLogic.html#4110" class="Bound">P′</a> <a id="4113" href="UTxOErr.HoareLogic.html#4113" class="Bound">t</a> <a id="4115" href="UTxOErr.HoareLogic.html#4115" class="Bound">H</a> <a id="4117" href="UTxOErr.HoareLogic.html#4117" class="Bound">PlR</a> <a id="4121" class="Symbol">=</a> <a id="4123" href="UTxOErr.HoareLogic.html#3541" class="InductiveConstructor Operator">mkℝ</a> <a id="4127" href="UTxOErr.HoareLogic.html#4146" class="Function">go</a>
    <a id="4134" class="Keyword">where</a>
      <a id="4146" href="UTxOErr.HoareLogic.html#4146" class="Function">go</a> <a id="4149" class="Symbol">:</a> <a id="4151" href="UTxOErr.HoareLogic.html#4110" class="Bound">P′</a> <a id="4154" href="Prelude.General.html#1709" class="Function Operator">⊢</a> <a id="4156" href="UTxOErr.HoareLogic.html#4107" class="Bound">R</a> <a id="4158" href="UTxOErr.HoareLogic.html#1131" class="Function Operator">↑∘</a> <a id="4161" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="4163" href="UTxOErr.HoareLogic.html#4113" class="Bound">t</a> <a id="4165" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="4167" href="UTxOErr.HoareLogic.html#4099" class="Bound">l</a> <a id="4169" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a>
      <a id="4177" href="UTxOErr.HoareLogic.html#4146" class="Function">go</a> <a id="4180" class="Symbol">{</a><a id="4181" href="UTxOErr.HoareLogic.html#4181" class="Bound">s</a><a id="4182" class="Symbol">}</a> <a id="4184" href="UTxOErr.HoareLogic.html#4184" class="Bound">P′s</a> <a id="4188" class="Keyword">with</a> <a id="4193" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟦</a> <a id="4195" href="UTxOErr.HoareLogic.html#4113" class="Bound">t</a> <a id="4197" href="UTxOErr.Ledger.html#1027" class="Field Operator">⟧</a> <a id="4199" href="UTxOErr.HoareLogic.html#4181" class="Bound">s</a> <a id="4201" class="Symbol">|</a> <a id="4203" class="Symbol">(</a><a id="4204" href="UTxOErr.HoareLogic.html#3556" class="Field Operator">begin</a> <a id="4210" href="UTxOErr.HoareLogic.html#4115" class="Bound">H</a><a id="4211" class="Symbol">)</a> <a id="4213" href="UTxOErr.HoareLogic.html#4184" class="Bound">P′s</a>
      <a id="4223" class="Symbol">...</a> <a id="4227" class="Symbol">|</a> <a id="4229" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="4234" class="Symbol">_</a> <a id="4236" class="Symbol">|</a> <a id="4238" href="UTxOErr.HoareLogic.html#1220" class="InductiveConstructor">ret↑</a> <a id="4243" href="UTxOErr.HoareLogic.html#4243" class="Bound">Ps′</a> <a id="4247" class="Symbol">=</a> <a id="4249" class="Symbol">(</a><a id="4250" href="UTxOErr.HoareLogic.html#3556" class="Field Operator">begin</a> <a id="4256" href="UTxOErr.HoareLogic.html#4117" class="Bound">PlR</a><a id="4259" class="Symbol">)</a> <a id="4261" href="UTxOErr.HoareLogic.html#4243" class="Bound">Ps′</a>

  <a id="4268" class="Comment">-- step′ syntax</a>
  <a id="HoareReasoning._~⟨_∶-_⟩++_"></a><a id="4286" href="UTxOErr.HoareLogic.html#4286" class="Function Operator">_~⟨_∶-_⟩++_</a> <a id="4298" class="Symbol">:</a> <a id="4300" class="Symbol">∀</a> <a id="4302" href="UTxOErr.HoareLogic.html#4302" class="Bound">P′</a> <a id="4305" class="Symbol">→</a> <a id="4307" class="Symbol">(</a><a id="4308" href="UTxOErr.HoareLogic.html#4308" class="Bound">l</a> <a id="4310" class="Symbol">:</a> <a id="4312" href="Common.html#1622" class="Function">L</a><a id="4313" class="Symbol">)</a> <a id="4315" class="Symbol">→</a> <a id="4317" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">ℝ⟨</a> <a id="4320" href="UTxOErr.HoareLogic.html#4302" class="Bound">P′</a> <a id="4323" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟩</a> <a id="4325" href="UTxOErr.HoareLogic.html#4308" class="Bound">l</a> <a id="4327" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟨</a> <a id="4329" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="4331" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟩</a> <a id="4333" class="Symbol">→</a> <a id="4335" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">ℝ⟨</a> <a id="4338" href="UTxOErr.HoareLogic.html#732" class="Generalizable">P</a> <a id="4340" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟩</a> <a id="4342" href="UTxOErr.Ledger.html#655" class="Generalizable">l′</a> <a id="4345" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟨</a> <a id="4347" href="UTxOErr.HoareLogic.html#754" class="Generalizable">R</a> <a id="4349" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟩</a> <a id="4351" class="Symbol">→</a> <a id="4353" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">ℝ⟨</a> <a id="4356" href="UTxOErr.HoareLogic.html#4302" class="Bound">P′</a> <a id="4359" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟩</a> <a id="4361" href="UTxOErr.HoareLogic.html#4308" class="Bound">l</a> <a id="4363" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="4366" href="UTxOErr.Ledger.html#655" class="Generalizable">l′</a> <a id="4369" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟨</a> <a id="4371" href="UTxOErr.HoareLogic.html#754" class="Generalizable">R</a> <a id="4373" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟩</a>
  <a id="4377" href="UTxOErr.HoareLogic.html#4377" class="Bound">P′</a> <a id="4380" href="UTxOErr.HoareLogic.html#4286" class="Function Operator">~⟨</a> <a id="4383" href="UTxOErr.HoareLogic.html#4383" class="Bound">l</a> <a id="4385" href="UTxOErr.HoareLogic.html#4286" class="Function Operator">∶-</a> <a id="4388" href="UTxOErr.HoareLogic.html#4388" class="Bound">H</a> <a id="4390" href="UTxOErr.HoareLogic.html#4286" class="Function Operator">⟩++</a> <a id="4394" href="UTxOErr.HoareLogic.html#4394" class="Bound">PlR</a> <a id="4398" class="Symbol">=</a> <a id="4400" href="UTxOErr.HoareLogic.html#3541" class="InductiveConstructor Operator">mkℝ</a> <a id="4404" href="UTxOErr.HoareLogic.html#2863" class="Function">hoare-step′</a> <a id="4416" class="Symbol">{</a><a id="4417" class="Argument">l</a> <a id="4419" class="Symbol">=</a> <a id="4421" href="UTxOErr.HoareLogic.html#4383" class="Bound">l</a><a id="4422" class="Symbol">}</a> <a id="4424" class="Symbol">(</a><a id="4425" href="UTxOErr.HoareLogic.html#3556" class="Field Operator">begin</a> <a id="4431" href="UTxOErr.HoareLogic.html#4388" class="Bound">H</a><a id="4432" class="Symbol">)</a> <a id="4434" class="Symbol">(</a><a id="4435" href="UTxOErr.HoareLogic.html#3556" class="Field Operator">begin</a> <a id="4441" href="UTxOErr.HoareLogic.html#4394" class="Bound">PlR</a><a id="4444" class="Symbol">)</a>

  <a id="HoareReasoning._∎"></a><a id="4449" href="UTxOErr.HoareLogic.html#4449" class="Function Operator">_∎</a> <a id="4452" class="Symbol">:</a> <a id="4454" class="Symbol">∀</a> <a id="4456" href="UTxOErr.HoareLogic.html#4456" class="Bound">P</a> <a id="4458" class="Symbol">→</a> <a id="4460" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">ℝ⟨</a> <a id="4463" href="UTxOErr.HoareLogic.html#4456" class="Bound">P</a> <a id="4465" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟩</a> <a id="4467" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="4470" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟨</a> <a id="4472" href="UTxOErr.HoareLogic.html#4456" class="Bound">P</a> <a id="4474" href="UTxOErr.HoareLogic.html#3463" class="Record Operator">⟩</a>
  <a id="4478" href="UTxOErr.HoareLogic.html#4478" class="Bound">p</a> <a id="4480" href="UTxOErr.HoareLogic.html#4449" class="Function Operator">∎</a> <a id="4482" class="Symbol">=</a> <a id="4484" href="UTxOErr.HoareLogic.html#3541" class="InductiveConstructor Operator">mkℝ</a> <a id="4488" href="UTxOErr.HoareLogic.html#1461" class="Function">hoare-base</a> <a id="4499" class="Symbol">{</a><a id="4500" class="Argument">P</a> <a id="4502" class="Symbol">=</a> <a id="4504" href="UTxOErr.HoareLogic.html#4478" class="Bound">p</a><a id="4505" class="Symbol">}</a>
</pre></body></html>