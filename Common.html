<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Common</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/hoare-ledgers/tree/master/Common.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">-----------------------------------------------</a>
<a id="49" class="Comment">-- ** Common definition for UTxO-based ledgers.</a>

<a id="98" class="Keyword">module</a> <a id="105" href="Common.html" class="Module">Common</a> <a id="112" class="Keyword">where</a>

<a id="119" class="Keyword">open</a> <a id="124" class="Keyword">import</a> <a id="131" href="Prelude.Init.html" class="Module">Prelude.Init</a> <a id="144" class="Keyword">renaming</a> <a id="153" class="Symbol">(</a><a id="154" class="Keyword">module</a> <a id="161" href="Prelude.Init.html#6013" class="Module">L</a> <a id="163" class="Symbol">to</a> <a id="166" class="Module">ğ•ƒ</a><a id="167" class="Symbol">)</a>
<a id="169" class="Keyword">open</a> <a id="174" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="184" class="Keyword">open</a> <a id="189" href="Prelude.Init.html#7118" class="Module">ğ•ƒ.Mem</a>
<a id="195" class="Keyword">open</a> <a id="200" class="Keyword">import</a> <a id="207" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="221" class="Keyword">open</a> <a id="226" class="Keyword">import</a> <a id="233" href="Prelude.Functor.html" class="Module">Prelude.Functor</a>
<a id="249" class="Keyword">open</a> <a id="254" class="Keyword">import</a> <a id="261" href="Prelude.Semigroup.html" class="Module">Prelude.Semigroup</a><a id="278" class="Symbol">;</a> <a id="280" class="Keyword">open</a> <a id="285" class="Keyword">import</a> <a id="292" href="Prelude.Monoid.html" class="Module">Prelude.Monoid</a>
<a id="307" class="Keyword">open</a> <a id="312" class="Keyword">import</a> <a id="319" href="Prelude.Lists.Sums.html" class="Module">Prelude.Lists.Sums</a>
<a id="338" class="Keyword">open</a> <a id="343" class="Keyword">import</a> <a id="350" href="Prelude.Lists.Membership.html" class="Module">Prelude.Lists.Membership</a>

<a id="Value"></a><a id="376" href="Common.html#376" class="Function">Value</a>   <a id="384" class="Symbol">=</a> <a id="386" href="Agda.Builtin.Nat.html#186" class="Datatype">â„•</a>
<a id="HashId"></a><a id="388" href="Common.html#388" class="Function">HashId</a>  <a id="396" class="Symbol">=</a> <a id="398" href="Agda.Builtin.Nat.html#186" class="Datatype">â„•</a>
<a id="Address"></a><a id="400" href="Common.html#400" class="Function">Address</a> <a id="408" class="Symbol">=</a> <a id="410" href="Common.html#388" class="Function">HashId</a>
<a id="417" class="Keyword">postulate</a> <a id="_â™¯"></a><a id="427" href="Common.html#427" class="Postulate Operator">_â™¯</a> <a id="430" class="Symbol">:</a> <a id="432" class="Symbol">âˆ€</a> <a id="434" class="Symbol">{</a><a id="435" href="Common.html#435" class="Bound">A</a> <a id="437" class="Symbol">:</a> <a id="439" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="444" href="Prelude.Init.html#261" class="Generalizable">â„“</a><a id="445" class="Symbol">}</a> <a id="447" class="Symbol">â†’</a> <a id="449" href="Common.html#435" class="Bound">A</a> <a id="451" class="Symbol">â†’</a> <a id="453" href="Common.html#388" class="Function">HashId</a>

<a id="DATA"></a><a id="461" href="Common.html#461" class="Function">DATA</a> <a id="466" class="Symbol">=</a> <a id="468" href="Agda.Builtin.Nat.html#186" class="Datatype">â„•</a> <a id="470" class="Comment">-- T0D0: more realistic data for redeemers</a>

<a id="âˆ‘"></a><a id="514" href="Common.html#514" class="Function">âˆ‘</a> <a id="516" class="Symbol">:</a> <a id="518" class="Symbol">âˆ€</a> <a id="520" class="Symbol">{</a><a id="521" href="Common.html#521" class="Bound">A</a> <a id="523" class="Symbol">:</a> <a id="525" href="Agda.Primitive.html#320" class="Primitive">Type</a><a id="529" class="Symbol">}</a> <a id="531" class="Symbol">â†’</a> <a id="533" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="538" href="Common.html#521" class="Bound">A</a> <a id="540" class="Symbol">â†’</a> <a id="542" class="Symbol">(</a><a id="543" href="Common.html#521" class="Bound">A</a> <a id="545" class="Symbol">â†’</a> <a id="547" href="Common.html#376" class="Function">Value</a><a id="552" class="Symbol">)</a> <a id="554" class="Symbol">â†’</a> <a id="556" href="Common.html#376" class="Function">Value</a>
<a id="562" href="Common.html#514" class="Function">âˆ‘</a> <a id="564" href="Common.html#564" class="Bound">xs</a> <a id="567" href="Common.html#567" class="Bound">f</a> <a id="569" class="Symbol">=</a> <a id="571" href="Prelude.Lists.Sums.html#295" class="Function">âˆ‘â„•</a> <a id="574" class="Symbol">(</a><a id="575" href="Data.List.Base.html#1553" class="Function">map</a> <a id="579" href="Common.html#567" class="Bound">f</a> <a id="581" href="Common.html#564" class="Bound">xs</a><a id="583" class="Symbol">)</a>

<a id="586" class="Keyword">record</a> <a id="TxOutput"></a><a id="593" href="Common.html#593" class="Record">TxOutput</a> <a id="602" class="Symbol">:</a> <a id="604" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="609" class="Keyword">where</a>
  <a id="617" class="Keyword">constructor</a> <a id="_at_"></a><a id="629" href="Common.html#629" class="InductiveConstructor Operator">_at_</a>
  <a id="636" class="Keyword">field</a> <a id="TxOutput.value"></a><a id="642" href="Common.html#642" class="Field">value</a>    <a id="651" class="Symbol">:</a> <a id="653" href="Common.html#376" class="Function">Value</a>
        <a id="TxOutput.address"></a><a id="667" href="Common.html#667" class="Field">address</a>  <a id="676" class="Symbol">:</a> <a id="678" href="Common.html#400" class="Function">Address</a>
<a id="686" class="Keyword">open</a> <a id="691" href="Common.html#593" class="Module">TxOutput</a> <a id="700" class="Keyword">public</a>
<a id="707" class="Keyword">unquoteDecl</a> <a id="DecEq-TxO"></a><a id="719" href="Common.html#719" class="Function">DecEq-TxO</a> <a id="729" class="Symbol">=</a> <a id="731" href="Prelude.Generics.Deriving.html#1365" class="Macro">DERIVE</a> <a id="738" href="Prelude.DecEq.Core.html#148" class="Record">DecEq</a> <a id="744" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="746" class="Keyword">quote</a> <a id="752" href="Common.html#593" class="Record">TxOutput</a> <a id="761" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="763" href="Common.html#719" class="Function">DecEq-TxO</a> <a id="773" href="Data.List.Base.html#5034" class="Function Operator">]</a>

<a id="776" class="Keyword">record</a> <a id="InputInfo"></a><a id="783" href="Common.html#783" class="Record">InputInfo</a> <a id="793" class="Symbol">:</a> <a id="795" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="800" class="Keyword">where</a>
  <a id="808" class="Keyword">field</a> <a id="InputInfo.outputRef"></a><a id="814" href="Common.html#814" class="Field">outputRef</a>     <a id="828" class="Symbol">:</a> <a id="830" href="Common.html#593" class="Record">TxOutput</a>
        <a id="847" class="Comment">-- NB: the actual implementation also keeps references here</a>
        <a id="InputInfo.validatorHash"></a><a id="915" href="Common.html#915" class="Field">validatorHash</a> <a id="929" class="Symbol">:</a> <a id="931" href="Common.html#388" class="Function">HashId</a>
        <a id="InputInfo.redeemerHash"></a><a id="946" href="Common.html#946" class="Field">redeemerHash</a>  <a id="960" class="Symbol">:</a> <a id="962" href="Common.html#388" class="Function">HashId</a>
<a id="969" class="Keyword">unquoteDecl</a> <a id="DecEq-InputInfo"></a><a id="981" href="Common.html#981" class="Function">DecEq-InputInfo</a> <a id="997" class="Symbol">=</a> <a id="999" href="Prelude.Generics.Deriving.html#1365" class="Macro">DERIVE</a> <a id="1006" href="Prelude.DecEq.Core.html#148" class="Record">DecEq</a> <a id="1012" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="1014" class="Keyword">quote</a> <a id="1020" href="Common.html#783" class="Record">InputInfo</a> <a id="1030" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1032" href="Common.html#981" class="Function">DecEq-InputInfo</a> <a id="1048" href="Data.List.Base.html#5034" class="Function Operator">]</a>

<a id="1051" class="Keyword">record</a> <a id="TxInfo"></a><a id="1058" href="Common.html#1058" class="Record">TxInfo</a> <a id="1065" class="Symbol">:</a> <a id="1067" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1072" class="Keyword">where</a>
  <a id="1080" class="Keyword">field</a> <a id="TxInfo.inputs"></a><a id="1086" href="Common.html#1086" class="Field">inputs</a>  <a id="1094" class="Symbol">:</a> <a id="1096" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1101" href="Common.html#783" class="Record">InputInfo</a>
        <a id="TxInfo.outputs"></a><a id="1119" href="Common.html#1119" class="Field">outputs</a> <a id="1127" class="Symbol">:</a> <a id="1129" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1134" href="Common.html#593" class="Record">TxOutput</a>
        <a id="TxInfo.forge"></a><a id="1151" href="Common.html#1151" class="Field">forge</a>   <a id="1159" class="Symbol">:</a> <a id="1161" href="Common.html#376" class="Function">Value</a>
<a id="1167" class="Keyword">unquoteDecl</a> <a id="DecEq-TxInfo"></a><a id="1179" href="Common.html#1179" class="Function">DecEq-TxInfo</a> <a id="1192" class="Symbol">=</a> <a id="1194" href="Prelude.Generics.Deriving.html#1365" class="Macro">DERIVE</a> <a id="1201" href="Prelude.DecEq.Core.html#148" class="Record">DecEq</a> <a id="1207" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="1209" class="Keyword">quote</a> <a id="1215" href="Common.html#1058" class="Record">TxInfo</a> <a id="1222" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1224" href="Common.html#1179" class="Function">DecEq-TxInfo</a> <a id="1237" href="Data.List.Base.html#5034" class="Function Operator">]</a>

<a id="1240" class="Keyword">module</a> <a id="CommonInfo"></a><a id="1247" href="Common.html#1247" class="Module">CommonInfo</a> <a id="1258" class="Symbol">(</a><a id="1259" href="Common.html#1259" class="Bound">TxOutputRef</a> <a id="1271" class="Symbol">:</a> <a id="1273" href="Agda.Primitive.html#320" class="Primitive">Type</a><a id="1277" class="Symbol">)</a> <a id="1279" class="Keyword">where</a>

  <a id="1288" class="Keyword">record</a> <a id="CommonInfo.TxInput"></a><a id="1295" href="Common.html#1295" class="Record">TxInput</a> <a id="1303" class="Symbol">:</a> <a id="1305" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1310" class="Keyword">where</a>
    <a id="1320" class="Keyword">field</a> <a id="CommonInfo.TxInput.outputRef"></a><a id="1326" href="Common.html#1326" class="Field">outputRef</a> <a id="1336" class="Symbol">:</a> <a id="1338" href="Common.html#1259" class="Bound">TxOutputRef</a>
          <a id="CommonInfo.TxInput.validator"></a><a id="1360" href="Common.html#1360" class="Field">validator</a> <a id="1370" class="Symbol">:</a> <a id="1372" href="Common.html#1058" class="Record">TxInfo</a> <a id="1379" class="Symbol">â†’</a> <a id="1381" href="Common.html#461" class="Function">DATA</a> <a id="1386" class="Symbol">â†’</a> <a id="1388" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
          <a id="CommonInfo.TxInput.redeemer"></a><a id="1403" href="Common.html#1403" class="Field">redeemer</a>  <a id="1413" class="Symbol">:</a> <a id="1415" href="Common.html#461" class="Function">DATA</a>
  <a id="1422" class="Keyword">open</a> <a id="1427" href="Common.html#1295" class="Module">TxInput</a> <a id="1435" class="Keyword">public</a>

  <a id="1445" class="Keyword">record</a> <a id="CommonInfo.Tx"></a><a id="1452" href="Common.html#1452" class="Record">Tx</a> <a id="1455" class="Symbol">:</a> <a id="1457" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1462" class="Keyword">where</a>
    <a id="1472" class="Keyword">field</a> <a id="CommonInfo.Tx.inputs"></a><a id="1478" href="Common.html#1478" class="Field">inputs</a>  <a id="1486" class="Symbol">:</a> <a id="1488" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1493" href="Common.html#1295" class="Record">TxInput</a>
          <a id="CommonInfo.Tx.outputs"></a><a id="1511" href="Common.html#1511" class="Field">outputs</a> <a id="1519" class="Symbol">:</a> <a id="1521" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1526" href="Common.html#593" class="Record">TxOutput</a>
          <a id="CommonInfo.Tx.forge"></a><a id="1545" href="Common.html#1545" class="Field">forge</a>   <a id="1553" class="Symbol">:</a> <a id="1555" href="Common.html#376" class="Function">Value</a>
  <a id="1563" class="Keyword">open</a> <a id="1568" href="Common.html#1452" class="Module">Tx</a> <a id="1571" class="Keyword">public</a>

  <a id="1581" class="Comment">-- A ledger is a list of transactions.</a>
  <a id="CommonInfo.L"></a><a id="1622" href="Common.html#1622" class="Function">L</a> <a id="1624" class="Symbol">=</a> <a id="1626" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1631" href="Common.html#1452" class="Record">Tx</a>
  <a id="1636" class="Comment">-- data L : Type where</a>
  <a id="1661" class="Comment">--   [] : L</a>
  <a id="1675" class="Comment">--   _â¨¾_ : L â†’ Tx â†’ L</a>

  <a id="1700" class="Comment">-- _++Ë˜_ : Opâ‚‚ L</a>
  <a id="1719" class="Comment">-- l ++Ë˜ lâ€² = from (to l ++ to lâ€²)</a>
  <a id="1756" class="Comment">-- _++Ë˜_ : Opâ‚‚ L</a>
  <a id="1775" class="Comment">-- l ++Ë˜ [] = l</a>
  <a id="1793" class="Comment">-- l ++Ë˜ (lâ€² â¨¾ t) = (l ++Ë˜ lâ€²) â¨¾ t</a>

  <a id="1831" class="Comment">-- ++Ë˜-identityË¡ : âˆ€ l â†’ [] ++Ë˜ l â‰¡ l</a>
  <a id="1871" class="Comment">-- ++Ë˜-identityË¡ [] = refl</a>
  <a id="1900" class="Comment">-- ++Ë˜-identityË¡ (l â¨¾ _) rewrite ++Ë˜-identityË¡ l = refl</a>

  <a id="1959" class="Keyword">instance</a>
    <a id="CommonInfo.Semigroup-L"></a><a id="1972" href="Common.html#1972" class="Function">Semigroup-L</a> <a id="1984" class="Symbol">:</a> <a id="1986" href="Prelude.Semigroup.html#185" class="Record">Semigroup</a> <a id="1996" href="Common.html#1622" class="Function">L</a>
    <a id="2002" href="Common.html#1972" class="Function">Semigroup-L</a> <a id="2014" class="Symbol">.</a><a id="2015" href="Prelude.Semigroup.html#251" class="Field Operator">_â—‡_</a> <a id="2019" class="Symbol">=</a> <a id="2021" href="Data.List.Base.html#1819" class="Function Operator">_++_</a>

    <a id="CommonInfo.Monoid-L"></a><a id="2031" href="Common.html#2031" class="Function">Monoid-L</a> <a id="2040" class="Symbol">:</a> <a id="2042" href="Prelude.Monoid.html#159" class="Record">Monoid</a> <a id="2049" href="Common.html#1622" class="Function">L</a>
    <a id="2055" href="Common.html#2031" class="Function">Monoid-L</a> <a id="2064" class="Symbol">.</a><a id="2065" href="Prelude.Monoid.html#222" class="Field">Îµ</a> <a id="2067" class="Symbol">=</a> <a id="2069" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>

  <a id="2075" class="Comment">-- Auxiliary definitions.</a>

  <a id="CommonInfo.outputRefs"></a><a id="2104" href="Common.html#2104" class="Function">outputRefs</a> <a id="2115" class="Symbol">:</a> <a id="2117" href="Common.html#1452" class="Record">Tx</a> <a id="2120" class="Symbol">â†’</a> <a id="2122" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2127" href="Common.html#1259" class="Bound">TxOutputRef</a>
  <a id="2141" href="Common.html#2104" class="Function">outputRefs</a> <a id="2152" class="Symbol">=</a> <a id="2154" href="Data.List.Base.html#1553" class="Function">map</a> <a id="2158" href="Common.html#1326" class="Field">outputRef</a> <a id="2168" href="Function.Base.html#1040" class="Function Operator">âˆ˜</a> <a id="2170" href="Common.html#1478" class="Field">inputs</a>

  <a id="CommonInfo.Resolved"></a><a id="2180" href="Common.html#2180" class="Function">Resolved</a> <a id="2189" class="Symbol">:</a> <a id="2191" href="Prelude.Init.html#13317" class="Function">Predâ‚€</a> <a id="2197" href="Common.html#1452" class="Record">Tx</a>
  <a id="2202" href="Common.html#2180" class="Function">Resolved</a> <a id="2211" href="Common.html#2211" class="Bound">tx</a> <a id="2214" class="Symbol">=</a> <a id="2216" class="Symbol">âˆ€</a> <a id="2218" class="Symbol">{</a><a id="2219" href="Common.html#2219" class="Bound">r</a><a id="2220" class="Symbol">}</a> <a id="2222" class="Symbol">â†’</a> <a id="2224" href="Common.html#2219" class="Bound">r</a> <a id="2226" href="Data.List.Membership.Setoid.html#896" class="Function Operator">âˆˆ</a> <a id="2228" href="Common.html#2104" class="Function">outputRefs</a> <a id="2239" href="Common.html#2211" class="Bound">tx</a> <a id="2242" class="Symbol">â†’</a> <a id="2244" href="Common.html#593" class="Record">TxOutput</a>

  <a id="CommonInfo.ResolvedL"></a><a id="2256" href="Common.html#2256" class="Function">ResolvedL</a> <a id="2266" class="Symbol">=</a> <a id="2268" href="Agda.Builtin.Sigma.html#148" class="Record">Î£</a> <a id="2270" href="Common.html#1622" class="Function">L</a> <a id="2272" class="Symbol">(</a><a id="2273" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="2277" href="Common.html#2180" class="Function">Resolved</a><a id="2285" class="Symbol">)</a>

  <a id="CommonInfo.ResolvedInput"></a><a id="2290" href="Common.html#2290" class="Function">ResolvedInput</a>  <a id="2305" class="Symbol">=</a> <a id="2307" href="Common.html#1295" class="Record">TxInput</a> <a id="2315" href="Data.Product.html#1176" class="Function Operator">Ã—</a> <a id="2317" href="Common.html#593" class="Record">TxOutput</a>
  <a id="CommonInfo.ResolvedInputs"></a><a id="2328" href="Common.html#2328" class="Function">ResolvedInputs</a> <a id="2343" class="Symbol">=</a> <a id="2345" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2350" href="Common.html#2290" class="Function">ResolvedInput</a>

  <a id="CommonInfo.resolveInputs"></a><a id="2367" href="Common.html#2367" class="Function">resolveInputs</a> <a id="2381" class="Symbol">:</a> <a id="2383" class="Symbol">âˆ€</a> <a id="2385" href="Common.html#2385" class="Bound">tx</a> <a id="2388" class="Symbol">â†’</a> <a id="2390" href="Common.html#2180" class="Function">Resolved</a> <a id="2399" href="Common.html#2385" class="Bound">tx</a> <a id="2402" class="Symbol">â†’</a> <a id="2404" href="Common.html#2328" class="Function">ResolvedInputs</a>
  <a id="2421" href="Common.html#2367" class="Function">resolveInputs</a> <a id="2435" href="Common.html#2435" class="Bound">tx</a> <a id="2438" href="Common.html#2438" class="Bound">resolvedTx</a> <a id="2449" class="Symbol">=</a> <a id="2451" href="Data.List.Membership.Setoid.html#1137" class="Function">mapWithâˆˆ</a> <a id="2460" class="Symbol">(</a><a id="2461" href="Common.html#2435" class="Bound">tx</a> <a id="2464" class="Symbol">.</a><a id="2465" href="Common.html#1478" class="Field">inputs</a><a id="2471" class="Symbol">)</a> <a id="2473" class="Symbol">Î»</a> <a id="2475" class="Symbol">{</a><a id="2476" href="Common.html#2476" class="Bound">i</a><a id="2477" class="Symbol">}</a> <a id="2479" href="Common.html#2479" class="Bound">iâˆˆ</a> <a id="2482" class="Symbol">â†’</a>
    <a id="2488" href="Common.html#2476" class="Bound">i</a> <a id="2490" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2492" href="Common.html#2438" class="Bound">resolvedTx</a> <a id="2503" class="Symbol">(</a><a id="2504" href="Data.List.Membership.Propositional.Properties.html#3377" class="Function">âˆˆ-mapâº</a> <a id="2511" href="Common.html#1326" class="Field">outputRef</a> <a id="2521" href="Common.html#2479" class="Bound">iâˆˆ</a><a id="2523" class="Symbol">)</a>

  <a id="CommonInfo.resolvedâˆˆâ»"></a><a id="2528" href="Common.html#2528" class="Function">resolvedâˆˆâ»</a> <a id="2539" class="Symbol">:</a> <a id="2541" class="Symbol">âˆ€</a> <a id="2543" class="Symbol">{</a><a id="2544" href="Common.html#2544" class="Bound">io</a><a id="2546" class="Symbol">}</a> <a id="2548" href="Common.html#2548" class="Bound">tx</a> <a id="2551" class="Symbol">â†’</a> <a id="2553" class="Symbol">(</a><a id="2554" href="Common.html#2554" class="Bound">resolvedTx</a> <a id="2565" class="Symbol">:</a> <a id="2567" href="Common.html#2180" class="Function">Resolved</a> <a id="2576" href="Common.html#2548" class="Bound">tx</a><a id="2578" class="Symbol">)</a>
    <a id="2584" class="Symbol">â†’</a> <a id="2586" href="Common.html#2544" class="Bound">io</a> <a id="2589" href="Data.List.Membership.Setoid.html#896" class="Function Operator">âˆˆ</a> <a id="2591" href="Common.html#2367" class="Function">resolveInputs</a> <a id="2605" href="Common.html#2548" class="Bound">tx</a> <a id="2608" href="Common.html#2554" class="Bound">resolvedTx</a>
    <a id="2623" class="Symbol">â†’</a> <a id="2625" href="Common.html#2544" class="Bound">io</a> <a id="2628" class="Symbol">.</a><a id="2629" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="2635" href="Data.List.Membership.Setoid.html#896" class="Function Operator">âˆˆ</a> <a id="2637" href="Common.html#2548" class="Bound">tx</a> <a id="2640" class="Symbol">.</a><a id="2641" href="Common.html#1478" class="Field">inputs</a>
  <a id="2650" href="Common.html#2528" class="Function">resolvedâˆˆâ»</a> <a id="2661" class="Symbol">_</a> <a id="2663" class="Symbol">_</a> <a id="2665" href="Common.html#2665" class="Bound">xâˆˆ</a>
    <a id="2672" class="Keyword">with</a> <a id="2677" class="Symbol">_</a> <a id="2679" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2681" href="Common.html#2681" class="Bound">iâˆˆ</a> <a id="2684" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2686" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> â† <a id="2693" href="Prelude.Lists.Membership.html#4455" class="Function">âˆˆ-mapWithâˆˆâ»</a> <a id="2705" href="Common.html#2665" class="Bound">xâˆˆ</a>
    <a id="2712" class="Symbol">=</a> <a id="2714" href="Common.html#2681" class="Bound">iâˆˆ</a>

  <a id="CommonInfo.mkInputInfo"></a><a id="2720" href="Common.html#2720" class="Function">mkInputInfo</a> <a id="2732" class="Symbol">:</a> <a id="2734" href="Common.html#2290" class="Function">ResolvedInput</a> <a id="2748" class="Symbol">â†’</a> <a id="2750" href="Common.html#783" class="Record">InputInfo</a>
  <a id="2762" href="Common.html#2720" class="Function">mkInputInfo</a> <a id="2774" class="Symbol">(</a><a id="2775" href="Common.html#2775" class="Bound">i</a> <a id="2777" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2779" href="Common.html#2779" class="Bound">o</a><a id="2780" class="Symbol">)</a> <a id="2782" class="Symbol">=</a> <a id="2784" class="Keyword">record</a>
    <a id="2795" class="Symbol">{</a> <a id="2797" href="Common.html#814" class="Field">outputRef</a>     <a id="2811" class="Symbol">=</a> <a id="2813" href="Common.html#2779" class="Bound">o</a>
    <a id="2819" class="Symbol">;</a> <a id="2821" href="Common.html#915" class="Field">validatorHash</a> <a id="2835" class="Symbol">=</a> <a id="2837" href="Common.html#2775" class="Bound">i</a> <a id="2839" class="Symbol">.</a><a id="2840" href="Common.html#1360" class="Field">validator</a> <a id="2850" href="Common.html#427" class="Postulate Operator">â™¯</a>
    <a id="2856" class="Symbol">;</a> <a id="2858" href="Common.html#946" class="Field">redeemerHash</a>  <a id="2872" class="Symbol">=</a> <a id="2874" href="Common.html#2775" class="Bound">i</a> <a id="2876" class="Symbol">.</a><a id="2877" href="Common.html#1403" class="Field">redeemer</a> <a id="2886" href="Common.html#427" class="Postulate Operator">â™¯</a> <a id="2888" class="Symbol">}</a>

  <a id="CommonInfo.mkTxInfo"></a><a id="2893" href="Common.html#2893" class="Function">mkTxInfo</a> <a id="2902" class="Symbol">:</a> <a id="2904" class="Symbol">âˆ€</a> <a id="2906" class="Symbol">(</a><a id="2907" href="Common.html#2907" class="Bound">tx</a> <a id="2910" class="Symbol">:</a> <a id="2912" href="Common.html#1452" class="Record">Tx</a><a id="2914" class="Symbol">)</a> <a id="2916" class="Symbol">â†’</a> <a id="2918" href="Common.html#2180" class="Function">Resolved</a> <a id="2927" href="Common.html#2907" class="Bound">tx</a> <a id="2930" class="Symbol">â†’</a> <a id="2932" href="Common.html#1058" class="Record">TxInfo</a>
  <a id="2941" href="Common.html#2893" class="Function">mkTxInfo</a> <a id="2950" href="Common.html#2950" class="Bound">tx</a> <a id="2953" href="Common.html#2953" class="Bound">resolvedTx</a> <a id="2964" class="Symbol">=</a> <a id="2966" class="Keyword">record</a>
    <a id="2977" class="Symbol">{</a> <a id="2979" href="Common.html#1086" class="Field">inputs</a>  <a id="2987" class="Symbol">=</a> <a id="2989" href="Common.html#2720" class="Function">mkInputInfo</a> <a id="3001" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="3005" href="Common.html#2367" class="Function">resolveInputs</a> <a id="3019" href="Common.html#2950" class="Bound">tx</a> <a id="3022" href="Common.html#2953" class="Bound">resolvedTx</a>
    <a id="3037" class="Symbol">;</a> <a id="3039" href="Common.html#1119" class="Field">outputs</a> <a id="3047" class="Symbol">=</a> <a id="3049" href="Common.html#2950" class="Bound">tx</a> <a id="3052" class="Symbol">.</a><a id="3053" href="Common.html#1511" class="Field">outputs</a>
    <a id="3065" class="Symbol">;</a> <a id="3067" href="Common.html#1151" class="Field">forge</a>   <a id="3075" class="Symbol">=</a> <a id="3077" href="Common.html#2950" class="Bound">tx</a> <a id="3080" class="Symbol">.</a><a id="3081" href="Common.html#1545" class="Field">forge</a> <a id="3087" class="Symbol">}</a>

<a id="All-syntax"></a><a id="3090" href="Common.html#3090" class="Function">All-syntax</a> <a id="3101" class="Symbol">=</a> <a id="3103" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a>
<a id="3107" class="Keyword">syntax</a> <a id="3114" href="Common.html#3090" class="Function">All-syntax</a> <a id="3125" class="Symbol">(Î»</a> <a id="3128" class="Bound">i</a> <a id="3130" class="Symbol">â†’</a> <a id="3132" class="Bound">P</a><a id="3133" class="Symbol">)</a> <a id="3135" class="Bound">xs</a> <a id="3138" class="Symbol">=</a> <a id="3140" class="Function">âˆ€[</a> <a id="3143" class="Bound">i</a> <a id="3145" class="Function">âˆˆ</a> <a id="3147" class="Bound">xs</a> <a id="3150" class="Function">]</a> <a id="3152" class="Bound">P</a>

<a id="Any-syntax"></a><a id="3155" href="Common.html#3155" class="Function">Any-syntax</a> <a id="3166" class="Symbol">=</a> <a id="3168" href="Data.List.Relation.Unary.Any.html#1165" class="Datatype">Any</a>
<a id="3172" class="Keyword">syntax</a> <a id="3179" href="Common.html#3155" class="Function">Any-syntax</a> <a id="3190" class="Symbol">(Î»</a> <a id="3193" class="Bound">i</a> <a id="3195" class="Symbol">â†’</a> <a id="3197" class="Bound">P</a><a id="3198" class="Symbol">)</a> <a id="3200" class="Bound">xs</a> <a id="3203" class="Symbol">=</a> <a id="3205" class="Function">âˆƒ[</a> <a id="3208" class="Bound">i</a> <a id="3210" class="Function">âˆˆ</a> <a id="3212" class="Bound">xs</a> <a id="3215" class="Function">]</a> <a id="3217" class="Bound">P</a>
</pre></body></html>